(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();var Ih={exports:{}},ua={},Sh={exports:{}},Ne={};var sm;function Jv(){if(sm)return Ne;sm=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),k=Symbol.iterator;function M(D){return D===null||typeof D!="object"?null:(D=k&&D[k]||D["@@iterator"],typeof D=="function"?D:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,J={};function q(D,$,de){this.props=D,this.context=$,this.refs=J,this.updater=de||z}q.prototype.isReactComponent={},q.prototype.setState=function(D,$){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,$,"setState")},q.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function Ee(){}Ee.prototype=q.prototype;function ye(D,$,de){this.props=D,this.context=$,this.refs=J,this.updater=de||z}var ve=ye.prototype=new Ee;ve.constructor=ye,Y(ve,q.prototype),ve.isPureReactComponent=!0;var Ce=Array.isArray,qe=Object.prototype.hasOwnProperty,Pe={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function I(D,$,de){var B,te={},se=null,ne=null;if($!=null)for(B in $.ref!==void 0&&(ne=$.ref),$.key!==void 0&&(se=""+$.key),$)qe.call($,B)&&!P.hasOwnProperty(B)&&(te[B]=$[B]);var _e=arguments.length-2;if(_e===1)te.children=de;else if(1<_e){for(var Te=Array(_e),xe=0;xe<_e;xe++)Te[xe]=arguments[xe+2];te.children=Te}if(D&&D.defaultProps)for(B in _e=D.defaultProps,_e)te[B]===void 0&&(te[B]=_e[B]);return{$$typeof:i,type:D,key:se,ref:ne,props:te,_owner:Pe.current}}function A(D,$){return{$$typeof:i,type:D.type,key:$,ref:D.ref,props:D.props,_owner:D._owner}}function C(D){return typeof D=="object"&&D!==null&&D.$$typeof===i}function x(D){var $={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(de){return $[de]})}var V=/\/+/g;function S(D,$){return typeof D=="object"&&D!==null&&D.key!=null?x(""+D.key):$.toString(36)}function Ze(D,$,de,B,te){var se=typeof D;(se==="undefined"||se==="boolean")&&(D=null);var ne=!1;if(D===null)ne=!0;else switch(se){case"string":case"number":ne=!0;break;case"object":switch(D.$$typeof){case i:case e:ne=!0}}if(ne)return ne=D,te=te(ne),D=B===""?"."+S(ne,0):B,Ce(te)?(de="",D!=null&&(de=D.replace(V,"$&/")+"/"),Ze(te,$,de,"",function(xe){return xe})):te!=null&&(C(te)&&(te=A(te,de+(!te.key||ne&&ne.key===te.key?"":(""+te.key).replace(V,"$&/")+"/")+D)),$.push(te)),1;if(ne=0,B=B===""?".":B+":",Ce(D))for(var _e=0;_e<D.length;_e++){se=D[_e];var Te=B+S(se,_e);ne+=Ze(se,$,de,Te,te)}else if(Te=M(D),typeof Te=="function")for(D=Te.call(D),_e=0;!(se=D.next()).done;)se=se.value,Te=B+S(se,_e++),ne+=Ze(se,$,de,Te,te);else if(se==="object")throw $=String(D),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return ne}function at(D,$,de){if(D==null)return D;var B=[],te=0;return Ze(D,B,"","",function(se){return $.call(de,se,te++)}),B}function lt(D){if(D._status===-1){var $=D._result;$=$(),$.then(function(de){(D._status===0||D._status===-1)&&(D._status=1,D._result=de)},function(de){(D._status===0||D._status===-1)&&(D._status=2,D._result=de)}),D._status===-1&&(D._status=0,D._result=$)}if(D._status===1)return D._result.default;throw D._result}var je={current:null},ee={transition:null},fe={ReactCurrentDispatcher:je,ReactCurrentBatchConfig:ee,ReactCurrentOwner:Pe};function re(){throw Error("act(...) is not supported in production builds of React.")}return Ne.Children={map:at,forEach:function(D,$,de){at(D,function(){$.apply(this,arguments)},de)},count:function(D){var $=0;return at(D,function(){$++}),$},toArray:function(D){return at(D,function($){return $})||[]},only:function(D){if(!C(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Ne.Component=q,Ne.Fragment=t,Ne.Profiler=o,Ne.PureComponent=ye,Ne.StrictMode=s,Ne.Suspense=y,Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fe,Ne.act=re,Ne.cloneElement=function(D,$,de){if(D==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+D+".");var B=Y({},D.props),te=D.key,se=D.ref,ne=D._owner;if($!=null){if($.ref!==void 0&&(se=$.ref,ne=Pe.current),$.key!==void 0&&(te=""+$.key),D.type&&D.type.defaultProps)var _e=D.type.defaultProps;for(Te in $)qe.call($,Te)&&!P.hasOwnProperty(Te)&&(B[Te]=$[Te]===void 0&&_e!==void 0?_e[Te]:$[Te])}var Te=arguments.length-2;if(Te===1)B.children=de;else if(1<Te){_e=Array(Te);for(var xe=0;xe<Te;xe++)_e[xe]=arguments[xe+2];B.children=_e}return{$$typeof:i,type:D.type,key:te,ref:se,props:B,_owner:ne}},Ne.createContext=function(D){return D={$$typeof:h,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},D.Provider={$$typeof:u,_context:D},D.Consumer=D},Ne.createElement=I,Ne.createFactory=function(D){var $=I.bind(null,D);return $.type=D,$},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(D){return{$$typeof:m,render:D}},Ne.isValidElement=C,Ne.lazy=function(D){return{$$typeof:E,_payload:{_status:-1,_result:D},_init:lt}},Ne.memo=function(D,$){return{$$typeof:v,type:D,compare:$===void 0?null:$}},Ne.startTransition=function(D){var $=ee.transition;ee.transition={};try{D()}finally{ee.transition=$}},Ne.unstable_act=re,Ne.useCallback=function(D,$){return je.current.useCallback(D,$)},Ne.useContext=function(D){return je.current.useContext(D)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(D){return je.current.useDeferredValue(D)},Ne.useEffect=function(D,$){return je.current.useEffect(D,$)},Ne.useId=function(){return je.current.useId()},Ne.useImperativeHandle=function(D,$,de){return je.current.useImperativeHandle(D,$,de)},Ne.useInsertionEffect=function(D,$){return je.current.useInsertionEffect(D,$)},Ne.useLayoutEffect=function(D,$){return je.current.useLayoutEffect(D,$)},Ne.useMemo=function(D,$){return je.current.useMemo(D,$)},Ne.useReducer=function(D,$,de){return je.current.useReducer(D,$,de)},Ne.useRef=function(D){return je.current.useRef(D)},Ne.useState=function(D){return je.current.useState(D)},Ne.useSyncExternalStore=function(D,$,de){return je.current.useSyncExternalStore(D,$,de)},Ne.useTransition=function(){return je.current.useTransition()},Ne.version="18.3.1",Ne}var om;function ud(){return om||(om=1,Sh.exports=Jv()),Sh.exports}var am;function Zv(){if(am)return ua;am=1;var i=ud(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function h(m,y,v){var E,k={},M=null,z=null;v!==void 0&&(M=""+v),y.key!==void 0&&(M=""+y.key),y.ref!==void 0&&(z=y.ref);for(E in y)s.call(y,E)&&!u.hasOwnProperty(E)&&(k[E]=y[E]);if(m&&m.defaultProps)for(E in y=m.defaultProps,y)k[E]===void 0&&(k[E]=y[E]);return{$$typeof:e,type:m,key:M,ref:z,props:k,_owner:o.current}}return ua.Fragment=t,ua.jsx=h,ua.jsxs=h,ua}var lm;function e0(){return lm||(lm=1,Ih.exports=Zv()),Ih.exports}var U=e0(),dt=ud(),tu={},Ah={exports:{}},tn={},Rh={exports:{}},kh={};var um;function t0(){return um||(um=1,(function(i){function e(ee,fe){var re=ee.length;ee.push(fe);e:for(;0<re;){var D=re-1>>>1,$=ee[D];if(0<o($,fe))ee[D]=fe,ee[re]=$,re=D;else break e}}function t(ee){return ee.length===0?null:ee[0]}function s(ee){if(ee.length===0)return null;var fe=ee[0],re=ee.pop();if(re!==fe){ee[0]=re;e:for(var D=0,$=ee.length,de=$>>>1;D<de;){var B=2*(D+1)-1,te=ee[B],se=B+1,ne=ee[se];if(0>o(te,re))se<$&&0>o(ne,te)?(ee[D]=ne,ee[se]=re,D=se):(ee[D]=te,ee[B]=re,D=B);else if(se<$&&0>o(ne,re))ee[D]=ne,ee[se]=re,D=se;else break e}}return fe}function o(ee,fe){var re=ee.sortIndex-fe.sortIndex;return re!==0?re:ee.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var y=[],v=[],E=1,k=null,M=3,z=!1,Y=!1,J=!1,q=typeof setTimeout=="function"?setTimeout:null,Ee=typeof clearTimeout=="function"?clearTimeout:null,ye=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ve(ee){for(var fe=t(v);fe!==null;){if(fe.callback===null)s(v);else if(fe.startTime<=ee)s(v),fe.sortIndex=fe.expirationTime,e(y,fe);else break;fe=t(v)}}function Ce(ee){if(J=!1,ve(ee),!Y)if(t(y)!==null)Y=!0,lt(qe);else{var fe=t(v);fe!==null&&je(Ce,fe.startTime-ee)}}function qe(ee,fe){Y=!1,J&&(J=!1,Ee(I),I=-1),z=!0;var re=M;try{for(ve(fe),k=t(y);k!==null&&(!(k.expirationTime>fe)||ee&&!x());){var D=k.callback;if(typeof D=="function"){k.callback=null,M=k.priorityLevel;var $=D(k.expirationTime<=fe);fe=i.unstable_now(),typeof $=="function"?k.callback=$:k===t(y)&&s(y),ve(fe)}else s(y);k=t(y)}if(k!==null)var de=!0;else{var B=t(v);B!==null&&je(Ce,B.startTime-fe),de=!1}return de}finally{k=null,M=re,z=!1}}var Pe=!1,P=null,I=-1,A=5,C=-1;function x(){return!(i.unstable_now()-C<A)}function V(){if(P!==null){var ee=i.unstable_now();C=ee;var fe=!0;try{fe=P(!0,ee)}finally{fe?S():(Pe=!1,P=null)}}else Pe=!1}var S;if(typeof ye=="function")S=function(){ye(V)};else if(typeof MessageChannel<"u"){var Ze=new MessageChannel,at=Ze.port2;Ze.port1.onmessage=V,S=function(){at.postMessage(null)}}else S=function(){q(V,0)};function lt(ee){P=ee,Pe||(Pe=!0,S())}function je(ee,fe){I=q(function(){ee(i.unstable_now())},fe)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(ee){ee.callback=null},i.unstable_continueExecution=function(){Y||z||(Y=!0,lt(qe))},i.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<ee?Math.floor(1e3/ee):5},i.unstable_getCurrentPriorityLevel=function(){return M},i.unstable_getFirstCallbackNode=function(){return t(y)},i.unstable_next=function(ee){switch(M){case 1:case 2:case 3:var fe=3;break;default:fe=M}var re=M;M=fe;try{return ee()}finally{M=re}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(ee,fe){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var re=M;M=ee;try{return fe()}finally{M=re}},i.unstable_scheduleCallback=function(ee,fe,re){var D=i.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?D+re:D):re=D,ee){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=re+$,ee={id:E++,callback:fe,priorityLevel:ee,startTime:re,expirationTime:$,sortIndex:-1},re>D?(ee.sortIndex=re,e(v,ee),t(y)===null&&ee===t(v)&&(J?(Ee(I),I=-1):J=!0,je(Ce,re-D))):(ee.sortIndex=$,e(y,ee),Y||z||(Y=!0,lt(qe))),ee},i.unstable_shouldYield=x,i.unstable_wrapCallback=function(ee){var fe=M;return function(){var re=M;M=fe;try{return ee.apply(this,arguments)}finally{M=re}}}})(kh)),kh}var cm;function n0(){return cm||(cm=1,Rh.exports=t0()),Rh.exports}var hm;function r0(){if(hm)return tn;hm=1;var i=ud(),e=n0();function t(n){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+n,a=1;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function u(n,r){h(n,r),h(n+"Capture",r)}function h(n,r){for(o[n]=r,n=0;n<r.length;n++)s.add(r[n])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),y=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E={},k={};function M(n){return y.call(k,n)?!0:y.call(E,n)?!1:v.test(n)?k[n]=!0:(E[n]=!0,!1)}function z(n,r,a,c){if(a!==null&&a.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function Y(n,r,a,c){if(r===null||typeof r>"u"||z(n,r,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function J(n,r,a,c,d,p,_){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=n,this.type=r,this.sanitizeURL=p,this.removeEmptyString=_}var q={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){q[n]=new J(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var r=n[0];q[r]=new J(r,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){q[n]=new J(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){q[n]=new J(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){q[n]=new J(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){q[n]=new J(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){q[n]=new J(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){q[n]=new J(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){q[n]=new J(n,5,!1,n.toLowerCase(),null,!1,!1)});var Ee=/[\-:]([a-z])/g;function ye(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var r=n.replace(Ee,ye);q[r]=new J(r,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var r=n.replace(Ee,ye);q[r]=new J(r,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var r=n.replace(Ee,ye);q[r]=new J(r,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){q[n]=new J(n,1,!1,n.toLowerCase(),null,!1,!1)}),q.xlinkHref=new J("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){q[n]=new J(n,1,!1,n.toLowerCase(),null,!0,!0)});function ve(n,r,a,c){var d=q.hasOwnProperty(r)?q[r]:null;(d!==null?d.type!==0:c||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(Y(r,a,d,c)&&(a=null),c||d===null?M(r)&&(a===null?n.removeAttribute(r):n.setAttribute(r,""+a)):d.mustUseProperty?n[d.propertyName]=a===null?d.type===3?!1:"":a:(r=d.attributeName,c=d.attributeNamespace,a===null?n.removeAttribute(r):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,c?n.setAttributeNS(c,r,a):n.setAttribute(r,a))))}var Ce=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,qe=Symbol.for("react.element"),Pe=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),x=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),Ze=Symbol.for("react.suspense_list"),at=Symbol.for("react.memo"),lt=Symbol.for("react.lazy"),je=Symbol.for("react.offscreen"),ee=Symbol.iterator;function fe(n){return n===null||typeof n!="object"?null:(n=ee&&n[ee]||n["@@iterator"],typeof n=="function"?n:null)}var re=Object.assign,D;function $(n){if(D===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);D=r&&r[1]||""}return`
`+D+n}var de=!1;function B(n,r){if(!n||de)return"";de=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(F){var c=F}Reflect.construct(n,[],r)}else{try{r.call()}catch(F){c=F}n.call(r.prototype)}else{try{throw Error()}catch(F){c=F}n()}}catch(F){if(F&&c&&typeof F.stack=="string"){for(var d=F.stack.split(`
`),p=c.stack.split(`
`),_=d.length-1,T=p.length-1;1<=_&&0<=T&&d[_]!==p[T];)T--;for(;1<=_&&0<=T;_--,T--)if(d[_]!==p[T]){if(_!==1||T!==1)do if(_--,T--,0>T||d[_]!==p[T]){var R=`
`+d[_].replace(" at new "," at ");return n.displayName&&R.includes("<anonymous>")&&(R=R.replace("<anonymous>",n.displayName)),R}while(1<=_&&0<=T);break}}}finally{de=!1,Error.prepareStackTrace=a}return(n=n?n.displayName||n.name:"")?$(n):""}function te(n){switch(n.tag){case 5:return $(n.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return n=B(n.type,!1),n;case 11:return n=B(n.type.render,!1),n;case 1:return n=B(n.type,!0),n;default:return""}}function se(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case P:return"Fragment";case Pe:return"Portal";case A:return"Profiler";case I:return"StrictMode";case S:return"Suspense";case Ze:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case x:return(n.displayName||"Context")+".Consumer";case C:return(n._context.displayName||"Context")+".Provider";case V:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case at:return r=n.displayName||null,r!==null?r:se(n.type)||"Memo";case lt:r=n._payload,n=n._init;try{return se(n(r))}catch{}}return null}function ne(n){var r=n.type;switch(n.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=r.render,n=n.displayName||n.name||"",r.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return se(r);case 8:return r===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function _e(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Te(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function xe(n){var r=Te(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),c=""+n[r];if(!n.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,p=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return d.call(this)},set:function(_){c=""+_,p.call(this,_)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(_){c=""+_},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function ke(n){n._valueTracker||(n._valueTracker=xe(n))}function $t(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),c="";return n&&(c=Te(n)?n.checked?"true":"false":n.value),n=c,n!==a?(r.setValue(n),!0):!1}function At(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function fn(n,r){var a=r.checked;return re({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??n._wrapperState.initialChecked})}function $e(n,r){var a=r.defaultValue==null?"":r.defaultValue,c=r.checked!=null?r.checked:r.defaultChecked;a=_e(r.value!=null?r.value:a),n._wrapperState={initialChecked:c,initialValue:a,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function Rt(n,r){r=r.checked,r!=null&&ve(n,"checked",r,!1)}function go(n,r){Rt(n,r);var a=_e(r.value),c=r.type;if(a!=null)c==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+a):n.value!==""+a&&(n.value=""+a);else if(c==="submit"||c==="reset"){n.removeAttribute("value");return}r.hasOwnProperty("value")?ts(n,r.type,a):r.hasOwnProperty("defaultValue")&&ts(n,r.type,_e(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(n.defaultChecked=!!r.defaultChecked)}function ja(n,r,a){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var c=r.type;if(!(c!=="submit"&&c!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+n._wrapperState.initialValue,a||r===n.value||(n.value=r),n.defaultValue=r}a=n.name,a!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,a!==""&&(n.name=a)}function ts(n,r,a){(r!=="number"||At(n.ownerDocument)!==n)&&(a==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+a&&(n.defaultValue=""+a))}var ir=Array.isArray;function sr(n,r,a,c){if(n=n.options,r){r={};for(var d=0;d<a.length;d++)r["$"+a[d]]=!0;for(a=0;a<n.length;a++)d=r.hasOwnProperty("$"+n[a].value),n[a].selected!==d&&(n[a].selected=d),d&&c&&(n[a].defaultSelected=!0)}else{for(a=""+_e(a),r=null,d=0;d<n.length;d++){if(n[d].value===a){n[d].selected=!0,c&&(n[d].defaultSelected=!0);return}r!==null||n[d].disabled||(r=n[d])}r!==null&&(r.selected=!0)}}function yo(n,r){if(r.dangerouslySetInnerHTML!=null)throw Error(t(91));return re({},r,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function ns(n,r){var a=r.value;if(a==null){if(a=r.children,r=r.defaultValue,a!=null){if(r!=null)throw Error(t(92));if(ir(a)){if(1<a.length)throw Error(t(93));a=a[0]}r=a}r==null&&(r=""),a=r}n._wrapperState={initialValue:_e(a)}}function rs(n,r){var a=_e(r.value),c=_e(r.defaultValue);a!=null&&(a=""+a,a!==n.value&&(n.value=a),r.defaultValue==null&&n.defaultValue!==a&&(n.defaultValue=a)),c!=null&&(n.defaultValue=""+c)}function _o(n){var r=n.textContent;r===n._wrapperState.initialValue&&r!==""&&r!==null&&(n.value=r)}function mt(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gt(n,r){return n==null||n==="http://www.w3.org/1999/xhtml"?mt(r):n==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var or,vo=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,a,c,d){MSApp.execUnsafeLocalFunction(function(){return n(r,a,c,d)})}:n})(function(n,r){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=r;else{for(or=or||document.createElement("div"),or.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=or.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;r.firstChild;)n.appendChild(r.firstChild)}});function Dr(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var yi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_i=["Webkit","ms","Moz","O"];Object.keys(yi).forEach(function(n){_i.forEach(function(r){r=r+n.charAt(0).toUpperCase()+n.substring(1),yi[r]=yi[n]})});function wo(n,r,a){return r==null||typeof r=="boolean"||r===""?"":a||typeof r!="number"||r===0||yi.hasOwnProperty(n)&&yi[n]?(""+r).trim():r+"px"}function Eo(n,r){n=n.style;for(var a in r)if(r.hasOwnProperty(a)){var c=a.indexOf("--")===0,d=wo(a,r[a],c);a==="float"&&(a="cssFloat"),c?n.setProperty(a,d):n[a]=d}}var To=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Io(n,r){if(r){if(To[n]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(t(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(t(61))}if(r.style!=null&&typeof r.style!="object")throw Error(t(62))}}function So(n,r){if(n.indexOf("-")===-1)return typeof r.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vi=null;function is(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ss=null,pn=null,Bn=null;function os(n){if(n=Go(n)){if(typeof ss!="function")throw Error(t(280));var r=n.stateNode;r&&(r=gl(r),ss(n.stateNode,n.type,r))}}function $n(n){pn?Bn?Bn.push(n):Bn=[n]:pn=n}function Ao(){if(pn){var n=pn,r=Bn;if(Bn=pn=null,os(n),r)for(n=0;n<r.length;n++)os(r[n])}}function wi(n,r){return n(r)}function Ro(){}var ar=!1;function ko(n,r,a){if(ar)return n(r,a);ar=!0;try{return wi(n,r,a)}finally{ar=!1,(pn!==null||Bn!==null)&&(Ro(),Ao())}}function it(n,r){var a=n.stateNode;if(a===null)return null;var c=gl(a);if(c===null)return null;a=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(t(231,r,typeof a));return a}var as=!1;if(m)try{var An={};Object.defineProperty(An,"passive",{get:function(){as=!0}}),window.addEventListener("test",An,An),window.removeEventListener("test",An,An)}catch{as=!1}function Ei(n,r,a,c,d,p,_,T,R){var F=Array.prototype.slice.call(arguments,3);try{r.apply(a,F)}catch(K){this.onError(K)}}var Ti=!1,ls=null,Rn=!1,Co=null,Xu={onError:function(n){Ti=!0,ls=n}};function us(n,r,a,c,d,p,_,T,R){Ti=!1,ls=null,Ei.apply(Xu,arguments)}function za(n,r,a,c,d,p,_,T,R){if(us.apply(this,arguments),Ti){if(Ti){var F=ls;Ti=!1,ls=null}else throw Error(t(198));Rn||(Rn=!0,Co=F)}}function kn(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function Ii(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function Cn(n){if(kn(n)!==n)throw Error(t(188))}function Ba(n){var r=n.alternate;if(!r){if(r=kn(n),r===null)throw Error(t(188));return r!==n?null:n}for(var a=n,c=r;;){var d=a.return;if(d===null)break;var p=d.alternate;if(p===null){if(c=d.return,c!==null){a=c;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===a)return Cn(d),n;if(p===c)return Cn(d),r;p=p.sibling}throw Error(t(188))}if(a.return!==c.return)a=d,c=p;else{for(var _=!1,T=d.child;T;){if(T===a){_=!0,a=d,c=p;break}if(T===c){_=!0,c=d,a=p;break}T=T.sibling}if(!_){for(T=p.child;T;){if(T===a){_=!0,a=p,c=d;break}if(T===c){_=!0,c=p,a=d;break}T=T.sibling}if(!_)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?n:r}function Po(n){return n=Ba(n),n!==null?cs(n):null}function cs(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var r=cs(n);if(r!==null)return r;n=n.sibling}return null}var hs=e.unstable_scheduleCallback,No=e.unstable_cancelCallback,$a=e.unstable_shouldYield,Ju=e.unstable_requestPaint,We=e.unstable_now,qa=e.unstable_getCurrentPriorityLevel,Si=e.unstable_ImmediatePriority,Vr=e.unstable_UserBlockingPriority,mn=e.unstable_NormalPriority,xo=e.unstable_LowPriority,Ha=e.unstable_IdlePriority,Ai=null,on=null;function Wa(n){if(on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(Ai,n,void 0,(n.current.flags&128)===128)}catch{}}var qt=Math.clz32?Math.clz32:Ga,Do=Math.log,Ka=Math.LN2;function Ga(n){return n>>>=0,n===0?32:31-(Do(n)/Ka|0)|0}var ds=64,fs=4194304;function Or(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Ri(n,r){var a=n.pendingLanes;if(a===0)return 0;var c=0,d=n.suspendedLanes,p=n.pingedLanes,_=a&268435455;if(_!==0){var T=_&~d;T!==0?c=Or(T):(p&=_,p!==0&&(c=Or(p)))}else _=a&~d,_!==0?c=Or(_):p!==0&&(c=Or(p));if(c===0)return 0;if(r!==0&&r!==c&&(r&d)===0&&(d=c&-c,p=r&-r,d>=p||d===16&&(p&4194240)!==0))return r;if((c&4)!==0&&(c|=a&16),r=n.entangledLanes,r!==0)for(n=n.entanglements,r&=c;0<r;)a=31-qt(r),d=1<<a,c|=n[a],r&=~d;return c}function Zu(n,r){switch(n){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lr(n,r){for(var a=n.suspendedLanes,c=n.pingedLanes,d=n.expirationTimes,p=n.pendingLanes;0<p;){var _=31-qt(p),T=1<<_,R=d[_];R===-1?((T&a)===0||(T&c)!==0)&&(d[_]=Zu(T,r)):R<=r&&(n.expiredLanes|=T),p&=~T}}function an(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function ki(){var n=ds;return ds<<=1,(ds&4194240)===0&&(ds=64),n}function Lr(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function Mr(n,r,a){n.pendingLanes|=r,r!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,r=31-qt(r),n[r]=a}function He(n,r){var a=n.pendingLanes&~r;n.pendingLanes=r,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=r,n.mutableReadLanes&=r,n.entangledLanes&=r,r=n.entanglements;var c=n.eventTimes;for(n=n.expirationTimes;0<a;){var d=31-qt(a),p=1<<d;r[d]=0,c[d]=-1,n[d]=-1,a&=~p}}function br(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var c=31-qt(a),d=1<<c;d&r|n[c]&r&&(n[c]|=r),a&=~d}}var Ve=0;function Fr(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var Qa,ps,Ya,Xa,Ja,Vo=!1,qn=[],kt=null,Pn=null,Nn=null,Ur=new Map,gn=new Map,Hn=[],ec="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Za(n,r){switch(n){case"focusin":case"focusout":kt=null;break;case"dragenter":case"dragleave":Pn=null;break;case"mouseover":case"mouseout":Nn=null;break;case"pointerover":case"pointerout":Ur.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":gn.delete(r.pointerId)}}function Gt(n,r,a,c,d,p){return n===null||n.nativeEvent!==p?(n={blockedOn:r,domEventName:a,eventSystemFlags:c,nativeEvent:p,targetContainers:[d]},r!==null&&(r=Go(r),r!==null&&ps(r)),n):(n.eventSystemFlags|=c,r=n.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),n)}function tc(n,r,a,c,d){switch(r){case"focusin":return kt=Gt(kt,n,r,a,c,d),!0;case"dragenter":return Pn=Gt(Pn,n,r,a,c,d),!0;case"mouseover":return Nn=Gt(Nn,n,r,a,c,d),!0;case"pointerover":var p=d.pointerId;return Ur.set(p,Gt(Ur.get(p)||null,n,r,a,c,d)),!0;case"gotpointercapture":return p=d.pointerId,gn.set(p,Gt(gn.get(p)||null,n,r,a,c,d)),!0}return!1}function el(n){var r=Di(n.target);if(r!==null){var a=kn(r);if(a!==null){if(r=a.tag,r===13){if(r=Ii(a),r!==null){n.blockedOn=r,Ja(n.priority,function(){Ya(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function ur(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=ms(n.domEventName,n.eventSystemFlags,r[0],n.nativeEvent);if(a===null){a=n.nativeEvent;var c=new a.constructor(a.type,a);vi=c,a.target.dispatchEvent(c),vi=null}else return r=Go(a),r!==null&&ps(r),n.blockedOn=a,!1;r.shift()}return!0}function Ci(n,r,a){ur(n)&&a.delete(r)}function tl(){Vo=!1,kt!==null&&ur(kt)&&(kt=null),Pn!==null&&ur(Pn)&&(Pn=null),Nn!==null&&ur(Nn)&&(Nn=null),Ur.forEach(Ci),gn.forEach(Ci)}function xn(n,r){n.blockedOn===r&&(n.blockedOn=null,Vo||(Vo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,tl)))}function Dn(n){function r(d){return xn(d,n)}if(0<qn.length){xn(qn[0],n);for(var a=1;a<qn.length;a++){var c=qn[a];c.blockedOn===n&&(c.blockedOn=null)}}for(kt!==null&&xn(kt,n),Pn!==null&&xn(Pn,n),Nn!==null&&xn(Nn,n),Ur.forEach(r),gn.forEach(r),a=0;a<Hn.length;a++)c=Hn[a],c.blockedOn===n&&(c.blockedOn=null);for(;0<Hn.length&&(a=Hn[0],a.blockedOn===null);)el(a),a.blockedOn===null&&Hn.shift()}var cr=Ce.ReactCurrentBatchConfig,jr=!0;function Xe(n,r,a,c){var d=Ve,p=cr.transition;cr.transition=null;try{Ve=1,Oo(n,r,a,c)}finally{Ve=d,cr.transition=p}}function nc(n,r,a,c){var d=Ve,p=cr.transition;cr.transition=null;try{Ve=4,Oo(n,r,a,c)}finally{Ve=d,cr.transition=p}}function Oo(n,r,a,c){if(jr){var d=ms(n,r,a,c);if(d===null)fc(n,r,c,Pi,a),Za(n,c);else if(tc(d,n,r,a,c))c.stopPropagation();else if(Za(n,c),r&4&&-1<ec.indexOf(n)){for(;d!==null;){var p=Go(d);if(p!==null&&Qa(p),p=ms(n,r,a,c),p===null&&fc(n,r,c,Pi,a),p===d)break;d=p}d!==null&&c.stopPropagation()}else fc(n,r,c,null,a)}}var Pi=null;function ms(n,r,a,c){if(Pi=null,n=is(c),n=Di(n),n!==null)if(r=kn(n),r===null)n=null;else if(a=r.tag,a===13){if(n=Ii(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null);return Pi=n,null}function Lo(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qa()){case Si:return 1;case Vr:return 4;case mn:case xo:return 16;case Ha:return 536870912;default:return 16}default:return 16}}var ln=null,gs=null,Qt=null;function Mo(){if(Qt)return Qt;var n,r=gs,a=r.length,c,d="value"in ln?ln.value:ln.textContent,p=d.length;for(n=0;n<a&&r[n]===d[n];n++);var _=a-n;for(c=1;c<=_&&r[a-c]===d[p-c];c++);return Qt=d.slice(n,1<c?1-c:void 0)}function ys(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function Wn(){return!0}function bo(){return!1}function Ct(n){function r(a,c,d,p,_){this._reactName=a,this._targetInst=d,this.type=c,this.nativeEvent=p,this.target=_,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(a=n[T],this[T]=a?a(p):p[T]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Wn:bo,this.isPropagationStopped=bo,this}return re(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Wn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Wn)},persist:function(){},isPersistent:Wn}),r}var Vn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_s=Ct(Vn),Kn=re({},Vn,{view:0,detail:0}),rc=Ct(Kn),vs,hr,zr,Ni=re({},Kn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gn,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==zr&&(zr&&n.type==="mousemove"?(vs=n.screenX-zr.screenX,hr=n.screenY-zr.screenY):hr=vs=0,zr=n),vs)},movementY:function(n){return"movementY"in n?n.movementY:hr}}),ws=Ct(Ni),Fo=re({},Ni,{dataTransfer:0}),nl=Ct(Fo),Es=re({},Kn,{relatedTarget:0}),Ts=Ct(Es),rl=re({},Vn,{animationName:0,elapsedTime:0,pseudoElement:0}),dr=Ct(rl),il=re({},Vn,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),sl=Ct(il),ol=re({},Vn,{data:0}),Uo=Ct(ol),Is={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ht={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},al={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ll(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=al[n])?!!r[n]:!1}function Gn(){return ll}var l=re({},Kn,{key:function(n){if(n.key){var r=Is[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=ys(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Ht[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gn,charCode:function(n){return n.type==="keypress"?ys(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ys(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),f=Ct(l),g=re({},Ni,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),w=Ct(g),O=re({},Kn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gn}),j=Ct(O),Z=re({},Vn,{propertyName:0,elapsedTime:0,pseudoElement:0}),ze=Ct(Z),yt=re({},Ni,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Le=Ct(yt),wt=[9,13,27,32],ut=m&&"CompositionEvent"in window,yn=null;m&&"documentMode"in document&&(yn=document.documentMode);var un=m&&"TextEvent"in window&&!yn,xi=m&&(!ut||yn&&8<yn&&11>=yn),Ss=" ",Jd=!1;function Zd(n,r){switch(n){case"keyup":return wt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ef(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var As=!1;function Q_(n,r){switch(n){case"compositionend":return ef(r);case"keypress":return r.which!==32?null:(Jd=!0,Ss);case"textInput":return n=r.data,n===Ss&&Jd?null:n;default:return null}}function Y_(n,r){if(As)return n==="compositionend"||!ut&&Zd(n,r)?(n=Mo(),Qt=gs=ln=null,As=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return xi&&r.locale!=="ko"?null:r.data;default:return null}}var X_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tf(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!X_[n.type]:r==="textarea"}function nf(n,r,a,c){$n(c),r=fl(r,"onChange"),0<r.length&&(a=new _s("onChange","change",null,a,c),n.push({event:a,listeners:r}))}var jo=null,zo=null;function J_(n){Ef(n,0)}function ul(n){var r=Ns(n);if($t(r))return n}function Z_(n,r){if(n==="change")return r}var rf=!1;if(m){var ic;if(m){var sc="oninput"in document;if(!sc){var sf=document.createElement("div");sf.setAttribute("oninput","return;"),sc=typeof sf.oninput=="function"}ic=sc}else ic=!1;rf=ic&&(!document.documentMode||9<document.documentMode)}function of(){jo&&(jo.detachEvent("onpropertychange",af),zo=jo=null)}function af(n){if(n.propertyName==="value"&&ul(zo)){var r=[];nf(r,zo,n,is(n)),ko(J_,r)}}function ev(n,r,a){n==="focusin"?(of(),jo=r,zo=a,jo.attachEvent("onpropertychange",af)):n==="focusout"&&of()}function tv(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ul(zo)}function nv(n,r){if(n==="click")return ul(r)}function rv(n,r){if(n==="input"||n==="change")return ul(r)}function iv(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var On=typeof Object.is=="function"?Object.is:iv;function Bo(n,r){if(On(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),c=Object.keys(r);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var d=a[c];if(!y.call(r,d)||!On(n[d],r[d]))return!1}return!0}function lf(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function uf(n,r){var a=lf(n);n=0;for(var c;a;){if(a.nodeType===3){if(c=n+a.textContent.length,n<=r&&c>=r)return{node:a,offset:r-n};n=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=lf(a)}}function cf(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?cf(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function hf(){for(var n=window,r=At();r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=At(n.document)}return r}function oc(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}function sv(n){var r=hf(),a=n.focusedElem,c=n.selectionRange;if(r!==a&&a&&a.ownerDocument&&cf(a.ownerDocument.documentElement,a)){if(c!==null&&oc(a)){if(r=c.start,n=c.end,n===void 0&&(n=r),"selectionStart"in a)a.selectionStart=r,a.selectionEnd=Math.min(n,a.value.length);else if(n=(r=a.ownerDocument||document)&&r.defaultView||window,n.getSelection){n=n.getSelection();var d=a.textContent.length,p=Math.min(c.start,d);c=c.end===void 0?p:Math.min(c.end,d),!n.extend&&p>c&&(d=c,c=p,p=d),d=uf(a,p);var _=uf(a,c);d&&_&&(n.rangeCount!==1||n.anchorNode!==d.node||n.anchorOffset!==d.offset||n.focusNode!==_.node||n.focusOffset!==_.offset)&&(r=r.createRange(),r.setStart(d.node,d.offset),n.removeAllRanges(),p>c?(n.addRange(r),n.extend(_.node,_.offset)):(r.setEnd(_.node,_.offset),n.addRange(r)))}}for(r=[],n=a;n=n.parentNode;)n.nodeType===1&&r.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<r.length;a++)n=r[a],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var ov=m&&"documentMode"in document&&11>=document.documentMode,Rs=null,ac=null,$o=null,lc=!1;function df(n,r,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;lc||Rs==null||Rs!==At(c)||(c=Rs,"selectionStart"in c&&oc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),$o&&Bo($o,c)||($o=c,c=fl(ac,"onSelect"),0<c.length&&(r=new _s("onSelect","select",null,r,a),n.push({event:r,listeners:c}),r.target=Rs)))}function cl(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var ks={animationend:cl("Animation","AnimationEnd"),animationiteration:cl("Animation","AnimationIteration"),animationstart:cl("Animation","AnimationStart"),transitionend:cl("Transition","TransitionEnd")},uc={},ff={};m&&(ff=document.createElement("div").style,"AnimationEvent"in window||(delete ks.animationend.animation,delete ks.animationiteration.animation,delete ks.animationstart.animation),"TransitionEvent"in window||delete ks.transitionend.transition);function hl(n){if(uc[n])return uc[n];if(!ks[n])return n;var r=ks[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in ff)return uc[n]=r[a];return n}var pf=hl("animationend"),mf=hl("animationiteration"),gf=hl("animationstart"),yf=hl("transitionend"),_f=new Map,vf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Br(n,r){_f.set(n,r),u(r,[n])}for(var cc=0;cc<vf.length;cc++){var hc=vf[cc],av=hc.toLowerCase(),lv=hc[0].toUpperCase()+hc.slice(1);Br(av,"on"+lv)}Br(pf,"onAnimationEnd"),Br(mf,"onAnimationIteration"),Br(gf,"onAnimationStart"),Br("dblclick","onDoubleClick"),Br("focusin","onFocus"),Br("focusout","onBlur"),Br(yf,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uv=new Set("cancel close invalid load scroll toggle".split(" ").concat(qo));function wf(n,r,a){var c=n.type||"unknown-event";n.currentTarget=a,za(c,r,void 0,n),n.currentTarget=null}function Ef(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var c=n[a],d=c.event;c=c.listeners;e:{var p=void 0;if(r)for(var _=c.length-1;0<=_;_--){var T=c[_],R=T.instance,F=T.currentTarget;if(T=T.listener,R!==p&&d.isPropagationStopped())break e;wf(d,T,F),p=R}else for(_=0;_<c.length;_++){if(T=c[_],R=T.instance,F=T.currentTarget,T=T.listener,R!==p&&d.isPropagationStopped())break e;wf(d,T,F),p=R}}}if(Rn)throw n=Co,Rn=!1,Co=null,n}function Ge(n,r){var a=r[vc];a===void 0&&(a=r[vc]=new Set);var c=n+"__bubble";a.has(c)||(Tf(r,n,2,!1),a.add(c))}function dc(n,r,a){var c=0;r&&(c|=4),Tf(a,n,c,r)}var dl="_reactListening"+Math.random().toString(36).slice(2);function Ho(n){if(!n[dl]){n[dl]=!0,s.forEach(function(a){a!=="selectionchange"&&(uv.has(a)||dc(a,!1,n),dc(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[dl]||(r[dl]=!0,dc("selectionchange",!1,r))}}function Tf(n,r,a,c){switch(Lo(r)){case 1:var d=Xe;break;case 4:d=nc;break;default:d=Oo}a=d.bind(null,r,a,n),d=void 0,!as||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),c?d!==void 0?n.addEventListener(r,a,{capture:!0,passive:d}):n.addEventListener(r,a,!0):d!==void 0?n.addEventListener(r,a,{passive:d}):n.addEventListener(r,a,!1)}function fc(n,r,a,c,d){var p=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var T=c.stateNode.containerInfo;if(T===d||T.nodeType===8&&T.parentNode===d)break;if(_===4)for(_=c.return;_!==null;){var R=_.tag;if((R===3||R===4)&&(R=_.stateNode.containerInfo,R===d||R.nodeType===8&&R.parentNode===d))return;_=_.return}for(;T!==null;){if(_=Di(T),_===null)return;if(R=_.tag,R===5||R===6){c=p=_;continue e}T=T.parentNode}}c=c.return}ko(function(){var F=p,K=is(a),Q=[];e:{var W=_f.get(n);if(W!==void 0){var ie=_s,ae=n;switch(n){case"keypress":if(ys(a)===0)break e;case"keydown":case"keyup":ie=f;break;case"focusin":ae="focus",ie=Ts;break;case"focusout":ae="blur",ie=Ts;break;case"beforeblur":case"afterblur":ie=Ts;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=ws;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=nl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=j;break;case pf:case mf:case gf:ie=dr;break;case yf:ie=ze;break;case"scroll":ie=rc;break;case"wheel":ie=Le;break;case"copy":case"cut":case"paste":ie=sl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=w}var le=(r&4)!==0,st=!le&&n==="scroll",L=le?W!==null?W+"Capture":null:W;le=[];for(var N=F,b;N!==null;){b=N;var X=b.stateNode;if(b.tag===5&&X!==null&&(b=X,L!==null&&(X=it(N,L),X!=null&&le.push(Wo(N,X,b)))),st)break;N=N.return}0<le.length&&(W=new ie(W,ae,null,a,K),Q.push({event:W,listeners:le}))}}if((r&7)===0){e:{if(W=n==="mouseover"||n==="pointerover",ie=n==="mouseout"||n==="pointerout",W&&a!==vi&&(ae=a.relatedTarget||a.fromElement)&&(Di(ae)||ae[fr]))break e;if((ie||W)&&(W=K.window===K?K:(W=K.ownerDocument)?W.defaultView||W.parentWindow:window,ie?(ae=a.relatedTarget||a.toElement,ie=F,ae=ae?Di(ae):null,ae!==null&&(st=kn(ae),ae!==st||ae.tag!==5&&ae.tag!==6)&&(ae=null)):(ie=null,ae=F),ie!==ae)){if(le=ws,X="onMouseLeave",L="onMouseEnter",N="mouse",(n==="pointerout"||n==="pointerover")&&(le=w,X="onPointerLeave",L="onPointerEnter",N="pointer"),st=ie==null?W:Ns(ie),b=ae==null?W:Ns(ae),W=new le(X,N+"leave",ie,a,K),W.target=st,W.relatedTarget=b,X=null,Di(K)===F&&(le=new le(L,N+"enter",ae,a,K),le.target=b,le.relatedTarget=st,X=le),st=X,ie&&ae)t:{for(le=ie,L=ae,N=0,b=le;b;b=Cs(b))N++;for(b=0,X=L;X;X=Cs(X))b++;for(;0<N-b;)le=Cs(le),N--;for(;0<b-N;)L=Cs(L),b--;for(;N--;){if(le===L||L!==null&&le===L.alternate)break t;le=Cs(le),L=Cs(L)}le=null}else le=null;ie!==null&&If(Q,W,ie,le,!1),ae!==null&&st!==null&&If(Q,st,ae,le,!0)}}e:{if(W=F?Ns(F):window,ie=W.nodeName&&W.nodeName.toLowerCase(),ie==="select"||ie==="input"&&W.type==="file")var he=Z_;else if(tf(W))if(rf)he=rv;else{he=tv;var me=ev}else(ie=W.nodeName)&&ie.toLowerCase()==="input"&&(W.type==="checkbox"||W.type==="radio")&&(he=nv);if(he&&(he=he(n,F))){nf(Q,he,a,K);break e}me&&me(n,W,F),n==="focusout"&&(me=W._wrapperState)&&me.controlled&&W.type==="number"&&ts(W,"number",W.value)}switch(me=F?Ns(F):window,n){case"focusin":(tf(me)||me.contentEditable==="true")&&(Rs=me,ac=F,$o=null);break;case"focusout":$o=ac=Rs=null;break;case"mousedown":lc=!0;break;case"contextmenu":case"mouseup":case"dragend":lc=!1,df(Q,a,K);break;case"selectionchange":if(ov)break;case"keydown":case"keyup":df(Q,a,K)}var ge;if(ut)e:{switch(n){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else As?Zd(n,a)&&(we="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(we="onCompositionStart");we&&(xi&&a.locale!=="ko"&&(As||we!=="onCompositionStart"?we==="onCompositionEnd"&&As&&(ge=Mo()):(ln=K,gs="value"in ln?ln.value:ln.textContent,As=!0)),me=fl(F,we),0<me.length&&(we=new Uo(we,n,null,a,K),Q.push({event:we,listeners:me}),ge?we.data=ge:(ge=ef(a),ge!==null&&(we.data=ge)))),(ge=un?Q_(n,a):Y_(n,a))&&(F=fl(F,"onBeforeInput"),0<F.length&&(K=new Uo("onBeforeInput","beforeinput",null,a,K),Q.push({event:K,listeners:F}),K.data=ge))}Ef(Q,r)})}function Wo(n,r,a){return{instance:n,listener:r,currentTarget:a}}function fl(n,r){for(var a=r+"Capture",c=[];n!==null;){var d=n,p=d.stateNode;d.tag===5&&p!==null&&(d=p,p=it(n,a),p!=null&&c.unshift(Wo(n,p,d)),p=it(n,r),p!=null&&c.push(Wo(n,p,d))),n=n.return}return c}function Cs(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function If(n,r,a,c,d){for(var p=r._reactName,_=[];a!==null&&a!==c;){var T=a,R=T.alternate,F=T.stateNode;if(R!==null&&R===c)break;T.tag===5&&F!==null&&(T=F,d?(R=it(a,p),R!=null&&_.unshift(Wo(a,R,T))):d||(R=it(a,p),R!=null&&_.push(Wo(a,R,T)))),a=a.return}_.length!==0&&n.push({event:r,listeners:_})}var cv=/\r\n?/g,hv=/\u0000|\uFFFD/g;function Sf(n){return(typeof n=="string"?n:""+n).replace(cv,`
`).replace(hv,"")}function pl(n,r,a){if(r=Sf(r),Sf(n)!==r&&a)throw Error(t(425))}function ml(){}var pc=null,mc=null;function gc(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var yc=typeof setTimeout=="function"?setTimeout:void 0,dv=typeof clearTimeout=="function"?clearTimeout:void 0,Af=typeof Promise=="function"?Promise:void 0,fv=typeof queueMicrotask=="function"?queueMicrotask:typeof Af<"u"?function(n){return Af.resolve(null).then(n).catch(pv)}:yc;function pv(n){setTimeout(function(){throw n})}function _c(n,r){var a=r,c=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(c===0){n.removeChild(d),Dn(r);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=d}while(a);Dn(r)}function $r(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return n}function Rf(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}var Ps=Math.random().toString(36).slice(2),Qn="__reactFiber$"+Ps,Ko="__reactProps$"+Ps,fr="__reactContainer$"+Ps,vc="__reactEvents$"+Ps,mv="__reactListeners$"+Ps,gv="__reactHandles$"+Ps;function Di(n){var r=n[Qn];if(r)return r;for(var a=n.parentNode;a;){if(r=a[fr]||a[Qn]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=Rf(n);n!==null;){if(a=n[Qn])return a;n=Rf(n)}return r}n=a,a=n.parentNode}return null}function Go(n){return n=n[Qn]||n[fr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Ns(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function gl(n){return n[Ko]||null}var wc=[],xs=-1;function qr(n){return{current:n}}function Qe(n){0>xs||(n.current=wc[xs],wc[xs]=null,xs--)}function Ke(n,r){xs++,wc[xs]=n.current,n.current=r}var Hr={},Lt=qr(Hr),Yt=qr(!1),Vi=Hr;function Ds(n,r){var a=n.type.contextTypes;if(!a)return Hr;var c=n.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===r)return c.__reactInternalMemoizedMaskedChildContext;var d={},p;for(p in a)d[p]=r[p];return c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=d),d}function Xt(n){return n=n.childContextTypes,n!=null}function yl(){Qe(Yt),Qe(Lt)}function kf(n,r,a){if(Lt.current!==Hr)throw Error(t(168));Ke(Lt,r),Ke(Yt,a)}function Cf(n,r,a){var c=n.stateNode;if(r=r.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var d in c)if(!(d in r))throw Error(t(108,ne(n)||"Unknown",d));return re({},a,c)}function _l(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Hr,Vi=Lt.current,Ke(Lt,n),Ke(Yt,Yt.current),!0}function Pf(n,r,a){var c=n.stateNode;if(!c)throw Error(t(169));a?(n=Cf(n,r,Vi),c.__reactInternalMemoizedMergedChildContext=n,Qe(Yt),Qe(Lt),Ke(Lt,n)):Qe(Yt),Ke(Yt,a)}var pr=null,vl=!1,Ec=!1;function Nf(n){pr===null?pr=[n]:pr.push(n)}function yv(n){vl=!0,Nf(n)}function Wr(){if(!Ec&&pr!==null){Ec=!0;var n=0,r=Ve;try{var a=pr;for(Ve=1;n<a.length;n++){var c=a[n];do c=c(!0);while(c!==null)}pr=null,vl=!1}catch(d){throw pr!==null&&(pr=pr.slice(n+1)),hs(Si,Wr),d}finally{Ve=r,Ec=!1}}return null}var Vs=[],Os=0,wl=null,El=0,_n=[],vn=0,Oi=null,mr=1,gr="";function Li(n,r){Vs[Os++]=El,Vs[Os++]=wl,wl=n,El=r}function xf(n,r,a){_n[vn++]=mr,_n[vn++]=gr,_n[vn++]=Oi,Oi=n;var c=mr;n=gr;var d=32-qt(c)-1;c&=~(1<<d),a+=1;var p=32-qt(r)+d;if(30<p){var _=d-d%5;p=(c&(1<<_)-1).toString(32),c>>=_,d-=_,mr=1<<32-qt(r)+d|a<<d|c,gr=p+n}else mr=1<<p|a<<d|c,gr=n}function Tc(n){n.return!==null&&(Li(n,1),xf(n,1,0))}function Ic(n){for(;n===wl;)wl=Vs[--Os],Vs[Os]=null,El=Vs[--Os],Vs[Os]=null;for(;n===Oi;)Oi=_n[--vn],_n[vn]=null,gr=_n[--vn],_n[vn]=null,mr=_n[--vn],_n[vn]=null}var cn=null,hn=null,Je=!1,Ln=null;function Df(n,r){var a=In(5,null,null,0);a.elementType="DELETED",a.stateNode=r,a.return=n,r=n.deletions,r===null?(n.deletions=[a],n.flags|=16):r.push(a)}function Vf(n,r){switch(n.tag){case 5:var a=n.type;return r=r.nodeType!==1||a.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(n.stateNode=r,cn=n,hn=$r(r.firstChild),!0):!1;case 6:return r=n.pendingProps===""||r.nodeType!==3?null:r,r!==null?(n.stateNode=r,cn=n,hn=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(a=Oi!==null?{id:mr,overflow:gr}:null,n.memoizedState={dehydrated:r,treeContext:a,retryLane:1073741824},a=In(18,null,null,0),a.stateNode=r,a.return=n,n.child=a,cn=n,hn=null,!0):!1;default:return!1}}function Sc(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Ac(n){if(Je){var r=hn;if(r){var a=r;if(!Vf(n,r)){if(Sc(n))throw Error(t(418));r=$r(a.nextSibling);var c=cn;r&&Vf(n,r)?Df(c,a):(n.flags=n.flags&-4097|2,Je=!1,cn=n)}}else{if(Sc(n))throw Error(t(418));n.flags=n.flags&-4097|2,Je=!1,cn=n}}}function Of(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;cn=n}function Tl(n){if(n!==cn)return!1;if(!Je)return Of(n),Je=!0,!1;var r;if((r=n.tag!==3)&&!(r=n.tag!==5)&&(r=n.type,r=r!=="head"&&r!=="body"&&!gc(n.type,n.memoizedProps)),r&&(r=hn)){if(Sc(n))throw Lf(),Error(t(418));for(;r;)Df(n,r),r=$r(r.nextSibling)}if(Of(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"){if(r===0){hn=$r(n.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++}n=n.nextSibling}hn=null}}else hn=cn?$r(n.stateNode.nextSibling):null;return!0}function Lf(){for(var n=hn;n;)n=$r(n.nextSibling)}function Ls(){hn=cn=null,Je=!1}function Rc(n){Ln===null?Ln=[n]:Ln.push(n)}var _v=Ce.ReactCurrentBatchConfig;function Qo(n,r,a){if(n=a.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,n));var d=c,p=""+n;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===p?r.ref:(r=function(_){var T=d.refs;_===null?delete T[p]:T[p]=_},r._stringRef=p,r)}if(typeof n!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,n))}return n}function Il(n,r){throw n=Object.prototype.toString.call(r),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n))}function Mf(n){var r=n._init;return r(n._payload)}function bf(n){function r(L,N){if(n){var b=L.deletions;b===null?(L.deletions=[N],L.flags|=16):b.push(N)}}function a(L,N){if(!n)return null;for(;N!==null;)r(L,N),N=N.sibling;return null}function c(L,N){for(L=new Map;N!==null;)N.key!==null?L.set(N.key,N):L.set(N.index,N),N=N.sibling;return L}function d(L,N){return L=ei(L,N),L.index=0,L.sibling=null,L}function p(L,N,b){return L.index=b,n?(b=L.alternate,b!==null?(b=b.index,b<N?(L.flags|=2,N):b):(L.flags|=2,N)):(L.flags|=1048576,N)}function _(L){return n&&L.alternate===null&&(L.flags|=2),L}function T(L,N,b,X){return N===null||N.tag!==6?(N=yh(b,L.mode,X),N.return=L,N):(N=d(N,b),N.return=L,N)}function R(L,N,b,X){var he=b.type;return he===P?K(L,N,b.props.children,X,b.key):N!==null&&(N.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===lt&&Mf(he)===N.type)?(X=d(N,b.props),X.ref=Qo(L,N,b),X.return=L,X):(X=Kl(b.type,b.key,b.props,null,L.mode,X),X.ref=Qo(L,N,b),X.return=L,X)}function F(L,N,b,X){return N===null||N.tag!==4||N.stateNode.containerInfo!==b.containerInfo||N.stateNode.implementation!==b.implementation?(N=_h(b,L.mode,X),N.return=L,N):(N=d(N,b.children||[]),N.return=L,N)}function K(L,N,b,X,he){return N===null||N.tag!==7?(N=$i(b,L.mode,X,he),N.return=L,N):(N=d(N,b),N.return=L,N)}function Q(L,N,b){if(typeof N=="string"&&N!==""||typeof N=="number")return N=yh(""+N,L.mode,b),N.return=L,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case qe:return b=Kl(N.type,N.key,N.props,null,L.mode,b),b.ref=Qo(L,null,N),b.return=L,b;case Pe:return N=_h(N,L.mode,b),N.return=L,N;case lt:var X=N._init;return Q(L,X(N._payload),b)}if(ir(N)||fe(N))return N=$i(N,L.mode,b,null),N.return=L,N;Il(L,N)}return null}function W(L,N,b,X){var he=N!==null?N.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return he!==null?null:T(L,N,""+b,X);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case qe:return b.key===he?R(L,N,b,X):null;case Pe:return b.key===he?F(L,N,b,X):null;case lt:return he=b._init,W(L,N,he(b._payload),X)}if(ir(b)||fe(b))return he!==null?null:K(L,N,b,X,null);Il(L,b)}return null}function ie(L,N,b,X,he){if(typeof X=="string"&&X!==""||typeof X=="number")return L=L.get(b)||null,T(N,L,""+X,he);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case qe:return L=L.get(X.key===null?b:X.key)||null,R(N,L,X,he);case Pe:return L=L.get(X.key===null?b:X.key)||null,F(N,L,X,he);case lt:var me=X._init;return ie(L,N,b,me(X._payload),he)}if(ir(X)||fe(X))return L=L.get(b)||null,K(N,L,X,he,null);Il(N,X)}return null}function ae(L,N,b,X){for(var he=null,me=null,ge=N,we=N=0,It=null;ge!==null&&we<b.length;we++){ge.index>we?(It=ge,ge=null):It=ge.sibling;var Fe=W(L,ge,b[we],X);if(Fe===null){ge===null&&(ge=It);break}n&&ge&&Fe.alternate===null&&r(L,ge),N=p(Fe,N,we),me===null?he=Fe:me.sibling=Fe,me=Fe,ge=It}if(we===b.length)return a(L,ge),Je&&Li(L,we),he;if(ge===null){for(;we<b.length;we++)ge=Q(L,b[we],X),ge!==null&&(N=p(ge,N,we),me===null?he=ge:me.sibling=ge,me=ge);return Je&&Li(L,we),he}for(ge=c(L,ge);we<b.length;we++)It=ie(ge,L,we,b[we],X),It!==null&&(n&&It.alternate!==null&&ge.delete(It.key===null?we:It.key),N=p(It,N,we),me===null?he=It:me.sibling=It,me=It);return n&&ge.forEach(function(ti){return r(L,ti)}),Je&&Li(L,we),he}function le(L,N,b,X){var he=fe(b);if(typeof he!="function")throw Error(t(150));if(b=he.call(b),b==null)throw Error(t(151));for(var me=he=null,ge=N,we=N=0,It=null,Fe=b.next();ge!==null&&!Fe.done;we++,Fe=b.next()){ge.index>we?(It=ge,ge=null):It=ge.sibling;var ti=W(L,ge,Fe.value,X);if(ti===null){ge===null&&(ge=It);break}n&&ge&&ti.alternate===null&&r(L,ge),N=p(ti,N,we),me===null?he=ti:me.sibling=ti,me=ti,ge=It}if(Fe.done)return a(L,ge),Je&&Li(L,we),he;if(ge===null){for(;!Fe.done;we++,Fe=b.next())Fe=Q(L,Fe.value,X),Fe!==null&&(N=p(Fe,N,we),me===null?he=Fe:me.sibling=Fe,me=Fe);return Je&&Li(L,we),he}for(ge=c(L,ge);!Fe.done;we++,Fe=b.next())Fe=ie(ge,L,we,Fe.value,X),Fe!==null&&(n&&Fe.alternate!==null&&ge.delete(Fe.key===null?we:Fe.key),N=p(Fe,N,we),me===null?he=Fe:me.sibling=Fe,me=Fe);return n&&ge.forEach(function(Xv){return r(L,Xv)}),Je&&Li(L,we),he}function st(L,N,b,X){if(typeof b=="object"&&b!==null&&b.type===P&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case qe:e:{for(var he=b.key,me=N;me!==null;){if(me.key===he){if(he=b.type,he===P){if(me.tag===7){a(L,me.sibling),N=d(me,b.props.children),N.return=L,L=N;break e}}else if(me.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===lt&&Mf(he)===me.type){a(L,me.sibling),N=d(me,b.props),N.ref=Qo(L,me,b),N.return=L,L=N;break e}a(L,me);break}else r(L,me);me=me.sibling}b.type===P?(N=$i(b.props.children,L.mode,X,b.key),N.return=L,L=N):(X=Kl(b.type,b.key,b.props,null,L.mode,X),X.ref=Qo(L,N,b),X.return=L,L=X)}return _(L);case Pe:e:{for(me=b.key;N!==null;){if(N.key===me)if(N.tag===4&&N.stateNode.containerInfo===b.containerInfo&&N.stateNode.implementation===b.implementation){a(L,N.sibling),N=d(N,b.children||[]),N.return=L,L=N;break e}else{a(L,N);break}else r(L,N);N=N.sibling}N=_h(b,L.mode,X),N.return=L,L=N}return _(L);case lt:return me=b._init,st(L,N,me(b._payload),X)}if(ir(b))return ae(L,N,b,X);if(fe(b))return le(L,N,b,X);Il(L,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,N!==null&&N.tag===6?(a(L,N.sibling),N=d(N,b),N.return=L,L=N):(a(L,N),N=yh(b,L.mode,X),N.return=L,L=N),_(L)):a(L,N)}return st}var Ms=bf(!0),Ff=bf(!1),Sl=qr(null),Al=null,bs=null,kc=null;function Cc(){kc=bs=Al=null}function Pc(n){var r=Sl.current;Qe(Sl),n._currentValue=r}function Nc(n,r,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),n===a)break;n=n.return}}function Fs(n,r){Al=n,kc=bs=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&r)!==0&&(Jt=!0),n.firstContext=null)}function wn(n){var r=n._currentValue;if(kc!==n)if(n={context:n,memoizedValue:r,next:null},bs===null){if(Al===null)throw Error(t(308));bs=n,Al.dependencies={lanes:0,firstContext:n}}else bs=bs.next=n;return r}var Mi=null;function xc(n){Mi===null?Mi=[n]:Mi.push(n)}function Uf(n,r,a,c){var d=r.interleaved;return d===null?(a.next=a,xc(r)):(a.next=d.next,d.next=a),r.interleaved=a,yr(n,c)}function yr(n,r){n.lanes|=r;var a=n.alternate;for(a!==null&&(a.lanes|=r),a=n,n=n.return;n!==null;)n.childLanes|=r,a=n.alternate,a!==null&&(a.childLanes|=r),a=n,n=n.return;return a.tag===3?a.stateNode:null}var Kr=!1;function Dc(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jf(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function _r(n,r){return{eventTime:n,lane:r,tag:0,payload:null,callback:null,next:null}}function Gr(n,r,a){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(be&2)!==0){var d=c.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),c.pending=r,yr(n,a)}return d=c.interleaved,d===null?(r.next=r,xc(c)):(r.next=d.next,d.next=r),c.interleaved=r,yr(n,a)}function Rl(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194240)!==0)){var c=r.lanes;c&=n.pendingLanes,a|=c,r.lanes=a,br(n,a)}}function zf(n,r){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var d=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var _={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};p===null?d=p=_:p=p.next=_,a=a.next}while(a!==null);p===null?d=p=r:p=p.next=r}else d=p=r;a={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:c.shared,effects:c.effects},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}function kl(n,r,a,c){var d=n.updateQueue;Kr=!1;var p=d.firstBaseUpdate,_=d.lastBaseUpdate,T=d.shared.pending;if(T!==null){d.shared.pending=null;var R=T,F=R.next;R.next=null,_===null?p=F:_.next=F,_=R;var K=n.alternate;K!==null&&(K=K.updateQueue,T=K.lastBaseUpdate,T!==_&&(T===null?K.firstBaseUpdate=F:T.next=F,K.lastBaseUpdate=R))}if(p!==null){var Q=d.baseState;_=0,K=F=R=null,T=p;do{var W=T.lane,ie=T.eventTime;if((c&W)===W){K!==null&&(K=K.next={eventTime:ie,lane:0,tag:T.tag,payload:T.payload,callback:T.callback,next:null});e:{var ae=n,le=T;switch(W=r,ie=a,le.tag){case 1:if(ae=le.payload,typeof ae=="function"){Q=ae.call(ie,Q,W);break e}Q=ae;break e;case 3:ae.flags=ae.flags&-65537|128;case 0:if(ae=le.payload,W=typeof ae=="function"?ae.call(ie,Q,W):ae,W==null)break e;Q=re({},Q,W);break e;case 2:Kr=!0}}T.callback!==null&&T.lane!==0&&(n.flags|=64,W=d.effects,W===null?d.effects=[T]:W.push(T))}else ie={eventTime:ie,lane:W,tag:T.tag,payload:T.payload,callback:T.callback,next:null},K===null?(F=K=ie,R=Q):K=K.next=ie,_|=W;if(T=T.next,T===null){if(T=d.shared.pending,T===null)break;W=T,T=W.next,W.next=null,d.lastBaseUpdate=W,d.shared.pending=null}}while(!0);if(K===null&&(R=Q),d.baseState=R,d.firstBaseUpdate=F,d.lastBaseUpdate=K,r=d.shared.interleaved,r!==null){d=r;do _|=d.lane,d=d.next;while(d!==r)}else p===null&&(d.shared.lanes=0);Ui|=_,n.lanes=_,n.memoizedState=Q}}function Bf(n,r,a){if(n=r.effects,r.effects=null,n!==null)for(r=0;r<n.length;r++){var c=n[r],d=c.callback;if(d!==null){if(c.callback=null,c=a,typeof d!="function")throw Error(t(191,d));d.call(c)}}}var Yo={},Yn=qr(Yo),Xo=qr(Yo),Jo=qr(Yo);function bi(n){if(n===Yo)throw Error(t(174));return n}function Vc(n,r){switch(Ke(Jo,r),Ke(Xo,n),Ke(Yn,Yo),n=r.nodeType,n){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:gt(null,"");break;default:n=n===8?r.parentNode:r,r=n.namespaceURI||null,n=n.tagName,r=gt(r,n)}Qe(Yn),Ke(Yn,r)}function Us(){Qe(Yn),Qe(Xo),Qe(Jo)}function $f(n){bi(Jo.current);var r=bi(Yn.current),a=gt(r,n.type);r!==a&&(Ke(Xo,n),Ke(Yn,a))}function Oc(n){Xo.current===n&&(Qe(Yn),Qe(Xo))}var et=qr(0);function Cl(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Lc=[];function Mc(){for(var n=0;n<Lc.length;n++)Lc[n]._workInProgressVersionPrimary=null;Lc.length=0}var Pl=Ce.ReactCurrentDispatcher,bc=Ce.ReactCurrentBatchConfig,Fi=0,tt=null,_t=null,Et=null,Nl=!1,Zo=!1,ea=0,vv=0;function Mt(){throw Error(t(321))}function Fc(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!On(n[a],r[a]))return!1;return!0}function Uc(n,r,a,c,d,p){if(Fi=p,tt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Pl.current=n===null||n.memoizedState===null?Iv:Sv,n=a(c,d),Zo){p=0;do{if(Zo=!1,ea=0,25<=p)throw Error(t(301));p+=1,Et=_t=null,r.updateQueue=null,Pl.current=Av,n=a(c,d)}while(Zo)}if(Pl.current=Vl,r=_t!==null&&_t.next!==null,Fi=0,Et=_t=tt=null,Nl=!1,r)throw Error(t(300));return n}function jc(){var n=ea!==0;return ea=0,n}function Xn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?tt.memoizedState=Et=n:Et=Et.next=n,Et}function En(){if(_t===null){var n=tt.alternate;n=n!==null?n.memoizedState:null}else n=_t.next;var r=Et===null?tt.memoizedState:Et.next;if(r!==null)Et=r,_t=n;else{if(n===null)throw Error(t(310));_t=n,n={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},Et===null?tt.memoizedState=Et=n:Et=Et.next=n}return Et}function ta(n,r){return typeof r=="function"?r(n):r}function zc(n){var r=En(),a=r.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=_t,d=c.baseQueue,p=a.pending;if(p!==null){if(d!==null){var _=d.next;d.next=p.next,p.next=_}c.baseQueue=d=p,a.pending=null}if(d!==null){p=d.next,c=c.baseState;var T=_=null,R=null,F=p;do{var K=F.lane;if((Fi&K)===K)R!==null&&(R=R.next={lane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),c=F.hasEagerState?F.eagerState:n(c,F.action);else{var Q={lane:K,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null};R===null?(T=R=Q,_=c):R=R.next=Q,tt.lanes|=K,Ui|=K}F=F.next}while(F!==null&&F!==p);R===null?_=c:R.next=T,On(c,r.memoizedState)||(Jt=!0),r.memoizedState=c,r.baseState=_,r.baseQueue=R,a.lastRenderedState=c}if(n=a.interleaved,n!==null){d=n;do p=d.lane,tt.lanes|=p,Ui|=p,d=d.next;while(d!==n)}else d===null&&(a.lanes=0);return[r.memoizedState,a.dispatch]}function Bc(n){var r=En(),a=r.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=a.dispatch,d=a.pending,p=r.memoizedState;if(d!==null){a.pending=null;var _=d=d.next;do p=n(p,_.action),_=_.next;while(_!==d);On(p,r.memoizedState)||(Jt=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),a.lastRenderedState=p}return[p,c]}function qf(){}function Hf(n,r){var a=tt,c=En(),d=r(),p=!On(c.memoizedState,d);if(p&&(c.memoizedState=d,Jt=!0),c=c.queue,$c(Gf.bind(null,a,c,n),[n]),c.getSnapshot!==r||p||Et!==null&&Et.memoizedState.tag&1){if(a.flags|=2048,na(9,Kf.bind(null,a,c,d,r),void 0,null),Tt===null)throw Error(t(349));(Fi&30)!==0||Wf(a,r,d)}return d}function Wf(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=tt.updateQueue,r===null?(r={lastEffect:null,stores:null},tt.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function Kf(n,r,a,c){r.value=a,r.getSnapshot=c,Qf(r)&&Yf(n)}function Gf(n,r,a){return a(function(){Qf(r)&&Yf(n)})}function Qf(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!On(n,a)}catch{return!0}}function Yf(n){var r=yr(n,1);r!==null&&Un(r,n,1,-1)}function Xf(n){var r=Xn();return typeof n=="function"&&(n=n()),r.memoizedState=r.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ta,lastRenderedState:n},r.queue=n,n=n.dispatch=Tv.bind(null,tt,n),[r.memoizedState,n]}function na(n,r,a,c){return n={tag:n,create:r,destroy:a,deps:c,next:null},r=tt.updateQueue,r===null?(r={lastEffect:null,stores:null},tt.updateQueue=r,r.lastEffect=n.next=n):(a=r.lastEffect,a===null?r.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,r.lastEffect=n)),n}function Jf(){return En().memoizedState}function xl(n,r,a,c){var d=Xn();tt.flags|=n,d.memoizedState=na(1|r,a,void 0,c===void 0?null:c)}function Dl(n,r,a,c){var d=En();c=c===void 0?null:c;var p=void 0;if(_t!==null){var _=_t.memoizedState;if(p=_.destroy,c!==null&&Fc(c,_.deps)){d.memoizedState=na(r,a,p,c);return}}tt.flags|=n,d.memoizedState=na(1|r,a,p,c)}function Zf(n,r){return xl(8390656,8,n,r)}function $c(n,r){return Dl(2048,8,n,r)}function ep(n,r){return Dl(4,2,n,r)}function tp(n,r){return Dl(4,4,n,r)}function np(n,r){if(typeof r=="function")return n=n(),r(n),function(){r(null)};if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function rp(n,r,a){return a=a!=null?a.concat([n]):null,Dl(4,4,np.bind(null,r,n),a)}function qc(){}function ip(n,r){var a=En();r=r===void 0?null:r;var c=a.memoizedState;return c!==null&&r!==null&&Fc(r,c[1])?c[0]:(a.memoizedState=[n,r],n)}function sp(n,r){var a=En();r=r===void 0?null:r;var c=a.memoizedState;return c!==null&&r!==null&&Fc(r,c[1])?c[0]:(n=n(),a.memoizedState=[n,r],n)}function op(n,r,a){return(Fi&21)===0?(n.baseState&&(n.baseState=!1,Jt=!0),n.memoizedState=a):(On(a,r)||(a=ki(),tt.lanes|=a,Ui|=a,n.baseState=!0),r)}function wv(n,r){var a=Ve;Ve=a!==0&&4>a?a:4,n(!0);var c=bc.transition;bc.transition={};try{n(!1),r()}finally{Ve=a,bc.transition=c}}function ap(){return En().memoizedState}function Ev(n,r,a){var c=Jr(n);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},lp(n))up(r,a);else if(a=Uf(n,r,a,c),a!==null){var d=Kt();Un(a,n,c,d),cp(a,r,c)}}function Tv(n,r,a){var c=Jr(n),d={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(lp(n))up(r,d);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var _=r.lastRenderedState,T=p(_,a);if(d.hasEagerState=!0,d.eagerState=T,On(T,_)){var R=r.interleaved;R===null?(d.next=d,xc(r)):(d.next=R.next,R.next=d),r.interleaved=d;return}}catch{}finally{}a=Uf(n,r,d,c),a!==null&&(d=Kt(),Un(a,n,c,d),cp(a,r,c))}}function lp(n){var r=n.alternate;return n===tt||r!==null&&r===tt}function up(n,r){Zo=Nl=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function cp(n,r,a){if((a&4194240)!==0){var c=r.lanes;c&=n.pendingLanes,a|=c,r.lanes=a,br(n,a)}}var Vl={readContext:wn,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useInsertionEffect:Mt,useLayoutEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useMutableSource:Mt,useSyncExternalStore:Mt,useId:Mt,unstable_isNewReconciler:!1},Iv={readContext:wn,useCallback:function(n,r){return Xn().memoizedState=[n,r===void 0?null:r],n},useContext:wn,useEffect:Zf,useImperativeHandle:function(n,r,a){return a=a!=null?a.concat([n]):null,xl(4194308,4,np.bind(null,r,n),a)},useLayoutEffect:function(n,r){return xl(4194308,4,n,r)},useInsertionEffect:function(n,r){return xl(4,2,n,r)},useMemo:function(n,r){var a=Xn();return r=r===void 0?null:r,n=n(),a.memoizedState=[n,r],n},useReducer:function(n,r,a){var c=Xn();return r=a!==void 0?a(r):r,c.memoizedState=c.baseState=r,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:r},c.queue=n,n=n.dispatch=Ev.bind(null,tt,n),[c.memoizedState,n]},useRef:function(n){var r=Xn();return n={current:n},r.memoizedState=n},useState:Xf,useDebugValue:qc,useDeferredValue:function(n){return Xn().memoizedState=n},useTransition:function(){var n=Xf(!1),r=n[0];return n=wv.bind(null,n[1]),Xn().memoizedState=n,[r,n]},useMutableSource:function(){},useSyncExternalStore:function(n,r,a){var c=tt,d=Xn();if(Je){if(a===void 0)throw Error(t(407));a=a()}else{if(a=r(),Tt===null)throw Error(t(349));(Fi&30)!==0||Wf(c,r,a)}d.memoizedState=a;var p={value:a,getSnapshot:r};return d.queue=p,Zf(Gf.bind(null,c,p,n),[n]),c.flags|=2048,na(9,Kf.bind(null,c,p,a,r),void 0,null),a},useId:function(){var n=Xn(),r=Tt.identifierPrefix;if(Je){var a=gr,c=mr;a=(c&~(1<<32-qt(c)-1)).toString(32)+a,r=":"+r+"R"+a,a=ea++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=vv++,r=":"+r+"r"+a.toString(32)+":";return n.memoizedState=r},unstable_isNewReconciler:!1},Sv={readContext:wn,useCallback:ip,useContext:wn,useEffect:$c,useImperativeHandle:rp,useInsertionEffect:ep,useLayoutEffect:tp,useMemo:sp,useReducer:zc,useRef:Jf,useState:function(){return zc(ta)},useDebugValue:qc,useDeferredValue:function(n){var r=En();return op(r,_t.memoizedState,n)},useTransition:function(){var n=zc(ta)[0],r=En().memoizedState;return[n,r]},useMutableSource:qf,useSyncExternalStore:Hf,useId:ap,unstable_isNewReconciler:!1},Av={readContext:wn,useCallback:ip,useContext:wn,useEffect:$c,useImperativeHandle:rp,useInsertionEffect:ep,useLayoutEffect:tp,useMemo:sp,useReducer:Bc,useRef:Jf,useState:function(){return Bc(ta)},useDebugValue:qc,useDeferredValue:function(n){var r=En();return _t===null?r.memoizedState=n:op(r,_t.memoizedState,n)},useTransition:function(){var n=Bc(ta)[0],r=En().memoizedState;return[n,r]},useMutableSource:qf,useSyncExternalStore:Hf,useId:ap,unstable_isNewReconciler:!1};function Mn(n,r){if(n&&n.defaultProps){r=re({},r),n=n.defaultProps;for(var a in n)r[a]===void 0&&(r[a]=n[a]);return r}return r}function Hc(n,r,a,c){r=n.memoizedState,a=a(c,r),a=a==null?r:re({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Ol={isMounted:function(n){return(n=n._reactInternals)?kn(n)===n:!1},enqueueSetState:function(n,r,a){n=n._reactInternals;var c=Kt(),d=Jr(n),p=_r(c,d);p.payload=r,a!=null&&(p.callback=a),r=Gr(n,p,d),r!==null&&(Un(r,n,d,c),Rl(r,n,d))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var c=Kt(),d=Jr(n),p=_r(c,d);p.tag=1,p.payload=r,a!=null&&(p.callback=a),r=Gr(n,p,d),r!==null&&(Un(r,n,d,c),Rl(r,n,d))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=Kt(),c=Jr(n),d=_r(a,c);d.tag=2,r!=null&&(d.callback=r),r=Gr(n,d,c),r!==null&&(Un(r,n,c,a),Rl(r,n,c))}};function hp(n,r,a,c,d,p,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,p,_):r.prototype&&r.prototype.isPureReactComponent?!Bo(a,c)||!Bo(d,p):!0}function dp(n,r,a){var c=!1,d=Hr,p=r.contextType;return typeof p=="object"&&p!==null?p=wn(p):(d=Xt(r)?Vi:Lt.current,c=r.contextTypes,p=(c=c!=null)?Ds(n,d):Hr),r=new r(a,p),n.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Ol,n.stateNode=r,r._reactInternals=n,c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=d,n.__reactInternalMemoizedMaskedChildContext=p),r}function fp(n,r,a,c){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,c),r.state!==n&&Ol.enqueueReplaceState(r,r.state,null)}function Wc(n,r,a,c){var d=n.stateNode;d.props=a,d.state=n.memoizedState,d.refs={},Dc(n);var p=r.contextType;typeof p=="object"&&p!==null?d.context=wn(p):(p=Xt(r)?Vi:Lt.current,d.context=Ds(n,p)),d.state=n.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(Hc(n,r,p,a),d.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(r=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),r!==d.state&&Ol.enqueueReplaceState(d,d.state,null),kl(n,a,d,c),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308)}function js(n,r){try{var a="",c=r;do a+=te(c),c=c.return;while(c);var d=a}catch(p){d=`
Error generating stack: `+p.message+`
`+p.stack}return{value:n,source:r,stack:d,digest:null}}function Kc(n,r,a){return{value:n,source:null,stack:a??null,digest:r??null}}function Gc(n,r){try{console.error(r.value)}catch(a){setTimeout(function(){throw a})}}var Rv=typeof WeakMap=="function"?WeakMap:Map;function pp(n,r,a){a=_r(-1,a),a.tag=3,a.payload={element:null};var c=r.value;return a.callback=function(){zl||(zl=!0,uh=c),Gc(n,r)},a}function mp(n,r,a){a=_r(-1,a),a.tag=3;var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var d=r.value;a.payload=function(){return c(d)},a.callback=function(){Gc(n,r)}}var p=n.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(a.callback=function(){Gc(n,r),typeof c!="function"&&(Yr===null?Yr=new Set([this]):Yr.add(this));var _=r.stack;this.componentDidCatch(r.value,{componentStack:_!==null?_:""})}),a}function gp(n,r,a){var c=n.pingCache;if(c===null){c=n.pingCache=new Rv;var d=new Set;c.set(r,d)}else d=c.get(r),d===void 0&&(d=new Set,c.set(r,d));d.has(a)||(d.add(a),n=jv.bind(null,n,r,a),r.then(n,n))}function yp(n){do{var r;if((r=n.tag===13)&&(r=n.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return n;n=n.return}while(n!==null);return null}function _p(n,r,a,c,d){return(n.mode&1)===0?(n===r?n.flags|=65536:(n.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(r=_r(-1,1),r.tag=2,Gr(a,r,1))),a.lanes|=1),n):(n.flags|=65536,n.lanes=d,n)}var kv=Ce.ReactCurrentOwner,Jt=!1;function Wt(n,r,a,c){r.child=n===null?Ff(r,null,a,c):Ms(r,n.child,a,c)}function vp(n,r,a,c,d){a=a.render;var p=r.ref;return Fs(r,d),c=Uc(n,r,a,c,p,d),a=jc(),n!==null&&!Jt?(r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~d,vr(n,r,d)):(Je&&a&&Tc(r),r.flags|=1,Wt(n,r,c,d),r.child)}function wp(n,r,a,c,d){if(n===null){var p=a.type;return typeof p=="function"&&!gh(p)&&p.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(r.tag=15,r.type=p,Ep(n,r,p,c,d)):(n=Kl(a.type,null,c,r,r.mode,d),n.ref=r.ref,n.return=r,r.child=n)}if(p=n.child,(n.lanes&d)===0){var _=p.memoizedProps;if(a=a.compare,a=a!==null?a:Bo,a(_,c)&&n.ref===r.ref)return vr(n,r,d)}return r.flags|=1,n=ei(p,c),n.ref=r.ref,n.return=r,r.child=n}function Ep(n,r,a,c,d){if(n!==null){var p=n.memoizedProps;if(Bo(p,c)&&n.ref===r.ref)if(Jt=!1,r.pendingProps=c=p,(n.lanes&d)!==0)(n.flags&131072)!==0&&(Jt=!0);else return r.lanes=n.lanes,vr(n,r,d)}return Qc(n,r,a,c,d)}function Tp(n,r,a){var c=r.pendingProps,d=c.children,p=n!==null?n.memoizedState:null;if(c.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(Bs,dn),dn|=a;else{if((a&1073741824)===0)return n=p!==null?p.baseLanes|a:a,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:n,cachePool:null,transitions:null},r.updateQueue=null,Ke(Bs,dn),dn|=n,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=p!==null?p.baseLanes:a,Ke(Bs,dn),dn|=c}else p!==null?(c=p.baseLanes|a,r.memoizedState=null):c=a,Ke(Bs,dn),dn|=c;return Wt(n,r,d,a),r.child}function Ip(n,r){var a=r.ref;(n===null&&a!==null||n!==null&&n.ref!==a)&&(r.flags|=512,r.flags|=2097152)}function Qc(n,r,a,c,d){var p=Xt(a)?Vi:Lt.current;return p=Ds(r,p),Fs(r,d),a=Uc(n,r,a,c,p,d),c=jc(),n!==null&&!Jt?(r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~d,vr(n,r,d)):(Je&&c&&Tc(r),r.flags|=1,Wt(n,r,a,d),r.child)}function Sp(n,r,a,c,d){if(Xt(a)){var p=!0;_l(r)}else p=!1;if(Fs(r,d),r.stateNode===null)Ml(n,r),dp(r,a,c),Wc(r,a,c,d),c=!0;else if(n===null){var _=r.stateNode,T=r.memoizedProps;_.props=T;var R=_.context,F=a.contextType;typeof F=="object"&&F!==null?F=wn(F):(F=Xt(a)?Vi:Lt.current,F=Ds(r,F));var K=a.getDerivedStateFromProps,Q=typeof K=="function"||typeof _.getSnapshotBeforeUpdate=="function";Q||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(T!==c||R!==F)&&fp(r,_,c,F),Kr=!1;var W=r.memoizedState;_.state=W,kl(r,c,_,d),R=r.memoizedState,T!==c||W!==R||Yt.current||Kr?(typeof K=="function"&&(Hc(r,a,K,c),R=r.memoizedState),(T=Kr||hp(r,a,T,c,W,R,F))?(Q||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(r.flags|=4194308)):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=R),_.props=c,_.state=R,_.context=F,c=T):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{_=r.stateNode,jf(n,r),T=r.memoizedProps,F=r.type===r.elementType?T:Mn(r.type,T),_.props=F,Q=r.pendingProps,W=_.context,R=a.contextType,typeof R=="object"&&R!==null?R=wn(R):(R=Xt(a)?Vi:Lt.current,R=Ds(r,R));var ie=a.getDerivedStateFromProps;(K=typeof ie=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(T!==Q||W!==R)&&fp(r,_,c,R),Kr=!1,W=r.memoizedState,_.state=W,kl(r,c,_,d);var ae=r.memoizedState;T!==Q||W!==ae||Yt.current||Kr?(typeof ie=="function"&&(Hc(r,a,ie,c),ae=r.memoizedState),(F=Kr||hp(r,a,F,c,W,ae,R)||!1)?(K||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,ae,R),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,ae,R)),typeof _.componentDidUpdate=="function"&&(r.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof _.componentDidUpdate!="function"||T===n.memoizedProps&&W===n.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&W===n.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=ae),_.props=c,_.state=ae,_.context=R,c=F):(typeof _.componentDidUpdate!="function"||T===n.memoizedProps&&W===n.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&W===n.memoizedState||(r.flags|=1024),c=!1)}return Yc(n,r,a,c,p,d)}function Yc(n,r,a,c,d,p){Ip(n,r);var _=(r.flags&128)!==0;if(!c&&!_)return d&&Pf(r,a,!1),vr(n,r,p);c=r.stateNode,kv.current=r;var T=_&&typeof a.getDerivedStateFromError!="function"?null:c.render();return r.flags|=1,n!==null&&_?(r.child=Ms(r,n.child,null,p),r.child=Ms(r,null,T,p)):Wt(n,r,T,p),r.memoizedState=c.state,d&&Pf(r,a,!0),r.child}function Ap(n){var r=n.stateNode;r.pendingContext?kf(n,r.pendingContext,r.pendingContext!==r.context):r.context&&kf(n,r.context,!1),Vc(n,r.containerInfo)}function Rp(n,r,a,c,d){return Ls(),Rc(d),r.flags|=256,Wt(n,r,a,c),r.child}var Xc={dehydrated:null,treeContext:null,retryLane:0};function Jc(n){return{baseLanes:n,cachePool:null,transitions:null}}function kp(n,r,a){var c=r.pendingProps,d=et.current,p=!1,_=(r.flags&128)!==0,T;if((T=_)||(T=n!==null&&n.memoizedState===null?!1:(d&2)!==0),T?(p=!0,r.flags&=-129):(n===null||n.memoizedState!==null)&&(d|=1),Ke(et,d&1),n===null)return Ac(r),n=r.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((r.mode&1)===0?r.lanes=1:n.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(_=c.children,n=c.fallback,p?(c=r.mode,p=r.child,_={mode:"hidden",children:_},(c&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=_):p=Gl(_,c,0,null),n=$i(n,c,a,null),p.return=r,n.return=r,p.sibling=n,r.child=p,r.child.memoizedState=Jc(a),r.memoizedState=Xc,n):Zc(r,_));if(d=n.memoizedState,d!==null&&(T=d.dehydrated,T!==null))return Cv(n,r,_,c,T,d,a);if(p){p=c.fallback,_=r.mode,d=n.child,T=d.sibling;var R={mode:"hidden",children:c.children};return(_&1)===0&&r.child!==d?(c=r.child,c.childLanes=0,c.pendingProps=R,r.deletions=null):(c=ei(d,R),c.subtreeFlags=d.subtreeFlags&14680064),T!==null?p=ei(T,p):(p=$i(p,_,a,null),p.flags|=2),p.return=r,c.return=r,c.sibling=p,r.child=c,c=p,p=r.child,_=n.child.memoizedState,_=_===null?Jc(a):{baseLanes:_.baseLanes|a,cachePool:null,transitions:_.transitions},p.memoizedState=_,p.childLanes=n.childLanes&~a,r.memoizedState=Xc,c}return p=n.child,n=p.sibling,c=ei(p,{mode:"visible",children:c.children}),(r.mode&1)===0&&(c.lanes=a),c.return=r,c.sibling=null,n!==null&&(a=r.deletions,a===null?(r.deletions=[n],r.flags|=16):a.push(n)),r.child=c,r.memoizedState=null,c}function Zc(n,r){return r=Gl({mode:"visible",children:r},n.mode,0,null),r.return=n,n.child=r}function Ll(n,r,a,c){return c!==null&&Rc(c),Ms(r,n.child,null,a),n=Zc(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function Cv(n,r,a,c,d,p,_){if(a)return r.flags&256?(r.flags&=-257,c=Kc(Error(t(422))),Ll(n,r,_,c)):r.memoizedState!==null?(r.child=n.child,r.flags|=128,null):(p=c.fallback,d=r.mode,c=Gl({mode:"visible",children:c.children},d,0,null),p=$i(p,d,_,null),p.flags|=2,c.return=r,p.return=r,c.sibling=p,r.child=c,(r.mode&1)!==0&&Ms(r,n.child,null,_),r.child.memoizedState=Jc(_),r.memoizedState=Xc,p);if((r.mode&1)===0)return Ll(n,r,_,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var T=c.dgst;return c=T,p=Error(t(419)),c=Kc(p,c,void 0),Ll(n,r,_,c)}if(T=(_&n.childLanes)!==0,Jt||T){if(c=Tt,c!==null){switch(_&-_){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(c.suspendedLanes|_))!==0?0:d,d!==0&&d!==p.retryLane&&(p.retryLane=d,yr(n,d),Un(c,n,d,-1))}return mh(),c=Kc(Error(t(421))),Ll(n,r,_,c)}return d.data==="$?"?(r.flags|=128,r.child=n.child,r=zv.bind(null,n),d._reactRetry=r,null):(n=p.treeContext,hn=$r(d.nextSibling),cn=r,Je=!0,Ln=null,n!==null&&(_n[vn++]=mr,_n[vn++]=gr,_n[vn++]=Oi,mr=n.id,gr=n.overflow,Oi=r),r=Zc(r,c.children),r.flags|=4096,r)}function Cp(n,r,a){n.lanes|=r;var c=n.alternate;c!==null&&(c.lanes|=r),Nc(n.return,r,a)}function eh(n,r,a,c,d){var p=n.memoizedState;p===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:d}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=c,p.tail=a,p.tailMode=d)}function Pp(n,r,a){var c=r.pendingProps,d=c.revealOrder,p=c.tail;if(Wt(n,r,c.children,a),c=et.current,(c&2)!==0)c=c&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Cp(n,a,r);else if(n.tag===19)Cp(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}if(Ke(et,c),(r.mode&1)===0)r.memoizedState=null;else switch(d){case"forwards":for(a=r.child,d=null;a!==null;)n=a.alternate,n!==null&&Cl(n)===null&&(d=a),a=a.sibling;a=d,a===null?(d=r.child,r.child=null):(d=a.sibling,a.sibling=null),eh(r,!1,d,a,p);break;case"backwards":for(a=null,d=r.child,r.child=null;d!==null;){if(n=d.alternate,n!==null&&Cl(n)===null){r.child=d;break}n=d.sibling,d.sibling=a,a=d,d=n}eh(r,!0,a,null,p);break;case"together":eh(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Ml(n,r){(r.mode&1)===0&&n!==null&&(n.alternate=null,r.alternate=null,r.flags|=2)}function vr(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),Ui|=r.lanes,(a&r.childLanes)===0)return null;if(n!==null&&r.child!==n.child)throw Error(t(153));if(r.child!==null){for(n=r.child,a=ei(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=ei(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function Pv(n,r,a){switch(r.tag){case 3:Ap(r),Ls();break;case 5:$f(r);break;case 1:Xt(r.type)&&_l(r);break;case 4:Vc(r,r.stateNode.containerInfo);break;case 10:var c=r.type._context,d=r.memoizedProps.value;Ke(Sl,c._currentValue),c._currentValue=d;break;case 13:if(c=r.memoizedState,c!==null)return c.dehydrated!==null?(Ke(et,et.current&1),r.flags|=128,null):(a&r.child.childLanes)!==0?kp(n,r,a):(Ke(et,et.current&1),n=vr(n,r,a),n!==null?n.sibling:null);Ke(et,et.current&1);break;case 19:if(c=(a&r.childLanes)!==0,(n.flags&128)!==0){if(c)return Pp(n,r,a);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Ke(et,et.current),c)break;return null;case 22:case 23:return r.lanes=0,Tp(n,r,a)}return vr(n,r,a)}var Np,th,xp,Dp;Np=function(n,r){for(var a=r.child;a!==null;){if(a.tag===5||a.tag===6)n.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},th=function(){},xp=function(n,r,a,c){var d=n.memoizedProps;if(d!==c){n=r.stateNode,bi(Yn.current);var p=null;switch(a){case"input":d=fn(n,d),c=fn(n,c),p=[];break;case"select":d=re({},d,{value:void 0}),c=re({},c,{value:void 0}),p=[];break;case"textarea":d=yo(n,d),c=yo(n,c),p=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(n.onclick=ml)}Io(a,c);var _;a=null;for(F in d)if(!c.hasOwnProperty(F)&&d.hasOwnProperty(F)&&d[F]!=null)if(F==="style"){var T=d[F];for(_ in T)T.hasOwnProperty(_)&&(a||(a={}),a[_]="")}else F!=="dangerouslySetInnerHTML"&&F!=="children"&&F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&F!=="autoFocus"&&(o.hasOwnProperty(F)?p||(p=[]):(p=p||[]).push(F,null));for(F in c){var R=c[F];if(T=d?.[F],c.hasOwnProperty(F)&&R!==T&&(R!=null||T!=null))if(F==="style")if(T){for(_ in T)!T.hasOwnProperty(_)||R&&R.hasOwnProperty(_)||(a||(a={}),a[_]="");for(_ in R)R.hasOwnProperty(_)&&T[_]!==R[_]&&(a||(a={}),a[_]=R[_])}else a||(p||(p=[]),p.push(F,a)),a=R;else F==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,T=T?T.__html:void 0,R!=null&&T!==R&&(p=p||[]).push(F,R)):F==="children"?typeof R!="string"&&typeof R!="number"||(p=p||[]).push(F,""+R):F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&(o.hasOwnProperty(F)?(R!=null&&F==="onScroll"&&Ge("scroll",n),p||T===R||(p=[])):(p=p||[]).push(F,R))}a&&(p=p||[]).push("style",a);var F=p;(r.updateQueue=F)&&(r.flags|=4)}},Dp=function(n,r,a,c){a!==c&&(r.flags|=4)};function ra(n,r){if(!Je)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function bt(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(r)for(var d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=c,n.childLanes=a,r}function Nv(n,r,a){var c=r.pendingProps;switch(Ic(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(r),null;case 1:return Xt(r.type)&&yl(),bt(r),null;case 3:return c=r.stateNode,Us(),Qe(Yt),Qe(Lt),Mc(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(Tl(r)?r.flags|=4:n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Ln!==null&&(dh(Ln),Ln=null))),th(n,r),bt(r),null;case 5:Oc(r);var d=bi(Jo.current);if(a=r.type,n!==null&&r.stateNode!=null)xp(n,r,a,c,d),n.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!c){if(r.stateNode===null)throw Error(t(166));return bt(r),null}if(n=bi(Yn.current),Tl(r)){c=r.stateNode,a=r.type;var p=r.memoizedProps;switch(c[Qn]=r,c[Ko]=p,n=(r.mode&1)!==0,a){case"dialog":Ge("cancel",c),Ge("close",c);break;case"iframe":case"object":case"embed":Ge("load",c);break;case"video":case"audio":for(d=0;d<qo.length;d++)Ge(qo[d],c);break;case"source":Ge("error",c);break;case"img":case"image":case"link":Ge("error",c),Ge("load",c);break;case"details":Ge("toggle",c);break;case"input":$e(c,p),Ge("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!p.multiple},Ge("invalid",c);break;case"textarea":ns(c,p),Ge("invalid",c)}Io(a,p),d=null;for(var _ in p)if(p.hasOwnProperty(_)){var T=p[_];_==="children"?typeof T=="string"?c.textContent!==T&&(p.suppressHydrationWarning!==!0&&pl(c.textContent,T,n),d=["children",T]):typeof T=="number"&&c.textContent!==""+T&&(p.suppressHydrationWarning!==!0&&pl(c.textContent,T,n),d=["children",""+T]):o.hasOwnProperty(_)&&T!=null&&_==="onScroll"&&Ge("scroll",c)}switch(a){case"input":ke(c),ja(c,p,!0);break;case"textarea":ke(c),_o(c);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(c.onclick=ml)}c=d,r.updateQueue=c,c!==null&&(r.flags|=4)}else{_=d.nodeType===9?d:d.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=mt(a)),n==="http://www.w3.org/1999/xhtml"?a==="script"?(n=_.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof c.is=="string"?n=_.createElement(a,{is:c.is}):(n=_.createElement(a),a==="select"&&(_=n,c.multiple?_.multiple=!0:c.size&&(_.size=c.size))):n=_.createElementNS(n,a),n[Qn]=r,n[Ko]=c,Np(n,r,!1,!1),r.stateNode=n;e:{switch(_=So(a,c),a){case"dialog":Ge("cancel",n),Ge("close",n),d=c;break;case"iframe":case"object":case"embed":Ge("load",n),d=c;break;case"video":case"audio":for(d=0;d<qo.length;d++)Ge(qo[d],n);d=c;break;case"source":Ge("error",n),d=c;break;case"img":case"image":case"link":Ge("error",n),Ge("load",n),d=c;break;case"details":Ge("toggle",n),d=c;break;case"input":$e(n,c),d=fn(n,c),Ge("invalid",n);break;case"option":d=c;break;case"select":n._wrapperState={wasMultiple:!!c.multiple},d=re({},c,{value:void 0}),Ge("invalid",n);break;case"textarea":ns(n,c),d=yo(n,c),Ge("invalid",n);break;default:d=c}Io(a,d),T=d;for(p in T)if(T.hasOwnProperty(p)){var R=T[p];p==="style"?Eo(n,R):p==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,R!=null&&vo(n,R)):p==="children"?typeof R=="string"?(a!=="textarea"||R!=="")&&Dr(n,R):typeof R=="number"&&Dr(n,""+R):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(o.hasOwnProperty(p)?R!=null&&p==="onScroll"&&Ge("scroll",n):R!=null&&ve(n,p,R,_))}switch(a){case"input":ke(n),ja(n,c,!1);break;case"textarea":ke(n),_o(n);break;case"option":c.value!=null&&n.setAttribute("value",""+_e(c.value));break;case"select":n.multiple=!!c.multiple,p=c.value,p!=null?sr(n,!!c.multiple,p,!1):c.defaultValue!=null&&sr(n,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(n.onclick=ml)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return bt(r),null;case 6:if(n&&r.stateNode!=null)Dp(n,r,n.memoizedProps,c);else{if(typeof c!="string"&&r.stateNode===null)throw Error(t(166));if(a=bi(Jo.current),bi(Yn.current),Tl(r)){if(c=r.stateNode,a=r.memoizedProps,c[Qn]=r,(p=c.nodeValue!==a)&&(n=cn,n!==null))switch(n.tag){case 3:pl(c.nodeValue,a,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&pl(c.nodeValue,a,(n.mode&1)!==0)}p&&(r.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[Qn]=r,r.stateNode=c}return bt(r),null;case 13:if(Qe(et),c=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Je&&hn!==null&&(r.mode&1)!==0&&(r.flags&128)===0)Lf(),Ls(),r.flags|=98560,p=!1;else if(p=Tl(r),c!==null&&c.dehydrated!==null){if(n===null){if(!p)throw Error(t(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(t(317));p[Qn]=r}else Ls(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;bt(r),p=!1}else Ln!==null&&(dh(Ln),Ln=null),p=!0;if(!p)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=a,r):(c=c!==null,c!==(n!==null&&n.memoizedState!==null)&&c&&(r.child.flags|=8192,(r.mode&1)!==0&&(n===null||(et.current&1)!==0?vt===0&&(vt=3):mh())),r.updateQueue!==null&&(r.flags|=4),bt(r),null);case 4:return Us(),th(n,r),n===null&&Ho(r.stateNode.containerInfo),bt(r),null;case 10:return Pc(r.type._context),bt(r),null;case 17:return Xt(r.type)&&yl(),bt(r),null;case 19:if(Qe(et),p=r.memoizedState,p===null)return bt(r),null;if(c=(r.flags&128)!==0,_=p.rendering,_===null)if(c)ra(p,!1);else{if(vt!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(_=Cl(n),_!==null){for(r.flags|=128,ra(p,!1),c=_.updateQueue,c!==null&&(r.updateQueue=c,r.flags|=4),r.subtreeFlags=0,c=a,a=r.child;a!==null;)p=a,n=c,p.flags&=14680066,_=p.alternate,_===null?(p.childLanes=0,p.lanes=n,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=_.childLanes,p.lanes=_.lanes,p.child=_.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=_.memoizedProps,p.memoizedState=_.memoizedState,p.updateQueue=_.updateQueue,p.type=_.type,n=_.dependencies,p.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),a=a.sibling;return Ke(et,et.current&1|2),r.child}n=n.sibling}p.tail!==null&&We()>$s&&(r.flags|=128,c=!0,ra(p,!1),r.lanes=4194304)}else{if(!c)if(n=Cl(_),n!==null){if(r.flags|=128,c=!0,a=n.updateQueue,a!==null&&(r.updateQueue=a,r.flags|=4),ra(p,!0),p.tail===null&&p.tailMode==="hidden"&&!_.alternate&&!Je)return bt(r),null}else 2*We()-p.renderingStartTime>$s&&a!==1073741824&&(r.flags|=128,c=!0,ra(p,!1),r.lanes=4194304);p.isBackwards?(_.sibling=r.child,r.child=_):(a=p.last,a!==null?a.sibling=_:r.child=_,p.last=_)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=We(),r.sibling=null,a=et.current,Ke(et,c?a&1|2:a&1),r):(bt(r),null);case 22:case 23:return ph(),c=r.memoizedState!==null,n!==null&&n.memoizedState!==null!==c&&(r.flags|=8192),c&&(r.mode&1)!==0?(dn&1073741824)!==0&&(bt(r),r.subtreeFlags&6&&(r.flags|=8192)):bt(r),null;case 24:return null;case 25:return null}throw Error(t(156,r.tag))}function xv(n,r){switch(Ic(r),r.tag){case 1:return Xt(r.type)&&yl(),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return Us(),Qe(Yt),Qe(Lt),Mc(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 5:return Oc(r),null;case 13:if(Qe(et),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(t(340));Ls()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return Qe(et),null;case 4:return Us(),null;case 10:return Pc(r.type._context),null;case 22:case 23:return ph(),null;case 24:return null;default:return null}}var bl=!1,Ft=!1,Dv=typeof WeakSet=="function"?WeakSet:Set,oe=null;function zs(n,r){var a=n.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){rt(n,r,c)}else a.current=null}function nh(n,r,a){try{a()}catch(c){rt(n,r,c)}}var Vp=!1;function Vv(n,r){if(pc=jr,n=hf(),oc(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var d=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break e}var _=0,T=-1,R=-1,F=0,K=0,Q=n,W=null;t:for(;;){for(var ie;Q!==a||d!==0&&Q.nodeType!==3||(T=_+d),Q!==p||c!==0&&Q.nodeType!==3||(R=_+c),Q.nodeType===3&&(_+=Q.nodeValue.length),(ie=Q.firstChild)!==null;)W=Q,Q=ie;for(;;){if(Q===n)break t;if(W===a&&++F===d&&(T=_),W===p&&++K===c&&(R=_),(ie=Q.nextSibling)!==null)break;Q=W,W=Q.parentNode}Q=ie}a=T===-1||R===-1?null:{start:T,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(mc={focusedElem:n,selectionRange:a},jr=!1,oe=r;oe!==null;)if(r=oe,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,oe=n;else for(;oe!==null;){r=oe;try{var ae=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(ae!==null){var le=ae.memoizedProps,st=ae.memoizedState,L=r.stateNode,N=L.getSnapshotBeforeUpdate(r.elementType===r.type?le:Mn(r.type,le),st);L.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var b=r.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(X){rt(r,r.return,X)}if(n=r.sibling,n!==null){n.return=r.return,oe=n;break}oe=r.return}return ae=Vp,Vp=!1,ae}function ia(n,r,a){var c=r.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&n)===n){var p=d.destroy;d.destroy=void 0,p!==void 0&&nh(r,a,p)}d=d.next}while(d!==c)}}function Fl(n,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&n)===n){var c=a.create;a.destroy=c()}a=a.next}while(a!==r)}}function rh(n){var r=n.ref;if(r!==null){var a=n.stateNode;switch(n.tag){case 5:n=a;break;default:n=a}typeof r=="function"?r(n):r.current=n}}function Op(n){var r=n.alternate;r!==null&&(n.alternate=null,Op(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&(delete r[Qn],delete r[Ko],delete r[vc],delete r[mv],delete r[gv])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Lp(n){return n.tag===5||n.tag===3||n.tag===4}function Mp(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Lp(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function ih(n,r,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(n,r):a.insertBefore(n,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(n,a)):(r=a,r.appendChild(n)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=ml));else if(c!==4&&(n=n.child,n!==null))for(ih(n,r,a),n=n.sibling;n!==null;)ih(n,r,a),n=n.sibling}function sh(n,r,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(c!==4&&(n=n.child,n!==null))for(sh(n,r,a),n=n.sibling;n!==null;)sh(n,r,a),n=n.sibling}var Pt=null,bn=!1;function Qr(n,r,a){for(a=a.child;a!==null;)bp(n,r,a),a=a.sibling}function bp(n,r,a){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(Ai,a)}catch{}switch(a.tag){case 5:Ft||zs(a,r);case 6:var c=Pt,d=bn;Pt=null,Qr(n,r,a),Pt=c,bn=d,Pt!==null&&(bn?(n=Pt,a=a.stateNode,n.nodeType===8?n.parentNode.removeChild(a):n.removeChild(a)):Pt.removeChild(a.stateNode));break;case 18:Pt!==null&&(bn?(n=Pt,a=a.stateNode,n.nodeType===8?_c(n.parentNode,a):n.nodeType===1&&_c(n,a),Dn(n)):_c(Pt,a.stateNode));break;case 4:c=Pt,d=bn,Pt=a.stateNode.containerInfo,bn=!0,Qr(n,r,a),Pt=c,bn=d;break;case 0:case 11:case 14:case 15:if(!Ft&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var p=d,_=p.destroy;p=p.tag,_!==void 0&&((p&2)!==0||(p&4)!==0)&&nh(a,r,_),d=d.next}while(d!==c)}Qr(n,r,a);break;case 1:if(!Ft&&(zs(a,r),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(T){rt(a,r,T)}Qr(n,r,a);break;case 21:Qr(n,r,a);break;case 22:a.mode&1?(Ft=(c=Ft)||a.memoizedState!==null,Qr(n,r,a),Ft=c):Qr(n,r,a);break;default:Qr(n,r,a)}}function Fp(n){var r=n.updateQueue;if(r!==null){n.updateQueue=null;var a=n.stateNode;a===null&&(a=n.stateNode=new Dv),r.forEach(function(c){var d=Bv.bind(null,n,c);a.has(c)||(a.add(c),c.then(d,d))})}}function Fn(n,r){var a=r.deletions;if(a!==null)for(var c=0;c<a.length;c++){var d=a[c];try{var p=n,_=r,T=_;e:for(;T!==null;){switch(T.tag){case 5:Pt=T.stateNode,bn=!1;break e;case 3:Pt=T.stateNode.containerInfo,bn=!0;break e;case 4:Pt=T.stateNode.containerInfo,bn=!0;break e}T=T.return}if(Pt===null)throw Error(t(160));bp(p,_,d),Pt=null,bn=!1;var R=d.alternate;R!==null&&(R.return=null),d.return=null}catch(F){rt(d,r,F)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Up(r,n),r=r.sibling}function Up(n,r){var a=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Fn(r,n),Jn(n),c&4){try{ia(3,n,n.return),Fl(3,n)}catch(le){rt(n,n.return,le)}try{ia(5,n,n.return)}catch(le){rt(n,n.return,le)}}break;case 1:Fn(r,n),Jn(n),c&512&&a!==null&&zs(a,a.return);break;case 5:if(Fn(r,n),Jn(n),c&512&&a!==null&&zs(a,a.return),n.flags&32){var d=n.stateNode;try{Dr(d,"")}catch(le){rt(n,n.return,le)}}if(c&4&&(d=n.stateNode,d!=null)){var p=n.memoizedProps,_=a!==null?a.memoizedProps:p,T=n.type,R=n.updateQueue;if(n.updateQueue=null,R!==null)try{T==="input"&&p.type==="radio"&&p.name!=null&&Rt(d,p),So(T,_);var F=So(T,p);for(_=0;_<R.length;_+=2){var K=R[_],Q=R[_+1];K==="style"?Eo(d,Q):K==="dangerouslySetInnerHTML"?vo(d,Q):K==="children"?Dr(d,Q):ve(d,K,Q,F)}switch(T){case"input":go(d,p);break;case"textarea":rs(d,p);break;case"select":var W=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!p.multiple;var ie=p.value;ie!=null?sr(d,!!p.multiple,ie,!1):W!==!!p.multiple&&(p.defaultValue!=null?sr(d,!!p.multiple,p.defaultValue,!0):sr(d,!!p.multiple,p.multiple?[]:"",!1))}d[Ko]=p}catch(le){rt(n,n.return,le)}}break;case 6:if(Fn(r,n),Jn(n),c&4){if(n.stateNode===null)throw Error(t(162));d=n.stateNode,p=n.memoizedProps;try{d.nodeValue=p}catch(le){rt(n,n.return,le)}}break;case 3:if(Fn(r,n),Jn(n),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Dn(r.containerInfo)}catch(le){rt(n,n.return,le)}break;case 4:Fn(r,n),Jn(n);break;case 13:Fn(r,n),Jn(n),d=n.child,d.flags&8192&&(p=d.memoizedState!==null,d.stateNode.isHidden=p,!p||d.alternate!==null&&d.alternate.memoizedState!==null||(lh=We())),c&4&&Fp(n);break;case 22:if(K=a!==null&&a.memoizedState!==null,n.mode&1?(Ft=(F=Ft)||K,Fn(r,n),Ft=F):Fn(r,n),Jn(n),c&8192){if(F=n.memoizedState!==null,(n.stateNode.isHidden=F)&&!K&&(n.mode&1)!==0)for(oe=n,K=n.child;K!==null;){for(Q=oe=K;oe!==null;){switch(W=oe,ie=W.child,W.tag){case 0:case 11:case 14:case 15:ia(4,W,W.return);break;case 1:zs(W,W.return);var ae=W.stateNode;if(typeof ae.componentWillUnmount=="function"){c=W,a=W.return;try{r=c,ae.props=r.memoizedProps,ae.state=r.memoizedState,ae.componentWillUnmount()}catch(le){rt(c,a,le)}}break;case 5:zs(W,W.return);break;case 22:if(W.memoizedState!==null){Bp(Q);continue}}ie!==null?(ie.return=W,oe=ie):Bp(Q)}K=K.sibling}e:for(K=null,Q=n;;){if(Q.tag===5){if(K===null){K=Q;try{d=Q.stateNode,F?(p=d.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(T=Q.stateNode,R=Q.memoizedProps.style,_=R!=null&&R.hasOwnProperty("display")?R.display:null,T.style.display=wo("display",_))}catch(le){rt(n,n.return,le)}}}else if(Q.tag===6){if(K===null)try{Q.stateNode.nodeValue=F?"":Q.memoizedProps}catch(le){rt(n,n.return,le)}}else if((Q.tag!==22&&Q.tag!==23||Q.memoizedState===null||Q===n)&&Q.child!==null){Q.child.return=Q,Q=Q.child;continue}if(Q===n)break e;for(;Q.sibling===null;){if(Q.return===null||Q.return===n)break e;K===Q&&(K=null),Q=Q.return}K===Q&&(K=null),Q.sibling.return=Q.return,Q=Q.sibling}}break;case 19:Fn(r,n),Jn(n),c&4&&Fp(n);break;case 21:break;default:Fn(r,n),Jn(n)}}function Jn(n){var r=n.flags;if(r&2){try{e:{for(var a=n.return;a!==null;){if(Lp(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(Dr(d,""),c.flags&=-33);var p=Mp(n);sh(n,p,d);break;case 3:case 4:var _=c.stateNode.containerInfo,T=Mp(n);ih(n,T,_);break;default:throw Error(t(161))}}catch(R){rt(n,n.return,R)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function Ov(n,r,a){oe=n,jp(n)}function jp(n,r,a){for(var c=(n.mode&1)!==0;oe!==null;){var d=oe,p=d.child;if(d.tag===22&&c){var _=d.memoizedState!==null||bl;if(!_){var T=d.alternate,R=T!==null&&T.memoizedState!==null||Ft;T=bl;var F=Ft;if(bl=_,(Ft=R)&&!F)for(oe=d;oe!==null;)_=oe,R=_.child,_.tag===22&&_.memoizedState!==null?$p(d):R!==null?(R.return=_,oe=R):$p(d);for(;p!==null;)oe=p,jp(p),p=p.sibling;oe=d,bl=T,Ft=F}zp(n)}else(d.subtreeFlags&8772)!==0&&p!==null?(p.return=d,oe=p):zp(n)}}function zp(n){for(;oe!==null;){var r=oe;if((r.flags&8772)!==0){var a=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:Ft||Fl(5,r);break;case 1:var c=r.stateNode;if(r.flags&4&&!Ft)if(a===null)c.componentDidMount();else{var d=r.elementType===r.type?a.memoizedProps:Mn(r.type,a.memoizedProps);c.componentDidUpdate(d,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var p=r.updateQueue;p!==null&&Bf(r,p,c);break;case 3:var _=r.updateQueue;if(_!==null){if(a=null,r.child!==null)switch(r.child.tag){case 5:a=r.child.stateNode;break;case 1:a=r.child.stateNode}Bf(r,_,a)}break;case 5:var T=r.stateNode;if(a===null&&r.flags&4){a=T;var R=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":R.autoFocus&&a.focus();break;case"img":R.src&&(a.src=R.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var F=r.alternate;if(F!==null){var K=F.memoizedState;if(K!==null){var Q=K.dehydrated;Q!==null&&Dn(Q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Ft||r.flags&512&&rh(r)}catch(W){rt(r,r.return,W)}}if(r===n){oe=null;break}if(a=r.sibling,a!==null){a.return=r.return,oe=a;break}oe=r.return}}function Bp(n){for(;oe!==null;){var r=oe;if(r===n){oe=null;break}var a=r.sibling;if(a!==null){a.return=r.return,oe=a;break}oe=r.return}}function $p(n){for(;oe!==null;){var r=oe;try{switch(r.tag){case 0:case 11:case 15:var a=r.return;try{Fl(4,r)}catch(R){rt(r,a,R)}break;case 1:var c=r.stateNode;if(typeof c.componentDidMount=="function"){var d=r.return;try{c.componentDidMount()}catch(R){rt(r,d,R)}}var p=r.return;try{rh(r)}catch(R){rt(r,p,R)}break;case 5:var _=r.return;try{rh(r)}catch(R){rt(r,_,R)}}}catch(R){rt(r,r.return,R)}if(r===n){oe=null;break}var T=r.sibling;if(T!==null){T.return=r.return,oe=T;break}oe=r.return}}var Lv=Math.ceil,Ul=Ce.ReactCurrentDispatcher,oh=Ce.ReactCurrentOwner,Tn=Ce.ReactCurrentBatchConfig,be=0,Tt=null,ct=null,Nt=0,dn=0,Bs=qr(0),vt=0,sa=null,Ui=0,jl=0,ah=0,oa=null,Zt=null,lh=0,$s=1/0,wr=null,zl=!1,uh=null,Yr=null,Bl=!1,Xr=null,$l=0,aa=0,ch=null,ql=-1,Hl=0;function Kt(){return(be&6)!==0?We():ql!==-1?ql:ql=We()}function Jr(n){return(n.mode&1)===0?1:(be&2)!==0&&Nt!==0?Nt&-Nt:_v.transition!==null?(Hl===0&&(Hl=ki()),Hl):(n=Ve,n!==0||(n=window.event,n=n===void 0?16:Lo(n.type)),n)}function Un(n,r,a,c){if(50<aa)throw aa=0,ch=null,Error(t(185));Mr(n,a,c),((be&2)===0||n!==Tt)&&(n===Tt&&((be&2)===0&&(jl|=a),vt===4&&Zr(n,Nt)),en(n,c),a===1&&be===0&&(r.mode&1)===0&&($s=We()+500,vl&&Wr()))}function en(n,r){var a=n.callbackNode;lr(n,r);var c=Ri(n,n===Tt?Nt:0);if(c===0)a!==null&&No(a),n.callbackNode=null,n.callbackPriority=0;else if(r=c&-c,n.callbackPriority!==r){if(a!=null&&No(a),r===1)n.tag===0?yv(Hp.bind(null,n)):Nf(Hp.bind(null,n)),fv(function(){(be&6)===0&&Wr()}),a=null;else{switch(Fr(c)){case 1:a=Si;break;case 4:a=Vr;break;case 16:a=mn;break;case 536870912:a=Ha;break;default:a=mn}a=Zp(a,qp.bind(null,n))}n.callbackPriority=r,n.callbackNode=a}}function qp(n,r){if(ql=-1,Hl=0,(be&6)!==0)throw Error(t(327));var a=n.callbackNode;if(qs()&&n.callbackNode!==a)return null;var c=Ri(n,n===Tt?Nt:0);if(c===0)return null;if((c&30)!==0||(c&n.expiredLanes)!==0||r)r=Wl(n,c);else{r=c;var d=be;be|=2;var p=Kp();(Tt!==n||Nt!==r)&&(wr=null,$s=We()+500,zi(n,r));do try{Fv();break}catch(T){Wp(n,T)}while(!0);Cc(),Ul.current=p,be=d,ct!==null?r=0:(Tt=null,Nt=0,r=vt)}if(r!==0){if(r===2&&(d=an(n),d!==0&&(c=d,r=hh(n,d))),r===1)throw a=sa,zi(n,0),Zr(n,c),en(n,We()),a;if(r===6)Zr(n,c);else{if(d=n.current.alternate,(c&30)===0&&!Mv(d)&&(r=Wl(n,c),r===2&&(p=an(n),p!==0&&(c=p,r=hh(n,p))),r===1))throw a=sa,zi(n,0),Zr(n,c),en(n,We()),a;switch(n.finishedWork=d,n.finishedLanes=c,r){case 0:case 1:throw Error(t(345));case 2:Bi(n,Zt,wr);break;case 3:if(Zr(n,c),(c&130023424)===c&&(r=lh+500-We(),10<r)){if(Ri(n,0)!==0)break;if(d=n.suspendedLanes,(d&c)!==c){Kt(),n.pingedLanes|=n.suspendedLanes&d;break}n.timeoutHandle=yc(Bi.bind(null,n,Zt,wr),r);break}Bi(n,Zt,wr);break;case 4:if(Zr(n,c),(c&4194240)===c)break;for(r=n.eventTimes,d=-1;0<c;){var _=31-qt(c);p=1<<_,_=r[_],_>d&&(d=_),c&=~p}if(c=d,c=We()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*Lv(c/1960))-c,10<c){n.timeoutHandle=yc(Bi.bind(null,n,Zt,wr),c);break}Bi(n,Zt,wr);break;case 5:Bi(n,Zt,wr);break;default:throw Error(t(329))}}}return en(n,We()),n.callbackNode===a?qp.bind(null,n):null}function hh(n,r){var a=oa;return n.current.memoizedState.isDehydrated&&(zi(n,r).flags|=256),n=Wl(n,r),n!==2&&(r=Zt,Zt=a,r!==null&&dh(r)),n}function dh(n){Zt===null?Zt=n:Zt.push.apply(Zt,n)}function Mv(n){for(var r=n;;){if(r.flags&16384){var a=r.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var d=a[c],p=d.getSnapshot;d=d.value;try{if(!On(p(),d))return!1}catch{return!1}}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Zr(n,r){for(r&=~ah,r&=~jl,n.suspendedLanes|=r,n.pingedLanes&=~r,n=n.expirationTimes;0<r;){var a=31-qt(r),c=1<<a;n[a]=-1,r&=~c}}function Hp(n){if((be&6)!==0)throw Error(t(327));qs();var r=Ri(n,0);if((r&1)===0)return en(n,We()),null;var a=Wl(n,r);if(n.tag!==0&&a===2){var c=an(n);c!==0&&(r=c,a=hh(n,c))}if(a===1)throw a=sa,zi(n,0),Zr(n,r),en(n,We()),a;if(a===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=r,Bi(n,Zt,wr),en(n,We()),null}function fh(n,r){var a=be;be|=1;try{return n(r)}finally{be=a,be===0&&($s=We()+500,vl&&Wr())}}function ji(n){Xr!==null&&Xr.tag===0&&(be&6)===0&&qs();var r=be;be|=1;var a=Tn.transition,c=Ve;try{if(Tn.transition=null,Ve=1,n)return n()}finally{Ve=c,Tn.transition=a,be=r,(be&6)===0&&Wr()}}function ph(){dn=Bs.current,Qe(Bs)}function zi(n,r){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;if(a!==-1&&(n.timeoutHandle=-1,dv(a)),ct!==null)for(a=ct.return;a!==null;){var c=a;switch(Ic(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&yl();break;case 3:Us(),Qe(Yt),Qe(Lt),Mc();break;case 5:Oc(c);break;case 4:Us();break;case 13:Qe(et);break;case 19:Qe(et);break;case 10:Pc(c.type._context);break;case 22:case 23:ph()}a=a.return}if(Tt=n,ct=n=ei(n.current,null),Nt=dn=r,vt=0,sa=null,ah=jl=Ui=0,Zt=oa=null,Mi!==null){for(r=0;r<Mi.length;r++)if(a=Mi[r],c=a.interleaved,c!==null){a.interleaved=null;var d=c.next,p=a.pending;if(p!==null){var _=p.next;p.next=d,c.next=_}a.pending=c}Mi=null}return n}function Wp(n,r){do{var a=ct;try{if(Cc(),Pl.current=Vl,Nl){for(var c=tt.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}Nl=!1}if(Fi=0,Et=_t=tt=null,Zo=!1,ea=0,oh.current=null,a===null||a.return===null){vt=1,sa=r,ct=null;break}e:{var p=n,_=a.return,T=a,R=r;if(r=Nt,T.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){var F=R,K=T,Q=K.tag;if((K.mode&1)===0&&(Q===0||Q===11||Q===15)){var W=K.alternate;W?(K.updateQueue=W.updateQueue,K.memoizedState=W.memoizedState,K.lanes=W.lanes):(K.updateQueue=null,K.memoizedState=null)}var ie=yp(_);if(ie!==null){ie.flags&=-257,_p(ie,_,T,p,r),ie.mode&1&&gp(p,F,r),r=ie,R=F;var ae=r.updateQueue;if(ae===null){var le=new Set;le.add(R),r.updateQueue=le}else ae.add(R);break e}else{if((r&1)===0){gp(p,F,r),mh();break e}R=Error(t(426))}}else if(Je&&T.mode&1){var st=yp(_);if(st!==null){(st.flags&65536)===0&&(st.flags|=256),_p(st,_,T,p,r),Rc(js(R,T));break e}}p=R=js(R,T),vt!==4&&(vt=2),oa===null?oa=[p]:oa.push(p),p=_;do{switch(p.tag){case 3:p.flags|=65536,r&=-r,p.lanes|=r;var L=pp(p,R,r);zf(p,L);break e;case 1:T=R;var N=p.type,b=p.stateNode;if((p.flags&128)===0&&(typeof N.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Yr===null||!Yr.has(b)))){p.flags|=65536,r&=-r,p.lanes|=r;var X=mp(p,T,r);zf(p,X);break e}}p=p.return}while(p!==null)}Qp(a)}catch(he){r=he,ct===a&&a!==null&&(ct=a=a.return);continue}break}while(!0)}function Kp(){var n=Ul.current;return Ul.current=Vl,n===null?Vl:n}function mh(){(vt===0||vt===3||vt===2)&&(vt=4),Tt===null||(Ui&268435455)===0&&(jl&268435455)===0||Zr(Tt,Nt)}function Wl(n,r){var a=be;be|=2;var c=Kp();(Tt!==n||Nt!==r)&&(wr=null,zi(n,r));do try{bv();break}catch(d){Wp(n,d)}while(!0);if(Cc(),be=a,Ul.current=c,ct!==null)throw Error(t(261));return Tt=null,Nt=0,vt}function bv(){for(;ct!==null;)Gp(ct)}function Fv(){for(;ct!==null&&!$a();)Gp(ct)}function Gp(n){var r=Jp(n.alternate,n,dn);n.memoizedProps=n.pendingProps,r===null?Qp(n):ct=r,oh.current=null}function Qp(n){var r=n;do{var a=r.alternate;if(n=r.return,(r.flags&32768)===0){if(a=Nv(a,r,dn),a!==null){ct=a;return}}else{if(a=xv(a,r),a!==null){a.flags&=32767,ct=a;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{vt=6,ct=null;return}}if(r=r.sibling,r!==null){ct=r;return}ct=r=n}while(r!==null);vt===0&&(vt=5)}function Bi(n,r,a){var c=Ve,d=Tn.transition;try{Tn.transition=null,Ve=1,Uv(n,r,a,c)}finally{Tn.transition=d,Ve=c}return null}function Uv(n,r,a,c){do qs();while(Xr!==null);if((be&6)!==0)throw Error(t(327));a=n.finishedWork;var d=n.finishedLanes;if(a===null)return null;if(n.finishedWork=null,n.finishedLanes=0,a===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var p=a.lanes|a.childLanes;if(He(n,p),n===Tt&&(ct=Tt=null,Nt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Bl||(Bl=!0,Zp(mn,function(){return qs(),null})),p=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||p){p=Tn.transition,Tn.transition=null;var _=Ve;Ve=1;var T=be;be|=4,oh.current=null,Vv(n,a),Up(a,n),sv(mc),jr=!!pc,mc=pc=null,n.current=a,Ov(a),Ju(),be=T,Ve=_,Tn.transition=p}else n.current=a;if(Bl&&(Bl=!1,Xr=n,$l=d),p=n.pendingLanes,p===0&&(Yr=null),Wa(a.stateNode),en(n,We()),r!==null)for(c=n.onRecoverableError,a=0;a<r.length;a++)d=r[a],c(d.value,{componentStack:d.stack,digest:d.digest});if(zl)throw zl=!1,n=uh,uh=null,n;return($l&1)!==0&&n.tag!==0&&qs(),p=n.pendingLanes,(p&1)!==0?n===ch?aa++:(aa=0,ch=n):aa=0,Wr(),null}function qs(){if(Xr!==null){var n=Fr($l),r=Tn.transition,a=Ve;try{if(Tn.transition=null,Ve=16>n?16:n,Xr===null)var c=!1;else{if(n=Xr,Xr=null,$l=0,(be&6)!==0)throw Error(t(331));var d=be;for(be|=4,oe=n.current;oe!==null;){var p=oe,_=p.child;if((oe.flags&16)!==0){var T=p.deletions;if(T!==null){for(var R=0;R<T.length;R++){var F=T[R];for(oe=F;oe!==null;){var K=oe;switch(K.tag){case 0:case 11:case 15:ia(8,K,p)}var Q=K.child;if(Q!==null)Q.return=K,oe=Q;else for(;oe!==null;){K=oe;var W=K.sibling,ie=K.return;if(Op(K),K===F){oe=null;break}if(W!==null){W.return=ie,oe=W;break}oe=ie}}}var ae=p.alternate;if(ae!==null){var le=ae.child;if(le!==null){ae.child=null;do{var st=le.sibling;le.sibling=null,le=st}while(le!==null)}}oe=p}}if((p.subtreeFlags&2064)!==0&&_!==null)_.return=p,oe=_;else e:for(;oe!==null;){if(p=oe,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:ia(9,p,p.return)}var L=p.sibling;if(L!==null){L.return=p.return,oe=L;break e}oe=p.return}}var N=n.current;for(oe=N;oe!==null;){_=oe;var b=_.child;if((_.subtreeFlags&2064)!==0&&b!==null)b.return=_,oe=b;else e:for(_=N;oe!==null;){if(T=oe,(T.flags&2048)!==0)try{switch(T.tag){case 0:case 11:case 15:Fl(9,T)}}catch(he){rt(T,T.return,he)}if(T===_){oe=null;break e}var X=T.sibling;if(X!==null){X.return=T.return,oe=X;break e}oe=T.return}}if(be=d,Wr(),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(Ai,n)}catch{}c=!0}return c}finally{Ve=a,Tn.transition=r}}return!1}function Yp(n,r,a){r=js(a,r),r=pp(n,r,1),n=Gr(n,r,1),r=Kt(),n!==null&&(Mr(n,1,r),en(n,r))}function rt(n,r,a){if(n.tag===3)Yp(n,n,a);else for(;r!==null;){if(r.tag===3){Yp(r,n,a);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Yr===null||!Yr.has(c))){n=js(a,n),n=mp(r,n,1),r=Gr(r,n,1),n=Kt(),r!==null&&(Mr(r,1,n),en(r,n));break}}r=r.return}}function jv(n,r,a){var c=n.pingCache;c!==null&&c.delete(r),r=Kt(),n.pingedLanes|=n.suspendedLanes&a,Tt===n&&(Nt&a)===a&&(vt===4||vt===3&&(Nt&130023424)===Nt&&500>We()-lh?zi(n,0):ah|=a),en(n,r)}function Xp(n,r){r===0&&((n.mode&1)===0?r=1:(r=fs,fs<<=1,(fs&130023424)===0&&(fs=4194304)));var a=Kt();n=yr(n,r),n!==null&&(Mr(n,r,a),en(n,a))}function zv(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),Xp(n,a)}function Bv(n,r){var a=0;switch(n.tag){case 13:var c=n.stateNode,d=n.memoizedState;d!==null&&(a=d.retryLane);break;case 19:c=n.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(r),Xp(n,a)}var Jp;Jp=function(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps||Yt.current)Jt=!0;else{if((n.lanes&a)===0&&(r.flags&128)===0)return Jt=!1,Pv(n,r,a);Jt=(n.flags&131072)!==0}else Jt=!1,Je&&(r.flags&1048576)!==0&&xf(r,El,r.index);switch(r.lanes=0,r.tag){case 2:var c=r.type;Ml(n,r),n=r.pendingProps;var d=Ds(r,Lt.current);Fs(r,a),d=Uc(null,r,c,n,d,a);var p=jc();return r.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Xt(c)?(p=!0,_l(r)):p=!1,r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Dc(r),d.updater=Ol,r.stateNode=d,d._reactInternals=r,Wc(r,c,n,a),r=Yc(null,r,c,!0,p,a)):(r.tag=0,Je&&p&&Tc(r),Wt(null,r,d,a),r=r.child),r;case 16:c=r.elementType;e:{switch(Ml(n,r),n=r.pendingProps,d=c._init,c=d(c._payload),r.type=c,d=r.tag=qv(c),n=Mn(c,n),d){case 0:r=Qc(null,r,c,n,a);break e;case 1:r=Sp(null,r,c,n,a);break e;case 11:r=vp(null,r,c,n,a);break e;case 14:r=wp(null,r,c,Mn(c.type,n),a);break e}throw Error(t(306,c,""))}return r;case 0:return c=r.type,d=r.pendingProps,d=r.elementType===c?d:Mn(c,d),Qc(n,r,c,d,a);case 1:return c=r.type,d=r.pendingProps,d=r.elementType===c?d:Mn(c,d),Sp(n,r,c,d,a);case 3:e:{if(Ap(r),n===null)throw Error(t(387));c=r.pendingProps,p=r.memoizedState,d=p.element,jf(n,r),kl(r,c,null,a);var _=r.memoizedState;if(c=_.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){d=js(Error(t(423)),r),r=Rp(n,r,c,a,d);break e}else if(c!==d){d=js(Error(t(424)),r),r=Rp(n,r,c,a,d);break e}else for(hn=$r(r.stateNode.containerInfo.firstChild),cn=r,Je=!0,Ln=null,a=Ff(r,null,c,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ls(),c===d){r=vr(n,r,a);break e}Wt(n,r,c,a)}r=r.child}return r;case 5:return $f(r),n===null&&Ac(r),c=r.type,d=r.pendingProps,p=n!==null?n.memoizedProps:null,_=d.children,gc(c,d)?_=null:p!==null&&gc(c,p)&&(r.flags|=32),Ip(n,r),Wt(n,r,_,a),r.child;case 6:return n===null&&Ac(r),null;case 13:return kp(n,r,a);case 4:return Vc(r,r.stateNode.containerInfo),c=r.pendingProps,n===null?r.child=Ms(r,null,c,a):Wt(n,r,c,a),r.child;case 11:return c=r.type,d=r.pendingProps,d=r.elementType===c?d:Mn(c,d),vp(n,r,c,d,a);case 7:return Wt(n,r,r.pendingProps,a),r.child;case 8:return Wt(n,r,r.pendingProps.children,a),r.child;case 12:return Wt(n,r,r.pendingProps.children,a),r.child;case 10:e:{if(c=r.type._context,d=r.pendingProps,p=r.memoizedProps,_=d.value,Ke(Sl,c._currentValue),c._currentValue=_,p!==null)if(On(p.value,_)){if(p.children===d.children&&!Yt.current){r=vr(n,r,a);break e}}else for(p=r.child,p!==null&&(p.return=r);p!==null;){var T=p.dependencies;if(T!==null){_=p.child;for(var R=T.firstContext;R!==null;){if(R.context===c){if(p.tag===1){R=_r(-1,a&-a),R.tag=2;var F=p.updateQueue;if(F!==null){F=F.shared;var K=F.pending;K===null?R.next=R:(R.next=K.next,K.next=R),F.pending=R}}p.lanes|=a,R=p.alternate,R!==null&&(R.lanes|=a),Nc(p.return,a,r),T.lanes|=a;break}R=R.next}}else if(p.tag===10)_=p.type===r.type?null:p.child;else if(p.tag===18){if(_=p.return,_===null)throw Error(t(341));_.lanes|=a,T=_.alternate,T!==null&&(T.lanes|=a),Nc(_,a,r),_=p.sibling}else _=p.child;if(_!==null)_.return=p;else for(_=p;_!==null;){if(_===r){_=null;break}if(p=_.sibling,p!==null){p.return=_.return,_=p;break}_=_.return}p=_}Wt(n,r,d.children,a),r=r.child}return r;case 9:return d=r.type,c=r.pendingProps.children,Fs(r,a),d=wn(d),c=c(d),r.flags|=1,Wt(n,r,c,a),r.child;case 14:return c=r.type,d=Mn(c,r.pendingProps),d=Mn(c.type,d),wp(n,r,c,d,a);case 15:return Ep(n,r,r.type,r.pendingProps,a);case 17:return c=r.type,d=r.pendingProps,d=r.elementType===c?d:Mn(c,d),Ml(n,r),r.tag=1,Xt(c)?(n=!0,_l(r)):n=!1,Fs(r,a),dp(r,c,d),Wc(r,c,d,a),Yc(null,r,c,!0,n,a);case 19:return Pp(n,r,a);case 22:return Tp(n,r,a)}throw Error(t(156,r.tag))};function Zp(n,r){return hs(n,r)}function $v(n,r,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(n,r,a,c){return new $v(n,r,a,c)}function gh(n){return n=n.prototype,!(!n||!n.isReactComponent)}function qv(n){if(typeof n=="function")return gh(n)?1:0;if(n!=null){if(n=n.$$typeof,n===V)return 11;if(n===at)return 14}return 2}function ei(n,r){var a=n.alternate;return a===null?(a=In(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&14680064,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a}function Kl(n,r,a,c,d,p){var _=2;if(c=n,typeof n=="function")gh(n)&&(_=1);else if(typeof n=="string")_=5;else e:switch(n){case P:return $i(a.children,d,p,r);case I:_=8,d|=8;break;case A:return n=In(12,a,r,d|2),n.elementType=A,n.lanes=p,n;case S:return n=In(13,a,r,d),n.elementType=S,n.lanes=p,n;case Ze:return n=In(19,a,r,d),n.elementType=Ze,n.lanes=p,n;case je:return Gl(a,d,p,r);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case C:_=10;break e;case x:_=9;break e;case V:_=11;break e;case at:_=14;break e;case lt:_=16,c=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return r=In(_,a,r,d),r.elementType=n,r.type=c,r.lanes=p,r}function $i(n,r,a,c){return n=In(7,n,c,r),n.lanes=a,n}function Gl(n,r,a,c){return n=In(22,n,c,r),n.elementType=je,n.lanes=a,n.stateNode={isHidden:!1},n}function yh(n,r,a){return n=In(6,n,null,r),n.lanes=a,n}function _h(n,r,a){return r=In(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}function Hv(n,r,a,c,d){this.tag=r,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Lr(0),this.expirationTimes=Lr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lr(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function vh(n,r,a,c,d,p,_,T,R){return n=new Hv(n,r,a,T,R),r===1?(r=1,p===!0&&(r|=8)):r=0,p=In(3,null,null,r),n.current=p,p.stateNode=n,p.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dc(p),n}function Wv(n,r,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pe,key:c==null?null:""+c,children:n,containerInfo:r,implementation:a}}function em(n){if(!n)return Hr;n=n._reactInternals;e:{if(kn(n)!==n||n.tag!==1)throw Error(t(170));var r=n;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Xt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(t(171))}if(n.tag===1){var a=n.type;if(Xt(a))return Cf(n,a,r)}return r}function tm(n,r,a,c,d,p,_,T,R){return n=vh(a,c,!0,n,d,p,_,T,R),n.context=em(null),a=n.current,c=Kt(),d=Jr(a),p=_r(c,d),p.callback=r??null,Gr(a,p,d),n.current.lanes=d,Mr(n,d,c),en(n,c),n}function Ql(n,r,a,c){var d=r.current,p=Kt(),_=Jr(d);return a=em(a),r.context===null?r.context=a:r.pendingContext=a,r=_r(p,_),r.payload={element:n},c=c===void 0?null:c,c!==null&&(r.callback=c),n=Gr(d,r,_),n!==null&&(Un(n,d,_,p),Rl(n,d,_)),_}function Yl(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function nm(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function wh(n,r){nm(n,r),(n=n.alternate)&&nm(n,r)}function Kv(){return null}var rm=typeof reportError=="function"?reportError:function(n){console.error(n)};function Eh(n){this._internalRoot=n}Xl.prototype.render=Eh.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(t(409));Ql(n,r,null,null)},Xl.prototype.unmount=Eh.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;ji(function(){Ql(null,n,null,null)}),r[fr]=null}};function Xl(n){this._internalRoot=n}Xl.prototype.unstable_scheduleHydration=function(n){if(n){var r=Xa();n={blockedOn:null,target:n,priority:r};for(var a=0;a<Hn.length&&r!==0&&r<Hn[a].priority;a++);Hn.splice(a,0,n),a===0&&el(n)}};function Th(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Jl(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function im(){}function Gv(n,r,a,c,d){if(d){if(typeof c=="function"){var p=c;c=function(){var F=Yl(_);p.call(F)}}var _=tm(r,c,n,0,null,!1,!1,"",im);return n._reactRootContainer=_,n[fr]=_.current,Ho(n.nodeType===8?n.parentNode:n),ji(),_}for(;d=n.lastChild;)n.removeChild(d);if(typeof c=="function"){var T=c;c=function(){var F=Yl(R);T.call(F)}}var R=vh(n,0,!1,null,null,!1,!1,"",im);return n._reactRootContainer=R,n[fr]=R.current,Ho(n.nodeType===8?n.parentNode:n),ji(function(){Ql(r,R,a,c)}),R}function Zl(n,r,a,c,d){var p=a._reactRootContainer;if(p){var _=p;if(typeof d=="function"){var T=d;d=function(){var R=Yl(_);T.call(R)}}Ql(r,_,n,d)}else _=Gv(a,r,n,d,c);return Yl(_)}Qa=function(n){switch(n.tag){case 3:var r=n.stateNode;if(r.current.memoizedState.isDehydrated){var a=Or(r.pendingLanes);a!==0&&(br(r,a|1),en(r,We()),(be&6)===0&&($s=We()+500,Wr()))}break;case 13:ji(function(){var c=yr(n,1);if(c!==null){var d=Kt();Un(c,n,1,d)}}),wh(n,1)}},ps=function(n){if(n.tag===13){var r=yr(n,134217728);if(r!==null){var a=Kt();Un(r,n,134217728,a)}wh(n,134217728)}},Ya=function(n){if(n.tag===13){var r=Jr(n),a=yr(n,r);if(a!==null){var c=Kt();Un(a,n,r,c)}wh(n,r)}},Xa=function(){return Ve},Ja=function(n,r){var a=Ve;try{return Ve=n,r()}finally{Ve=a}},ss=function(n,r,a){switch(r){case"input":if(go(n,a),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<a.length;r++){var c=a[r];if(c!==n&&c.form===n.form){var d=gl(c);if(!d)throw Error(t(90));$t(c),go(c,d)}}}break;case"textarea":rs(n,a);break;case"select":r=a.value,r!=null&&sr(n,!!a.multiple,r,!1)}},wi=fh,Ro=ji;var Qv={usingClientEntryPoint:!1,Events:[Go,Ns,gl,$n,Ao,fh]},la={findFiberByHostInstance:Di,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Yv={bundleType:la.bundleType,version:la.version,rendererPackageName:la.rendererPackageName,rendererConfig:la.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ce.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Po(n),n===null?null:n.stateNode},findFiberByHostInstance:la.findFiberByHostInstance||Kv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var eu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eu.isDisabled&&eu.supportsFiber)try{Ai=eu.inject(Yv),on=eu}catch{}}return tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qv,tn.createPortal=function(n,r){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Th(r))throw Error(t(200));return Wv(n,r,null,a)},tn.createRoot=function(n,r){if(!Th(n))throw Error(t(299));var a=!1,c="",d=rm;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onRecoverableError!==void 0&&(d=r.onRecoverableError)),r=vh(n,1,!1,null,null,a,!1,c,d),n[fr]=r.current,Ho(n.nodeType===8?n.parentNode:n),new Eh(r)},tn.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=Po(r),n=n===null?null:n.stateNode,n},tn.flushSync=function(n){return ji(n)},tn.hydrate=function(n,r,a){if(!Jl(r))throw Error(t(200));return Zl(null,n,r,!0,a)},tn.hydrateRoot=function(n,r,a){if(!Th(n))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,d=!1,p="",_=rm;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(_=a.onRecoverableError)),r=tm(r,null,n,1,a??null,d,!1,p,_),n[fr]=r.current,Ho(n),c)for(n=0;n<c.length;n++)a=c[n],d=a._getVersion,d=d(a._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[a,d]:r.mutableSourceEagerHydrationData.push(a,d);return new Xl(r)},tn.render=function(n,r,a){if(!Jl(r))throw Error(t(200));return Zl(null,n,r,!1,a)},tn.unmountComponentAtNode=function(n){if(!Jl(n))throw Error(t(40));return n._reactRootContainer?(ji(function(){Zl(null,null,n,!1,function(){n._reactRootContainer=null,n[fr]=null})}),!0):!1},tn.unstable_batchedUpdates=fh,tn.unstable_renderSubtreeIntoContainer=function(n,r,a,c){if(!Jl(a))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return Zl(n,r,a,!1,c)},tn.version="18.3.1-next-f1338f8080-20240426",tn}var dm;function i0(){if(dm)return Ah.exports;dm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Ah.exports=r0(),Ah.exports}var fm;function s0(){if(fm)return tu;fm=1;var i=i0();return tu.createRoot=i.createRoot,tu.hydrateRoot=i.hydrateRoot,tu}var o0=s0(),pm={};const bg=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},a0=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const o=i[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[t++],h=i[t++],m=i[t++],y=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const u=i[t++],h=i[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},Fg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,m=h?i[o+1]:0,y=o+2<i.length,v=y?i[o+2]:0,E=u>>2,k=(u&3)<<4|m>>4;let M=(m&15)<<2|v>>6,z=v&63;y||(z=64,h||(M=64)),s.push(t[E],t[k],t[M],t[z])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(bg(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):a0(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=t[i.charAt(o++)],m=o<i.length?t[i.charAt(o)]:0;++o;const v=o<i.length?t[i.charAt(o)]:64;++o;const k=o<i.length?t[i.charAt(o)]:64;if(++o,u==null||m==null||v==null||k==null)throw new l0;const M=u<<2|m>>4;if(s.push(M),v!==64){const z=m<<4&240|v>>2;if(s.push(z),k!==64){const Y=v<<6&192|k;s.push(Y)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class l0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const u0=function(i){const e=bg(i);return Fg.encodeByteArray(e,!0)},yu=function(i){return u0(i).replace(/\./g,"")},Ug=function(i){try{return Fg.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function c0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const h0=()=>c0().__FIREBASE_DEFAULTS__,d0=()=>{if(typeof process>"u"||typeof pm>"u")return;const i=pm.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},f0=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&Ug(i[1]);return e&&JSON.parse(e)},Lu=()=>{try{return h0()||d0()||f0()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},jg=i=>{var e,t;return(t=(e=Lu())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[i]},p0=i=>{const e=jg(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},zg=()=>{var i;return(i=Lu())===null||i===void 0?void 0:i.config},Bg=i=>{var e;return(e=Lu())===null||e===void 0?void 0:e[`_${i}`]};class m0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}function g0(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[yu(JSON.stringify(t)),yu(JSON.stringify(h)),""].join(".")}function Bt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function y0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bt())}function _0(){var i;const e=(i=Lu())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function v0(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function w0(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function E0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function T0(){const i=Bt();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function I0(){return!_0()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function S0(){try{return typeof indexedDB=="object"}catch{return!1}}function A0(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}const R0="FirebaseError";class xr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=R0,Object.setPrototypeOf(this,xr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ca.prototype.create)}}class Ca{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?k0(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new xr(o,m,s)}}function k0(i,e){return i.replace(C0,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const C0=/\{\$([^}]+)}/g;function P0(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function _u(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=i[o],h=e[o];if(mm(u)&&mm(h)){if(!_u(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function mm(i){return i!==null&&typeof i=="object"}function Pa(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function N0(i,e){const t=new x0(i,e);return t.subscribe.bind(t)}class x0{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");D0(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Ch),o.error===void 0&&(o.error=Ch),o.complete===void 0&&(o.complete=Ch);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function D0(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function Ch(){}function rn(i){return i&&i._delegate?i._delegate:i}class Gi{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const qi="[DEFAULT]";class V0{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new m0;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e?.identifier),o=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(L0(e))try{this.getOrInitializeService({instanceIdentifier:qi})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=qi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qi){return this.instances.has(e)}getOptions(e=qi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:O0(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=qi){return this.component?this.component.multipleInstances?e:qi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function O0(i){return i===qi?void 0:i}function L0(i){return i.instantiationMode==="EAGER"}class M0{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new V0(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Oe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Oe||(Oe={}));const b0={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},F0=Oe.INFO,U0={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},j0=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=U0[e];if(o)console[o](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class cd{constructor(e){this.name=e,this._logLevel=F0,this._logHandler=j0,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?b0[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const z0=(i,e)=>e.some(t=>i instanceof t);let gm,ym;function B0(){return gm||(gm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $0(){return ym||(ym=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $g=new WeakMap,jh=new WeakMap,qg=new WeakMap,Ph=new WeakMap,hd=new WeakMap;function q0(i){const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{t(li(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&$g.set(t,i)}).catch(()=>{}),hd.set(e,i),e}function H0(i){if(jh.has(i))return;const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{t(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});jh.set(i,e)}let zh={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return jh.get(i);if(e==="objectStoreNames")return i.objectStoreNames||qg.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return li(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function W0(i){zh=i(zh)}function K0(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(Nh(this),e,...t);return qg.set(s,e.sort?e.sort():[e]),li(s)}:$0().includes(i)?function(...e){return i.apply(Nh(this),e),li($g.get(this))}:function(...e){return li(i.apply(Nh(this),e))}}function G0(i){return typeof i=="function"?K0(i):(i instanceof IDBTransaction&&H0(i),z0(i,B0())?new Proxy(i,zh):i)}function li(i){if(i instanceof IDBRequest)return q0(i);if(Ph.has(i))return Ph.get(i);const e=G0(i);return e!==i&&(Ph.set(i,e),hd.set(e,i)),e}const Nh=i=>hd.get(i);function Q0(i,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),m=li(h);return s&&h.addEventListener("upgradeneeded",y=>{s(li(h.result),y.oldVersion,y.newVersion,li(h.transaction),y)}),t&&h.addEventListener("blocked",y=>t(y.oldVersion,y.newVersion,y)),m.then(y=>{u&&y.addEventListener("close",()=>u()),o&&y.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),m}const Y0=["get","getKey","getAll","getAllKeys","count"],X0=["put","add","delete","clear"],xh=new Map;function _m(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(xh.get(e))return xh.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=X0.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Y0.includes(t)))return;const u=async function(h,...m){const y=this.transaction(h,o?"readwrite":"readonly");let v=y.store;return s&&(v=v.index(m.shift())),(await Promise.all([v[t](...m),o&&y.done]))[0]};return xh.set(e,u),u}W0(i=>({...i,get:(e,t,s)=>_m(e,t)||i.get(e,t,s),has:(e,t)=>!!_m(e,t)||i.has(e,t)}));class J0{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Z0(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function Z0(i){const e=i.getComponent();return e?.type==="VERSION"}const Bh="@firebase/app",vm="0.10.13";const Rr=new cd("@firebase/app"),ew="@firebase/app-compat",tw="@firebase/analytics-compat",nw="@firebase/analytics",rw="@firebase/app-check-compat",iw="@firebase/app-check",sw="@firebase/auth",ow="@firebase/auth-compat",aw="@firebase/database",lw="@firebase/data-connect",uw="@firebase/database-compat",cw="@firebase/functions",hw="@firebase/functions-compat",dw="@firebase/installations",fw="@firebase/installations-compat",pw="@firebase/messaging",mw="@firebase/messaging-compat",gw="@firebase/performance",yw="@firebase/performance-compat",_w="@firebase/remote-config",vw="@firebase/remote-config-compat",ww="@firebase/storage",Ew="@firebase/storage-compat",Tw="@firebase/firestore",Iw="@firebase/vertexai-preview",Sw="@firebase/firestore-compat",Aw="firebase",Rw="10.14.1";const $h="[DEFAULT]",kw={[Bh]:"fire-core",[ew]:"fire-core-compat",[nw]:"fire-analytics",[tw]:"fire-analytics-compat",[iw]:"fire-app-check",[rw]:"fire-app-check-compat",[sw]:"fire-auth",[ow]:"fire-auth-compat",[aw]:"fire-rtdb",[lw]:"fire-data-connect",[uw]:"fire-rtdb-compat",[cw]:"fire-fn",[hw]:"fire-fn-compat",[dw]:"fire-iid",[fw]:"fire-iid-compat",[pw]:"fire-fcm",[mw]:"fire-fcm-compat",[gw]:"fire-perf",[yw]:"fire-perf-compat",[_w]:"fire-rc",[vw]:"fire-rc-compat",[ww]:"fire-gcs",[Ew]:"fire-gcs-compat",[Tw]:"fire-fst",[Sw]:"fire-fst-compat",[Iw]:"fire-vertex","fire-js":"fire-js",[Aw]:"fire-js-all"};const vu=new Map,Cw=new Map,qh=new Map;function wm(i,e){try{i.container.addComponent(e)}catch(t){Rr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function eo(i){const e=i.name;if(qh.has(e))return Rr.debug(`There were multiple attempts to register component ${e}.`),!1;qh.set(e,i);for(const t of vu.values())wm(t,i);for(const t of Cw.values())wm(t,i);return!0}function dd(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function Er(i){return i.settings!==void 0}const Pw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ui=new Ca("app","Firebase",Pw);class Nw{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Gi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ui.create("app-deleted",{appName:this._name})}}const lo=Rw;function Hg(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:$h,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw ui.create("bad-app-name",{appName:String(o)});if(t||(t=zg()),!t)throw ui.create("no-options");const u=vu.get(o);if(u){if(_u(t,u.options)&&_u(s,u.config))return u;throw ui.create("duplicate-app",{appName:o})}const h=new M0(o);for(const y of qh.values())h.addComponent(y);const m=new Nw(t,s,h);return vu.set(o,m),m}function Wg(i=$h){const e=vu.get(i);if(!e&&i===$h&&zg())return Hg();if(!e)throw ui.create("no-app",{appName:i});return e}function ci(i,e,t){var s;let o=(s=kw[i])!==null&&s!==void 0?s:i;t&&(o+=`-${t}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&m.push("and"),h&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Rr.warn(m.join(" "));return}eo(new Gi(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}const xw="firebase-heartbeat-database",Dw=1,wa="firebase-heartbeat-store";let Dh=null;function Kg(){return Dh||(Dh=Q0(xw,Dw,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(wa)}catch(t){console.warn(t)}}}}).catch(i=>{throw ui.create("idb-open",{originalErrorMessage:i.message})})),Dh}async function Vw(i){try{const t=(await Kg()).transaction(wa),s=await t.objectStore(wa).get(Gg(i));return await t.done,s}catch(e){if(e instanceof xr)Rr.warn(e.message);else{const t=ui.create("idb-get",{originalErrorMessage:e?.message});Rr.warn(t.message)}}}async function Em(i,e){try{const s=(await Kg()).transaction(wa,"readwrite");await s.objectStore(wa).put(e,Gg(i)),await s.done}catch(t){if(t instanceof xr)Rr.warn(t.message);else{const s=ui.create("idb-set",{originalErrorMessage:t?.message});Rr.warn(s.message)}}}function Gg(i){return`${i.name}!${i.options.appId}`}const Ow=1024,Lw=720*60*60*1e3;class Mw{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Fw(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Tm();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u)?void 0:(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(h=>{const m=new Date(h.date).valueOf();return Date.now()-m<=Lw}),this._storage.overwrite(this._heartbeatsCache))}catch(s){Rr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Tm(),{heartbeatsToSend:s,unsentEntries:o}=bw(this._heartbeatsCache.heartbeats),u=yu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return Rr.warn(t),""}}}function Tm(){return new Date().toISOString().substring(0,10)}function bw(i,e=Ow){const t=[];let s=i.slice();for(const o of i){const u=t.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),Im(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Im(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class Fw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return S0()?A0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Vw(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Em(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Em(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Im(i){return yu(JSON.stringify({version:2,heartbeats:i})).length}function Uw(i){eo(new Gi("platform-logger",e=>new J0(e),"PRIVATE")),eo(new Gi("heartbeat",e=>new Mw(e),"PRIVATE")),ci(Bh,vm,i),ci(Bh,vm,"esm2017"),ci("fire-js","")}Uw("");var jw="firebase",zw="10.14.1";ci(jw,zw,"app");function fd(i,e){var t={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(t[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(t[s[o]]=i[s[o]]);return t}function Qg(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Bw=Qg,Yg=new Ca("auth","Firebase",Qg());const wu=new cd("@firebase/auth");function $w(i,...e){wu.logLevel<=Oe.WARN&&wu.warn(`Auth (${lo}): ${i}`,...e)}function lu(i,...e){wu.logLevel<=Oe.ERROR&&wu.error(`Auth (${lo}): ${i}`,...e)}function kr(i,...e){throw pd(i,...e)}function Zn(i,...e){return pd(i,...e)}function Xg(i,e,t){const s=Object.assign(Object.assign({},Bw()),{[e]:t});return new Ca("auth","Firebase",s).create(e,{appName:i.name})}function hi(i){return Xg(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function pd(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return Yg.create(i,...e)}function Ie(i,e,...t){if(!i)throw pd(e,...t)}function Tr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw lu(e),new Error(e)}function Cr(i,e){i||Tr(e)}function Hh(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function qw(){return Sm()==="http:"||Sm()==="https:"}function Sm(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}function Hw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qw()||w0()||"connection"in navigator)?navigator.onLine:!0}function Ww(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class Na{constructor(e,t){this.shortDelay=e,this.longDelay=t,Cr(t>e,"Short delay should be less than long delay!"),this.isMobile=y0()||E0()}get(){return Hw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function md(i,e){Cr(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class Jg{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Tr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Tr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Tr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Kw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Gw=new Na(3e4,6e4);function Mu(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function uo(i,e,t,s,o={}){return Zg(i,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=Pa(Object.assign({key:i.config.apiKey},h)).slice(1),y=await i._getAdditionalHeaders();y["Content-Type"]="application/json",i.languageCode&&(y["X-Firebase-Locale"]=i.languageCode);const v=Object.assign({method:e,headers:y},u);return v0()||(v.referrerPolicy="no-referrer"),Jg.fetch()(ty(i,i.config.apiHost,t,m),v)})}async function Zg(i,e,t){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},Kw),e);try{const o=new Qw(i),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw nu(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[y,v]=m.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw nu(i,"credential-already-in-use",h);if(y==="EMAIL_EXISTS")throw nu(i,"email-already-in-use",h);if(y==="USER_DISABLED")throw nu(i,"user-disabled",h);const E=s[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw Xg(i,E,v);kr(i,E)}}catch(o){if(o instanceof xr)throw o;kr(i,"network-request-failed",{message:String(o)})}}async function ey(i,e,t,s,o={}){const u=await uo(i,e,t,s,o);return"mfaPendingCredential"in u&&kr(i,"multi-factor-auth-required",{_serverResponse:u}),u}function ty(i,e,t,s){const o=`${e}${t}?${s}`;return i.config.emulator?md(i.config,o):`${i.config.apiScheme}://${o}`}class Qw{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Zn(this.auth,"network-request-failed")),Gw.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function nu(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=Zn(i,e,s);return o.customData._tokenResponse=t,o}async function Yw(i,e){return uo(i,"POST","/v1/accounts:delete",e)}async function ny(i,e){return uo(i,"POST","/v1/accounts:lookup",e)}function ma(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Xw(i,e=!1){const t=rn(i),s=await t.getIdToken(e),o=gd(s);Ie(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:ma(Vh(o.auth_time)),issuedAtTime:ma(Vh(o.iat)),expirationTime:ma(Vh(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Vh(i){return Number(i)*1e3}function gd(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return lu("JWT malformed, contained fewer than 3 sections"),null;try{const o=Ug(t);return o?JSON.parse(o):(lu("Failed to decode base64 JWT payload"),null)}catch(o){return lu("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Am(i){const e=gd(i);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ea(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof xr&&Jw(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function Jw({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class Zw{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Wh{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ma(this.lastLoginAt),this.creationTime=ma(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Eu(i){var e;const t=i.auth,s=await i.getIdToken(),o=await Ea(i,ny(t,{idToken:s}));Ie(o?.users.length,t,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?ry(u.providerUserInfo):[],m=tE(i.providerData,h),y=i.isAnonymous,v=!(i.email&&u.passwordHash)&&!m?.length,E=y?v:!1,k={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Wh(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(i,k)}async function eE(i){const e=rn(i);await Eu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function tE(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function ry(i){return i.map(e=>{var{providerId:t}=e,s=fd(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}async function nE(i,e){const t=await Zg(i,{},async()=>{const s=Pa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=ty(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",Jg.fetch()(h,{method:"POST",headers:m,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function rE(i,e){return uo(i,"POST","/v2/accounts:revokeToken",Mu(i,e))}class Qs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Am(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const t=Am(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await nE(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,h=new Qs;return s&&(Ie(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Ie(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Ie(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qs,this.toJSON())}_performRefresh(){return Tr("not implemented")}}function ni(i,e){Ie(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Ir{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,u=fd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Zw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Wh(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await Ea(this,this.stsTokenManager.getToken(this.auth,e));return Ie(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Xw(this,e)}reload(){return eE(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ir(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Eu(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Er(this.auth.app))return Promise.reject(hi(this.auth));const e=await this.getIdToken();return await Ea(this,Yw(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,u,h,m,y,v,E;const k=(s=t.displayName)!==null&&s!==void 0?s:void 0,M=(o=t.email)!==null&&o!==void 0?o:void 0,z=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,Y=(h=t.photoURL)!==null&&h!==void 0?h:void 0,J=(m=t.tenantId)!==null&&m!==void 0?m:void 0,q=(y=t._redirectEventId)!==null&&y!==void 0?y:void 0,Ee=(v=t.createdAt)!==null&&v!==void 0?v:void 0,ye=(E=t.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:ve,emailVerified:Ce,isAnonymous:qe,providerData:Pe,stsTokenManager:P}=t;Ie(ve&&P,e,"internal-error");const I=Qs.fromJSON(this.name,P);Ie(typeof ve=="string",e,"internal-error"),ni(k,e.name),ni(M,e.name),Ie(typeof Ce=="boolean",e,"internal-error"),Ie(typeof qe=="boolean",e,"internal-error"),ni(z,e.name),ni(Y,e.name),ni(J,e.name),ni(q,e.name),ni(Ee,e.name),ni(ye,e.name);const A=new Ir({uid:ve,auth:e,email:M,emailVerified:Ce,displayName:k,isAnonymous:qe,photoURL:Y,phoneNumber:z,tenantId:J,stsTokenManager:I,createdAt:Ee,lastLoginAt:ye});return Pe&&Array.isArray(Pe)&&(A.providerData=Pe.map(C=>Object.assign({},C))),q&&(A._redirectEventId=q),A}static async _fromIdTokenResponse(e,t,s=!1){const o=new Qs;o.updateFromServerResponse(t);const u=new Ir({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Eu(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Ie(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?ry(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new Qs;m.updateFromIdToken(s);const y=new Ir({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Wh(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(y,v),y}}const Rm=new Map;function Sr(i){Cr(i instanceof Function,"Expected a class definition");let e=Rm.get(i);return e?(Cr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,Rm.set(i,e),e)}class iy{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}iy.type="NONE";const km=iy;function uu(i,e,t){return`firebase:${i}:${e}:${t}`}class Ys{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=uu(this.userKey,o.apiKey,u),this.fullPersistenceKey=uu("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ir._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Ys(Sr(km),e,s);const o=(await Promise.all(t.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let u=o[0]||Sr(km);const h=uu(s,e.config.apiKey,e.name);let m=null;for(const v of t)try{const E=await v._get(h);if(E){const k=Ir._fromJSON(e,E);v!==u&&(m=k),u=v;break}}catch{}const y=o.filter(v=>v._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new Ys(u,e,s):(u=y[0],m&&await u._set(h,m.toJSON()),await Promise.all(t.map(async v=>{if(v!==u)try{await v._remove(h)}catch{}})),new Ys(u,e,s))}}function Cm(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ly(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sy(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cy(e))return"Blackberry";if(hy(e))return"Webos";if(oy(e))return"Safari";if((e.includes("chrome/")||ay(e))&&!e.includes("edge/"))return"Chrome";if(uy(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if(s?.length===2)return s[1]}return"Other"}function sy(i=Bt()){return/firefox\//i.test(i)}function oy(i=Bt()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ay(i=Bt()){return/crios\//i.test(i)}function ly(i=Bt()){return/iemobile/i.test(i)}function uy(i=Bt()){return/android/i.test(i)}function cy(i=Bt()){return/blackberry/i.test(i)}function hy(i=Bt()){return/webos/i.test(i)}function yd(i=Bt()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function iE(i=Bt()){var e;return yd(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function sE(){return T0()&&document.documentMode===10}function dy(i=Bt()){return yd(i)||uy(i)||hy(i)||cy(i)||/windows phone/i.test(i)||ly(i)}function fy(i,e=[]){let t;switch(i){case"Browser":t=Cm(Bt());break;case"Worker":t=`${Cm(Bt())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${lo}/${s}`}class oE{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((h,m)=>{try{const y=e(u);h(y)}catch(y){m(y)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function aE(i,e={}){return uo(i,"GET","/v2/passwordPolicy",Mu(i,e))}const lE=6;class uE{constructor(e){var t,s,o,u;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:lE,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,u,h,m;const y={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,y),this.validatePasswordCharacterOptions(e,y),y.isValid&&(y.isValid=(t=y.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),y.isValid&&(y.isValid=(s=y.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),y.isValid&&(y.isValid=(o=y.containsLowercaseLetter)!==null&&o!==void 0?o:!0),y.isValid&&(y.isValid=(u=y.containsUppercaseLetter)!==null&&u!==void 0?u:!0),y.isValid&&(y.isValid=(h=y.containsNumericCharacter)!==null&&h!==void 0?h:!0),y.isValid&&(y.isValid=(m=y.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),y}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class cE{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Pm(this),this.idTokenSubscription=new Pm(this),this.beforeStateQueue=new oE(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Yg,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Sr(t)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await Ys.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await ny(this,{idToken:e}),s=await Ir._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Er(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,m=o?._redirectEventId,y=await this.tryRedirectSignIn(e);(!h||h===m)&&y?.user&&(o=y.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Eu(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Ww()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Er(this.app))return Promise.reject(hi(this));const t=e?rn(e):null;return t&&Ie(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Er(this.app)?Promise.reject(hi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Er(this.app)?Promise.reject(hi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Sr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await aE(this),t=new uE(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ca("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await rE(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Sr(e)||this._popupRedirectResolver;Ie(t,this,"argument-error"),this.redirectPersistenceManager=await Ys.create(this,[Sr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof t=="function"){const y=e.addObserver(t,s,o);return()=>{h=!0,y()}}else{const y=e.addObserver(t);return()=>{h=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fy(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&$w(`Error while retrieving App Check token: ${t.error}`),t?.token}}function bu(i){return rn(i)}class Pm{constructor(e){this.auth=e,this.observer=null,this.addObserver=N0(t=>this.observer=t)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let _d={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hE(i){_d=i}function dE(i){return _d.loadJS(i)}function fE(){return _d.gapiScript}function pE(i){return`__${i}${Math.floor(Math.random()*1e6)}`}function mE(i,e){const t=dd(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(_u(u,e??{}))return o;kr(o,"already-initialized")}return t.initialize({options:e})}function gE(i,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(Sr);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function yE(i,e,t){const s=bu(i);Ie(s._canInitEmulator,s,"emulator-config-failed"),Ie(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=py(e),{host:h,port:m}=_E(e),y=m===null?"":`:${m}`;s.config.emulator={url:`${u}//${h}${y}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})}),vE()}function py(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function _E(i){const e=py(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Nm(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:Nm(h)}}}function Nm(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function vE(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class my{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Tr("not implemented")}_getIdTokenResponse(e){return Tr("not implemented")}_linkToIdToken(e,t){return Tr("not implemented")}_getReauthenticationResolver(e){return Tr("not implemented")}}async function Xs(i,e){return ey(i,"POST","/v1/accounts:signInWithIdp",Mu(i,e))}const wE="http://localhost";class Qi extends my{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Qi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):kr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,u=fd(t,["providerId","signInMethod"]);if(!s||!o)return null;const h=new Qi(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return Xs(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Xs(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Xs(e,t)}buildRequest(){const e={requestUri:wE,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Pa(t)}return e}}class gy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class xa extends gy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ri extends xa{constructor(){super("facebook.com")}static credential(e){return Qi._fromParams({providerId:ri.PROVIDER_ID,signInMethod:ri.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ri.credentialFromTaggedObject(e)}static credentialFromError(e){return ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ri.credential(e.oauthAccessToken)}catch{return null}}}ri.FACEBOOK_SIGN_IN_METHOD="facebook.com";ri.PROVIDER_ID="facebook.com";class ii extends xa{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Qi._fromParams({providerId:ii.PROVIDER_ID,signInMethod:ii.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ii.credentialFromTaggedObject(e)}static credentialFromError(e){return ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return ii.credential(t,s)}catch{return null}}}ii.GOOGLE_SIGN_IN_METHOD="google.com";ii.PROVIDER_ID="google.com";class si extends xa{constructor(){super("github.com")}static credential(e){return Qi._fromParams({providerId:si.PROVIDER_ID,signInMethod:si.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return si.credentialFromTaggedObject(e)}static credentialFromError(e){return si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return si.credential(e.oauthAccessToken)}catch{return null}}}si.GITHUB_SIGN_IN_METHOD="github.com";si.PROVIDER_ID="github.com";class oi extends xa{constructor(){super("twitter.com")}static credential(e,t){return Qi._fromParams({providerId:oi.PROVIDER_ID,signInMethod:oi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return oi.credentialFromTaggedObject(e)}static credentialFromError(e){return oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return oi.credential(t,s)}catch{return null}}}oi.TWITTER_SIGN_IN_METHOD="twitter.com";oi.PROVIDER_ID="twitter.com";async function EE(i,e){return ey(i,"POST","/v1/accounts:signUp",Mu(i,e))}class fi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await Ir._fromIdTokenResponse(e,s,o),h=xm(s);return new fi({user:u,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=xm(s);return new fi({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function xm(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}async function TE(i){var e;if(Er(i.app))return Promise.reject(hi(i));const t=bu(i);if(await t._initializationPromise,!((e=t.currentUser)===null||e===void 0)&&e.isAnonymous)return new fi({user:t.currentUser,providerId:null,operationType:"signIn"});const s=await EE(t,{returnSecureToken:!0}),o=await fi._fromIdTokenResponse(t,"signIn",s,!0);return await t._updateCurrentUser(o.user),o}class Tu extends xr{constructor(e,t,s,o){var u;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Tu.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Tu(e,t,s,o)}}function yy(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Tu._fromErrorAndOperation(i,u,e,s):u})}async function IE(i,e,t=!1){const s=await Ea(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return fi._forOperation(i,"link",s)}async function SE(i,e,t=!1){const{auth:s}=i;if(Er(s.app))return Promise.reject(hi(s));const o="reauthenticate";try{const u=await Ea(i,yy(s,o,e,i),t);Ie(u.idToken,s,"internal-error");const h=gd(u.idToken);Ie(h,s,"internal-error");const{sub:m}=h;return Ie(i.uid===m,s,"user-mismatch"),fi._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&kr(s,"user-mismatch"),u}}async function AE(i,e,t=!1){if(Er(i.app))return Promise.reject(hi(i));const s="signIn",o=await yy(i,s,e),u=await fi._fromIdTokenResponse(i,s,o);return t||await i._updateCurrentUser(u.user),u}function RE(i,e,t,s){return rn(i).onIdTokenChanged(e,t,s)}function kE(i,e,t){return rn(i).beforeAuthStateChanged(e,t)}function CE(i,e,t,s){return rn(i).onAuthStateChanged(e,t,s)}const Iu="__sak";class _y{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Iu,"1"),this.storage.removeItem(Iu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const PE=1e3,NE=10;class vy extends _y{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=dy(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,m,y)=>{this.notifyListeners(h,y)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);sE()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,NE):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},PE)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}vy.type="LOCAL";const xE=vy;class wy extends _y{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}wy.type="SESSION";const Ey=wy;function DE(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Fu{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Fu(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,h=this.handlersMap[o];if(!h?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async v=>v(t.origin,u)),y=await DE(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:y})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Fu.receivers=[];function vd(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}class VE{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,y)=>{const v=vd("",20);o.port1.start();const E=setTimeout(()=>{y(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(k){const M=k;if(M.data.eventId===v)switch(M.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(M.data.response);break;default:clearTimeout(E),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:v,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function er(){return window}function OE(i){er().location.href=i}function Ty(){return typeof er().WorkerGlobalScope<"u"&&typeof er().importScripts=="function"}async function LE(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ME(){var i;return((i=navigator?.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function bE(){return Ty()?self:null}const Iy="firebaseLocalStorageDb",FE=1,Su="firebaseLocalStorage",Sy="fbase_key";class Da{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Uu(i,e){return i.transaction([Su],e?"readwrite":"readonly").objectStore(Su)}function UE(){const i=indexedDB.deleteDatabase(Iy);return new Da(i).toPromise()}function Kh(){const i=indexedDB.open(Iy,FE);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Su,{keyPath:Sy})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Su)?e(s):(s.close(),await UE(),e(await Kh()))})})}async function Dm(i,e,t){const s=Uu(i,!0).put({[Sy]:e,value:t});return new Da(s).toPromise()}async function jE(i,e){const t=Uu(i,!1).get(e),s=await new Da(t).toPromise();return s===void 0?null:s.value}function Vm(i,e){const t=Uu(i,!0).delete(e);return new Da(t).toPromise()}const zE=800,BE=3;class Ay{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Kh(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>BE)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ty()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Fu._getInstance(bE()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await LE(),!this.activeServiceWorker)return;this.sender=new VE(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ME()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Kh();return await Dm(e,Iu,"1"),await Vm(e,Iu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>Dm(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>jE(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Vm(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Uu(o,!1).getAll();return new Da(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),zE)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ay.type="LOCAL";const $E=Ay;new Na(3e4,6e4);function qE(i,e){return e?Sr(e):(Ie(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class wd extends my{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xs(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Xs(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Xs(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function HE(i){return AE(i.auth,new wd(i),i.bypassAuthState)}function WE(i){const{auth:e,user:t}=i;return Ie(t,e,"internal-error"),SE(t,new wd(i),i.bypassAuthState)}async function KE(i){const{auth:e,user:t}=i;return Ie(t,e,"internal-error"),IE(t,new wd(i),i.bypassAuthState)}class Ry{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const y={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(y))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return HE;case"linkViaPopup":case"linkViaRedirect":return KE;case"reauthViaPopup":case"reauthViaRedirect":return WE;default:kr(this.auth,"internal-error")}}resolve(e){Cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const GE=new Na(2e3,1e4);class Gs extends Ry{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Gs.currentPopupAction&&Gs.currentPopupAction.cancel(),Gs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){Cr(this.filter.length===1,"Popup operations only handle one event");const e=vd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Zn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Zn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Gs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,GE.get())};e()}}Gs.currentPopupAction=null;const QE="pendingRedirect",cu=new Map;class YE extends Ry{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=cu.get(this.auth._key());if(!e){try{const s=await XE(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}cu.set(this.auth._key(),e)}return this.bypassAuthState||cu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function XE(i,e){const t=eT(e),s=ZE(i);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function JE(i,e){cu.set(i._key(),e)}function ZE(i){return Sr(i._redirectPersistence)}function eT(i){return uu(QE,i.config.apiKey,i.name)}async function tT(i,e,t=!1){if(Er(i.app))return Promise.reject(hi(i));const s=bu(i),o=qE(s,e),h=await new YE(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}const nT=600*1e3;class rT{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!iT(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!ky(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(Zn(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=nT&&this.cachedEventUids.clear(),this.cachedEventUids.has(Om(e))}saveEventToCache(e){this.cachedEventUids.add(Om(e)),this.lastProcessedEventTime=Date.now()}}function Om(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function ky({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function iT(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ky(i);default:return!1}}async function sT(i,e={}){return uo(i,"GET","/v1/projects",e)}const oT=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aT=/^https?/;async function lT(i){if(i.config.emulator)return;const{authorizedDomains:e}=await sT(i);for(const t of e)try{if(uT(t))return}catch{}kr(i,"unauthorized-domain")}function uT(i){const e=Hh(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!aT.test(t))return!1;if(oT.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const cT=new Na(3e4,6e4);function Lm(){const i=er().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function hT(i){return new Promise((e,t)=>{var s,o,u;function h(){Lm(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Lm(),t(Zn(i,"network-request-failed"))},timeout:cT.get()})}if(!((o=(s=er().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=er().gapi)===null||u===void 0)&&u.load)h();else{const m=pE("iframefcb");return er()[m]=()=>{gapi.load?h():t(Zn(i,"network-request-failed"))},dE(`${fE()}?onload=${m}`).catch(y=>t(y))}}).catch(e=>{throw hu=null,e})}let hu=null;function dT(i){return hu=hu||hT(i),hu}const fT=new Na(5e3,15e3),pT="__/auth/iframe",mT="emulator/auth/iframe",gT={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yT=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _T(i){const e=i.config;Ie(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?md(e,mT):`https://${i.config.authDomain}/${pT}`,s={apiKey:e.apiKey,appName:i.name,v:lo},o=yT.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${Pa(s).slice(1)}`}async function vT(i){const e=await dT(i),t=er().gapi;return Ie(t,i,"internal-error"),e.open({where:document.body,url:_T(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gT,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=Zn(i,"network-request-failed"),m=er().setTimeout(()=>{u(h)},fT.get());function y(){er().clearTimeout(m),o(s)}s.ping(y).then(y,()=>{u(h)})}))}const wT={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ET=500,TT=600,IT="_blank",ST="http://localhost";class Mm{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function AT(i,e,t,s=ET,o=TT){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const y=Object.assign(Object.assign({},wT),{width:s.toString(),height:o.toString(),top:u,left:h}),v=Bt().toLowerCase();t&&(m=ay(v)?IT:t),sy(v)&&(e=e||ST,y.scrollbars="yes");const E=Object.entries(y).reduce((M,[z,Y])=>`${M}${z}=${Y},`,"");if(iE(v)&&m!=="_self")return RT(e||"",m),new Mm(null);const k=window.open(e||"",m,E);Ie(k,i,"popup-blocked");try{k.focus()}catch{}return new Mm(k)}function RT(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}const kT="__/auth/handler",CT="emulator/auth/handler",PT=encodeURIComponent("fac");async function bm(i,e,t,s,o,u){Ie(i.config.authDomain,i,"auth-domain-config-required"),Ie(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:lo,eventId:o};if(e instanceof gy){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",P0(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,k]of Object.entries({}))h[E]=k}if(e instanceof xa){const E=e.getScopes().filter(k=>k!=="");E.length>0&&(h.scopes=E.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const y=await i._getAppCheckToken(),v=y?`#${PT}=${encodeURIComponent(y)}`:"";return`${NT(i)}?${Pa(m).slice(1)}${v}`}function NT({config:i}){return i.emulator?md(i,CT):`https://${i.authDomain}/${kT}`}const Oh="webStorageSupport";class xT{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ey,this._completeRedirectFn=tT,this._overrideRedirectResult=JE}async _openPopup(e,t,s,o){var u;Cr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await bm(e,t,s,Hh(),o);return AT(e,h,vd())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await bm(e,t,s,Hh(),o);return OE(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(Cr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await vT(e),s=new rT(e);return t.register("authEvent",o=>(Ie(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Oh,{type:Oh},o=>{var u;const h=(u=o?.[0])===null||u===void 0?void 0:u[Oh];h!==void 0&&t(!!h),kr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=lT(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return dy()||oy()||yd()}}const DT=xT;var Fm="@firebase/auth",Um="1.7.9";class VT{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function OT(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function LT(i){eo(new Gi("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;Ie(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const y={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fy(i)},v=new cE(s,o,u,y);return gE(v,t),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),eo(new Gi("auth-internal",e=>{const t=bu(e.getProvider("auth").getImmediate());return(s=>new VT(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ci(Fm,Um,OT(i)),ci(Fm,Um,"esm2017")}const MT=300,bT=Bg("authIdTokenMaxAge")||MT;let jm=null;const FT=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>bT)return;const o=t?.token;jm!==o&&(jm=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function UT(i=Wg()){const e=dd(i,"auth");if(e.isInitialized())return e.getImmediate();const t=mE(i,{popupRedirectResolver:DT,persistence:[$E,xE,Ey]}),s=Bg("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=FT(u.toString());kE(t,h,()=>h(t.currentUser)),RE(t,m=>h(m))}}const o=jg("auth");return o&&yE(t,`http://${o}`),t}function jT(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}hE({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=Zn("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",jT().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});LT("Browser");var zm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Wi,Cy;(function(){var i;function e(P,I){function A(){}A.prototype=I.prototype,P.D=I.prototype,P.prototype=new A,P.prototype.constructor=P,P.C=function(C,x,V){for(var S=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)S[Ze-2]=arguments[Ze];return I.prototype[x].apply(C,S)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(P,I,A){A||(A=0);var C=Array(16);if(typeof I=="string")for(var x=0;16>x;++x)C[x]=I.charCodeAt(A++)|I.charCodeAt(A++)<<8|I.charCodeAt(A++)<<16|I.charCodeAt(A++)<<24;else for(x=0;16>x;++x)C[x]=I[A++]|I[A++]<<8|I[A++]<<16|I[A++]<<24;I=P.g[0],A=P.g[1],x=P.g[2];var V=P.g[3],S=I+(V^A&(x^V))+C[0]+3614090360&4294967295;I=A+(S<<7&4294967295|S>>>25),S=V+(x^I&(A^x))+C[1]+3905402710&4294967295,V=I+(S<<12&4294967295|S>>>20),S=x+(A^V&(I^A))+C[2]+606105819&4294967295,x=V+(S<<17&4294967295|S>>>15),S=A+(I^x&(V^I))+C[3]+3250441966&4294967295,A=x+(S<<22&4294967295|S>>>10),S=I+(V^A&(x^V))+C[4]+4118548399&4294967295,I=A+(S<<7&4294967295|S>>>25),S=V+(x^I&(A^x))+C[5]+1200080426&4294967295,V=I+(S<<12&4294967295|S>>>20),S=x+(A^V&(I^A))+C[6]+2821735955&4294967295,x=V+(S<<17&4294967295|S>>>15),S=A+(I^x&(V^I))+C[7]+4249261313&4294967295,A=x+(S<<22&4294967295|S>>>10),S=I+(V^A&(x^V))+C[8]+1770035416&4294967295,I=A+(S<<7&4294967295|S>>>25),S=V+(x^I&(A^x))+C[9]+2336552879&4294967295,V=I+(S<<12&4294967295|S>>>20),S=x+(A^V&(I^A))+C[10]+4294925233&4294967295,x=V+(S<<17&4294967295|S>>>15),S=A+(I^x&(V^I))+C[11]+2304563134&4294967295,A=x+(S<<22&4294967295|S>>>10),S=I+(V^A&(x^V))+C[12]+1804603682&4294967295,I=A+(S<<7&4294967295|S>>>25),S=V+(x^I&(A^x))+C[13]+4254626195&4294967295,V=I+(S<<12&4294967295|S>>>20),S=x+(A^V&(I^A))+C[14]+2792965006&4294967295,x=V+(S<<17&4294967295|S>>>15),S=A+(I^x&(V^I))+C[15]+1236535329&4294967295,A=x+(S<<22&4294967295|S>>>10),S=I+(x^V&(A^x))+C[1]+4129170786&4294967295,I=A+(S<<5&4294967295|S>>>27),S=V+(A^x&(I^A))+C[6]+3225465664&4294967295,V=I+(S<<9&4294967295|S>>>23),S=x+(I^A&(V^I))+C[11]+643717713&4294967295,x=V+(S<<14&4294967295|S>>>18),S=A+(V^I&(x^V))+C[0]+3921069994&4294967295,A=x+(S<<20&4294967295|S>>>12),S=I+(x^V&(A^x))+C[5]+3593408605&4294967295,I=A+(S<<5&4294967295|S>>>27),S=V+(A^x&(I^A))+C[10]+38016083&4294967295,V=I+(S<<9&4294967295|S>>>23),S=x+(I^A&(V^I))+C[15]+3634488961&4294967295,x=V+(S<<14&4294967295|S>>>18),S=A+(V^I&(x^V))+C[4]+3889429448&4294967295,A=x+(S<<20&4294967295|S>>>12),S=I+(x^V&(A^x))+C[9]+568446438&4294967295,I=A+(S<<5&4294967295|S>>>27),S=V+(A^x&(I^A))+C[14]+3275163606&4294967295,V=I+(S<<9&4294967295|S>>>23),S=x+(I^A&(V^I))+C[3]+4107603335&4294967295,x=V+(S<<14&4294967295|S>>>18),S=A+(V^I&(x^V))+C[8]+1163531501&4294967295,A=x+(S<<20&4294967295|S>>>12),S=I+(x^V&(A^x))+C[13]+2850285829&4294967295,I=A+(S<<5&4294967295|S>>>27),S=V+(A^x&(I^A))+C[2]+4243563512&4294967295,V=I+(S<<9&4294967295|S>>>23),S=x+(I^A&(V^I))+C[7]+1735328473&4294967295,x=V+(S<<14&4294967295|S>>>18),S=A+(V^I&(x^V))+C[12]+2368359562&4294967295,A=x+(S<<20&4294967295|S>>>12),S=I+(A^x^V)+C[5]+4294588738&4294967295,I=A+(S<<4&4294967295|S>>>28),S=V+(I^A^x)+C[8]+2272392833&4294967295,V=I+(S<<11&4294967295|S>>>21),S=x+(V^I^A)+C[11]+1839030562&4294967295,x=V+(S<<16&4294967295|S>>>16),S=A+(x^V^I)+C[14]+4259657740&4294967295,A=x+(S<<23&4294967295|S>>>9),S=I+(A^x^V)+C[1]+2763975236&4294967295,I=A+(S<<4&4294967295|S>>>28),S=V+(I^A^x)+C[4]+1272893353&4294967295,V=I+(S<<11&4294967295|S>>>21),S=x+(V^I^A)+C[7]+4139469664&4294967295,x=V+(S<<16&4294967295|S>>>16),S=A+(x^V^I)+C[10]+3200236656&4294967295,A=x+(S<<23&4294967295|S>>>9),S=I+(A^x^V)+C[13]+681279174&4294967295,I=A+(S<<4&4294967295|S>>>28),S=V+(I^A^x)+C[0]+3936430074&4294967295,V=I+(S<<11&4294967295|S>>>21),S=x+(V^I^A)+C[3]+3572445317&4294967295,x=V+(S<<16&4294967295|S>>>16),S=A+(x^V^I)+C[6]+76029189&4294967295,A=x+(S<<23&4294967295|S>>>9),S=I+(A^x^V)+C[9]+3654602809&4294967295,I=A+(S<<4&4294967295|S>>>28),S=V+(I^A^x)+C[12]+3873151461&4294967295,V=I+(S<<11&4294967295|S>>>21),S=x+(V^I^A)+C[15]+530742520&4294967295,x=V+(S<<16&4294967295|S>>>16),S=A+(x^V^I)+C[2]+3299628645&4294967295,A=x+(S<<23&4294967295|S>>>9),S=I+(x^(A|~V))+C[0]+4096336452&4294967295,I=A+(S<<6&4294967295|S>>>26),S=V+(A^(I|~x))+C[7]+1126891415&4294967295,V=I+(S<<10&4294967295|S>>>22),S=x+(I^(V|~A))+C[14]+2878612391&4294967295,x=V+(S<<15&4294967295|S>>>17),S=A+(V^(x|~I))+C[5]+4237533241&4294967295,A=x+(S<<21&4294967295|S>>>11),S=I+(x^(A|~V))+C[12]+1700485571&4294967295,I=A+(S<<6&4294967295|S>>>26),S=V+(A^(I|~x))+C[3]+2399980690&4294967295,V=I+(S<<10&4294967295|S>>>22),S=x+(I^(V|~A))+C[10]+4293915773&4294967295,x=V+(S<<15&4294967295|S>>>17),S=A+(V^(x|~I))+C[1]+2240044497&4294967295,A=x+(S<<21&4294967295|S>>>11),S=I+(x^(A|~V))+C[8]+1873313359&4294967295,I=A+(S<<6&4294967295|S>>>26),S=V+(A^(I|~x))+C[15]+4264355552&4294967295,V=I+(S<<10&4294967295|S>>>22),S=x+(I^(V|~A))+C[6]+2734768916&4294967295,x=V+(S<<15&4294967295|S>>>17),S=A+(V^(x|~I))+C[13]+1309151649&4294967295,A=x+(S<<21&4294967295|S>>>11),S=I+(x^(A|~V))+C[4]+4149444226&4294967295,I=A+(S<<6&4294967295|S>>>26),S=V+(A^(I|~x))+C[11]+3174756917&4294967295,V=I+(S<<10&4294967295|S>>>22),S=x+(I^(V|~A))+C[2]+718787259&4294967295,x=V+(S<<15&4294967295|S>>>17),S=A+(V^(x|~I))+C[9]+3951481745&4294967295,P.g[0]=P.g[0]+I&4294967295,P.g[1]=P.g[1]+(x+(S<<21&4294967295|S>>>11))&4294967295,P.g[2]=P.g[2]+x&4294967295,P.g[3]=P.g[3]+V&4294967295}s.prototype.u=function(P,I){I===void 0&&(I=P.length);for(var A=I-this.blockSize,C=this.B,x=this.h,V=0;V<I;){if(x==0)for(;V<=A;)o(this,P,V),V+=this.blockSize;if(typeof P=="string"){for(;V<I;)if(C[x++]=P.charCodeAt(V++),x==this.blockSize){o(this,C),x=0;break}}else for(;V<I;)if(C[x++]=P[V++],x==this.blockSize){o(this,C),x=0;break}}this.h=x,this.o+=I},s.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var I=1;I<P.length-8;++I)P[I]=0;var A=8*this.o;for(I=P.length-8;I<P.length;++I)P[I]=A&255,A/=256;for(this.u(P),P=Array(16),I=A=0;4>I;++I)for(var C=0;32>C;C+=8)P[A++]=this.g[I]>>>C&255;return P};function u(P,I){var A=m;return Object.prototype.hasOwnProperty.call(A,P)?A[P]:A[P]=I(P)}function h(P,I){this.h=I;for(var A=[],C=!0,x=P.length-1;0<=x;x--){var V=P[x]|0;C&&V==I||(A[x]=V,C=!1)}this.g=A}var m={};function y(P){return-128<=P&&128>P?u(P,function(I){return new h([I|0],0>I?-1:0)}):new h([P|0],0>P?-1:0)}function v(P){if(isNaN(P)||!isFinite(P))return k;if(0>P)return q(v(-P));for(var I=[],A=1,C=0;P>=A;C++)I[C]=P/A|0,A*=4294967296;return new h(I,0)}function E(P,I){if(P.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(P.charAt(0)=="-")return q(E(P.substring(1),I));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=v(Math.pow(I,8)),C=k,x=0;x<P.length;x+=8){var V=Math.min(8,P.length-x),S=parseInt(P.substring(x,x+V),I);8>V?(V=v(Math.pow(I,V)),C=C.j(V).add(v(S))):(C=C.j(A),C=C.add(v(S)))}return C}var k=y(0),M=y(1),z=y(16777216);i=h.prototype,i.m=function(){if(J(this))return-q(this).m();for(var P=0,I=1,A=0;A<this.g.length;A++){var C=this.i(A);P+=(0<=C?C:4294967296+C)*I,I*=4294967296}return P},i.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(Y(this))return"0";if(J(this))return"-"+q(this).toString(P);for(var I=v(Math.pow(P,6)),A=this,C="";;){var x=Ce(A,I).g;A=Ee(A,x.j(I));var V=((0<A.g.length?A.g[0]:A.h)>>>0).toString(P);if(A=x,Y(A))return V+C;for(;6>V.length;)V="0"+V;C=V+C}},i.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function Y(P){if(P.h!=0)return!1;for(var I=0;I<P.g.length;I++)if(P.g[I]!=0)return!1;return!0}function J(P){return P.h==-1}i.l=function(P){return P=Ee(this,P),J(P)?-1:Y(P)?0:1};function q(P){for(var I=P.g.length,A=[],C=0;C<I;C++)A[C]=~P.g[C];return new h(A,~P.h).add(M)}i.abs=function(){return J(this)?q(this):this},i.add=function(P){for(var I=Math.max(this.g.length,P.g.length),A=[],C=0,x=0;x<=I;x++){var V=C+(this.i(x)&65535)+(P.i(x)&65535),S=(V>>>16)+(this.i(x)>>>16)+(P.i(x)>>>16);C=S>>>16,V&=65535,S&=65535,A[x]=S<<16|V}return new h(A,A[A.length-1]&-2147483648?-1:0)};function Ee(P,I){return P.add(q(I))}i.j=function(P){if(Y(this)||Y(P))return k;if(J(this))return J(P)?q(this).j(q(P)):q(q(this).j(P));if(J(P))return q(this.j(q(P)));if(0>this.l(z)&&0>P.l(z))return v(this.m()*P.m());for(var I=this.g.length+P.g.length,A=[],C=0;C<2*I;C++)A[C]=0;for(C=0;C<this.g.length;C++)for(var x=0;x<P.g.length;x++){var V=this.i(C)>>>16,S=this.i(C)&65535,Ze=P.i(x)>>>16,at=P.i(x)&65535;A[2*C+2*x]+=S*at,ye(A,2*C+2*x),A[2*C+2*x+1]+=V*at,ye(A,2*C+2*x+1),A[2*C+2*x+1]+=S*Ze,ye(A,2*C+2*x+1),A[2*C+2*x+2]+=V*Ze,ye(A,2*C+2*x+2)}for(C=0;C<I;C++)A[C]=A[2*C+1]<<16|A[2*C];for(C=I;C<2*I;C++)A[C]=0;return new h(A,0)};function ye(P,I){for(;(P[I]&65535)!=P[I];)P[I+1]+=P[I]>>>16,P[I]&=65535,I++}function ve(P,I){this.g=P,this.h=I}function Ce(P,I){if(Y(I))throw Error("division by zero");if(Y(P))return new ve(k,k);if(J(P))return I=Ce(q(P),I),new ve(q(I.g),q(I.h));if(J(I))return I=Ce(P,q(I)),new ve(q(I.g),I.h);if(30<P.g.length){if(J(P)||J(I))throw Error("slowDivide_ only works with positive integers.");for(var A=M,C=I;0>=C.l(P);)A=qe(A),C=qe(C);var x=Pe(A,1),V=Pe(C,1);for(C=Pe(C,2),A=Pe(A,2);!Y(C);){var S=V.add(C);0>=S.l(P)&&(x=x.add(A),V=S),C=Pe(C,1),A=Pe(A,1)}return I=Ee(P,x.j(I)),new ve(x,I)}for(x=k;0<=P.l(I);){for(A=Math.max(1,Math.floor(P.m()/I.m())),C=Math.ceil(Math.log(A)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),V=v(A),S=V.j(I);J(S)||0<S.l(P);)A-=C,V=v(A),S=V.j(I);Y(V)&&(V=M),x=x.add(V),P=Ee(P,S)}return new ve(x,P)}i.A=function(P){return Ce(this,P).h},i.and=function(P){for(var I=Math.max(this.g.length,P.g.length),A=[],C=0;C<I;C++)A[C]=this.i(C)&P.i(C);return new h(A,this.h&P.h)},i.or=function(P){for(var I=Math.max(this.g.length,P.g.length),A=[],C=0;C<I;C++)A[C]=this.i(C)|P.i(C);return new h(A,this.h|P.h)},i.xor=function(P){for(var I=Math.max(this.g.length,P.g.length),A=[],C=0;C<I;C++)A[C]=this.i(C)^P.i(C);return new h(A,this.h^P.h)};function qe(P){for(var I=P.g.length+1,A=[],C=0;C<I;C++)A[C]=P.i(C)<<1|P.i(C-1)>>>31;return new h(A,P.h)}function Pe(P,I){var A=I>>5;I%=32;for(var C=P.g.length-A,x=[],V=0;V<C;V++)x[V]=0<I?P.i(V+A)>>>I|P.i(V+A+1)<<32-I:P.i(V+A);return new h(x,P.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Cy=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=v,h.fromString=E,Wi=h}).apply(typeof zm<"u"?zm:typeof self<"u"?self:typeof window<"u"?window:{});var ru=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Py,ha,Ny,du,Gh,xy,Dy,Vy;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,f,g){return l==Array.prototype||l==Object.prototype||(l[f]=g.value),l};function t(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof ru=="object"&&ru];for(var f=0;f<l.length;++f){var g=l[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var s=t(this);function o(l,f){if(f)e:{var g=s;l=l.split(".");for(var w=0;w<l.length-1;w++){var O=l[w];if(!(O in g))break e;g=g[O]}l=l[l.length-1],w=g[l],f=f(w),f!=w&&f!=null&&e(g,l,{configurable:!0,writable:!0,value:f})}}function u(l,f){l instanceof String&&(l+="");var g=0,w=!1,O={next:function(){if(!w&&g<l.length){var j=g++;return{value:f(j,l[j]),done:!1}}return w=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}o("Array.prototype.values",function(l){return l||function(){return u(this,function(f,g){return g})}});var h=h||{},m=this||self;function y(l){var f=typeof l;return f=f!="object"?f:l?Array.isArray(l)?"array":f:"null",f=="array"||f=="object"&&typeof l.length=="number"}function v(l){var f=typeof l;return f=="object"&&l!=null||f=="function"}function E(l,f,g){return l.call.apply(l.bind,arguments)}function k(l,f,g){if(!l)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,w),l.apply(f,O)}}return function(){return l.apply(f,arguments)}}function M(l,f,g){return M=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:k,M.apply(null,arguments)}function z(l,f){var g=Array.prototype.slice.call(arguments,1);return function(){var w=g.slice();return w.push.apply(w,arguments),l.apply(this,w)}}function Y(l,f){function g(){}g.prototype=f.prototype,l.aa=f.prototype,l.prototype=new g,l.prototype.constructor=l,l.Qb=function(w,O,j){for(var Z=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)Z[ze-2]=arguments[ze];return f.prototype[O].apply(w,Z)}}function J(l){const f=l.length;if(0<f){const g=Array(f);for(let w=0;w<f;w++)g[w]=l[w];return g}return[]}function q(l,f){for(let g=1;g<arguments.length;g++){const w=arguments[g];if(y(w)){const O=l.length||0,j=w.length||0;l.length=O+j;for(let Z=0;Z<j;Z++)l[O+Z]=w[Z]}else l.push(w)}}class Ee{constructor(f,g){this.i=f,this.j=g,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function ye(l){return/^[\s\xa0]*$/.test(l)}function ve(){var l=m.navigator;return l&&(l=l.userAgent)?l:""}function Ce(l){return Ce[" "](l),l}Ce[" "]=function(){};var qe=ve().indexOf("Gecko")!=-1&&!(ve().toLowerCase().indexOf("webkit")!=-1&&ve().indexOf("Edge")==-1)&&!(ve().indexOf("Trident")!=-1||ve().indexOf("MSIE")!=-1)&&ve().indexOf("Edge")==-1;function Pe(l,f,g){for(const w in l)f.call(g,l[w],w,l)}function P(l,f){for(const g in l)f.call(void 0,l[g],g,l)}function I(l){const f={};for(const g in l)f[g]=l[g];return f}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(l,f){let g,w;for(let O=1;O<arguments.length;O++){w=arguments[O];for(g in w)l[g]=w[g];for(let j=0;j<A.length;j++)g=A[j],Object.prototype.hasOwnProperty.call(w,g)&&(l[g]=w[g])}}function x(l){var f=1;l=l.split(":");const g=[];for(;0<f&&l.length;)g.push(l.shift()),f--;return l.length&&g.push(l.join(":")),g}function V(l){m.setTimeout(()=>{throw l},0)}function S(){var l=fe;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}class Ze{constructor(){this.h=this.g=null}add(f,g){const w=at.get();w.set(f,g),this.h?this.h.next=w:this.g=w,this.h=w}}var at=new Ee(()=>new lt,l=>l.reset());class lt{constructor(){this.next=this.g=this.h=null}set(f,g){this.h=f,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let je,ee=!1,fe=new Ze,re=()=>{const l=m.Promise.resolve(void 0);je=()=>{l.then(D)}};var D=()=>{for(var l;l=S();){try{l.h.call(l.g)}catch(g){V(g)}var f=at;f.j(l),100>f.h&&(f.h++,l.next=f.g,f.g=l)}ee=!1};function $(){this.s=this.s,this.C=this.C}$.prototype.s=!1,$.prototype.ma=function(){this.s||(this.s=!0,this.N())},$.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function de(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}de.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};m.addEventListener("test",g,f),m.removeEventListener("test",g,f)}catch{}return l})();function te(l,f){if(de.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var g=this.type=l.type,w=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget){if(qe){e:{try{Ce(f.nodeName);var O=!0;break e}catch{}O=!1}O||(f=null)}}else g=="mouseover"?f=l.fromElement:g=="mouseout"&&(f=l.toElement);this.relatedTarget=f,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:se[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&te.aa.h.call(this)}}Y(te,de);var se={2:"touch",3:"pen",4:"mouse"};te.prototype.h=function(){te.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var ne="closure_listenable_"+(1e6*Math.random()|0),_e=0;function Te(l,f,g,w,O){this.listener=l,this.proxy=null,this.src=f,this.type=g,this.capture=!!w,this.ha=O,this.key=++_e,this.da=this.fa=!1}function xe(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function ke(l){this.src=l,this.g={},this.h=0}ke.prototype.add=function(l,f,g,w,O){var j=l.toString();l=this.g[j],l||(l=this.g[j]=[],this.h++);var Z=At(l,f,w,O);return-1<Z?(f=l[Z],g||(f.fa=!1)):(f=new Te(f,this.src,j,!!w,O),f.fa=g,l.push(f)),f};function $t(l,f){var g=f.type;if(g in l.g){var w=l.g[g],O=Array.prototype.indexOf.call(w,f,void 0),j;(j=0<=O)&&Array.prototype.splice.call(w,O,1),j&&(xe(f),l.g[g].length==0&&(delete l.g[g],l.h--))}}function At(l,f,g,w){for(var O=0;O<l.length;++O){var j=l[O];if(!j.da&&j.listener==f&&j.capture==!!g&&j.ha==w)return O}return-1}var fn="closure_lm_"+(1e6*Math.random()|0),$e={};function Rt(l,f,g,w,O){if(Array.isArray(f)){for(var j=0;j<f.length;j++)Rt(l,f[j],g,w,O);return null}return g=_o(g),l&&l[ne]?l.K(f,g,v(w)?!!w.capture:!1,O):go(l,f,g,!1,w,O)}function go(l,f,g,w,O,j){if(!f)throw Error("Invalid event type");var Z=v(O)?!!O.capture:!!O,ze=ns(l);if(ze||(l[fn]=ze=new ke(l)),g=ze.add(f,g,w,Z,j),g.proxy)return g;if(w=ja(),g.proxy=w,w.src=l,w.listener=g,l.addEventListener)B||(O=Z),O===void 0&&(O=!1),l.addEventListener(f.toString(),w,O);else if(l.attachEvent)l.attachEvent(sr(f.toString()),w);else if(l.addListener&&l.removeListener)l.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return g}function ja(){function l(g){return f.call(l.src,l.listener,g)}const f=yo;return l}function ts(l,f,g,w,O){if(Array.isArray(f))for(var j=0;j<f.length;j++)ts(l,f[j],g,w,O);else w=v(w)?!!w.capture:!!w,g=_o(g),l&&l[ne]?(l=l.i,f=String(f).toString(),f in l.g&&(j=l.g[f],g=At(j,g,w,O),-1<g&&(xe(j[g]),Array.prototype.splice.call(j,g,1),j.length==0&&(delete l.g[f],l.h--)))):l&&(l=ns(l))&&(f=l.g[f.toString()],l=-1,f&&(l=At(f,g,w,O)),(g=-1<l?f[l]:null)&&ir(g))}function ir(l){if(typeof l!="number"&&l&&!l.da){var f=l.src;if(f&&f[ne])$t(f.i,l);else{var g=l.type,w=l.proxy;f.removeEventListener?f.removeEventListener(g,w,l.capture):f.detachEvent?f.detachEvent(sr(g),w):f.addListener&&f.removeListener&&f.removeListener(w),(g=ns(f))?($t(g,l),g.h==0&&(g.src=null,f[fn]=null)):xe(l)}}}function sr(l){return l in $e?$e[l]:$e[l]="on"+l}function yo(l,f){if(l.da)l=!0;else{f=new te(f,this);var g=l.listener,w=l.ha||l.src;l.fa&&ir(l),l=g.call(w,f)}return l}function ns(l){return l=l[fn],l instanceof ke?l:null}var rs="__closure_events_fn_"+(1e9*Math.random()>>>0);function _o(l){return typeof l=="function"?l:(l[rs]||(l[rs]=function(f){return l.handleEvent(f)}),l[rs])}function mt(){$.call(this),this.i=new ke(this),this.M=this,this.F=null}Y(mt,$),mt.prototype[ne]=!0,mt.prototype.removeEventListener=function(l,f,g,w){ts(this,l,f,g,w)};function gt(l,f){var g,w=l.F;if(w)for(g=[];w;w=w.F)g.push(w);if(l=l.M,w=f.type||f,typeof f=="string")f=new de(f,l);else if(f instanceof de)f.target=f.target||l;else{var O=f;f=new de(w,l),C(f,O)}if(O=!0,g)for(var j=g.length-1;0<=j;j--){var Z=f.g=g[j];O=or(Z,w,!0,f)&&O}if(Z=f.g=l,O=or(Z,w,!0,f)&&O,O=or(Z,w,!1,f)&&O,g)for(j=0;j<g.length;j++)Z=f.g=g[j],O=or(Z,w,!1,f)&&O}mt.prototype.N=function(){if(mt.aa.N.call(this),this.i){var l=this.i,f;for(f in l.g){for(var g=l.g[f],w=0;w<g.length;w++)xe(g[w]);delete l.g[f],l.h--}}this.F=null},mt.prototype.K=function(l,f,g,w){return this.i.add(String(l),f,!1,g,w)},mt.prototype.L=function(l,f,g,w){return this.i.add(String(l),f,!0,g,w)};function or(l,f,g,w){if(f=l.i.g[String(f)],!f)return!0;f=f.concat();for(var O=!0,j=0;j<f.length;++j){var Z=f[j];if(Z&&!Z.da&&Z.capture==g){var ze=Z.listener,yt=Z.ha||Z.src;Z.fa&&$t(l.i,Z),O=ze.call(yt,w)!==!1&&O}}return O&&!w.defaultPrevented}function vo(l,f,g){if(typeof l=="function")g&&(l=M(l,g));else if(l&&typeof l.handleEvent=="function")l=M(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:m.setTimeout(l,f||0)}function Dr(l){l.g=vo(()=>{l.g=null,l.i&&(l.i=!1,Dr(l))},l.l);const f=l.h;l.h=null,l.m.apply(null,f)}class yi extends ${constructor(f,g){super(),this.m=f,this.l=g,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:Dr(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _i(l){$.call(this),this.h=l,this.g={}}Y(_i,$);var wo=[];function Eo(l){Pe(l.g,function(f,g){this.g.hasOwnProperty(g)&&ir(f)},l),l.g={}}_i.prototype.N=function(){_i.aa.N.call(this),Eo(this)},_i.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var To=m.JSON.stringify,Io=m.JSON.parse,So=class{stringify(l){return m.JSON.stringify(l,void 0)}parse(l){return m.JSON.parse(l,void 0)}};function vi(){}vi.prototype.h=null;function is(l){return l.h||(l.h=l.i())}function ss(){}var pn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Bn(){de.call(this,"d")}Y(Bn,de);function os(){de.call(this,"c")}Y(os,de);var $n={},Ao=null;function wi(){return Ao=Ao||new mt}$n.La="serverreachability";function Ro(l){de.call(this,$n.La,l)}Y(Ro,de);function ar(l){const f=wi();gt(f,new Ro(f))}$n.STAT_EVENT="statevent";function ko(l,f){de.call(this,$n.STAT_EVENT,l),this.stat=f}Y(ko,de);function it(l){const f=wi();gt(f,new ko(f,l))}$n.Ma="timingevent";function as(l,f){de.call(this,$n.Ma,l),this.size=f}Y(as,de);function An(l,f){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){l()},f)}function Ei(){this.g=!0}Ei.prototype.xa=function(){this.g=!1};function Ti(l,f,g,w,O,j){l.info(function(){if(l.g)if(j)for(var Z="",ze=j.split("&"),yt=0;yt<ze.length;yt++){var Le=ze[yt].split("=");if(1<Le.length){var wt=Le[0];Le=Le[1];var ut=wt.split("_");Z=2<=ut.length&&ut[1]=="type"?Z+(wt+"="+Le+"&"):Z+(wt+"=redacted&")}}else Z=null;else Z=j;return"XMLHTTP REQ ("+w+") [attempt "+O+"]: "+f+`
`+g+`
`+Z})}function ls(l,f,g,w,O,j,Z){l.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+O+"]: "+f+`
`+g+`
`+j+" "+Z})}function Rn(l,f,g,w){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+Xu(l,g)+(w?" "+w:"")})}function Co(l,f){l.info(function(){return"TIMEOUT: "+f})}Ei.prototype.info=function(){};function Xu(l,f){if(!l.g)return f;if(!f)return null;try{var g=JSON.parse(f);if(g){for(l=0;l<g.length;l++)if(Array.isArray(g[l])){var w=g[l];if(!(2>w.length)){var O=w[1];if(Array.isArray(O)&&!(1>O.length)){var j=O[0];if(j!="noop"&&j!="stop"&&j!="close")for(var Z=1;Z<O.length;Z++)O[Z]=""}}}}return To(g)}catch{return f}}var us={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},za={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},kn;function Ii(){}Y(Ii,vi),Ii.prototype.g=function(){return new XMLHttpRequest},Ii.prototype.i=function(){return{}},kn=new Ii;function Cn(l,f,g,w){this.j=l,this.i=f,this.l=g,this.R=w||1,this.U=new _i(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ba}function Ba(){this.i=null,this.g="",this.h=!1}var Po={},cs={};function hs(l,f,g){l.L=1,l.v=br(an(f)),l.m=g,l.P=!0,No(l,null)}function No(l,f){l.F=Date.now(),We(l),l.A=an(l.v);var g=l.A,w=l.R;Array.isArray(w)||(w=[String(w)]),Ur(g.i,"t",w),l.C=0,g=l.j.J,l.h=new Ba,l.g=ol(l.j,g?f:null,!l.m),0<l.O&&(l.M=new yi(M(l.Y,l,l.g),l.O)),f=l.U,g=l.g,w=l.ca;var O="readystatechange";Array.isArray(O)||(O&&(wo[0]=O.toString()),O=wo);for(var j=0;j<O.length;j++){var Z=Rt(g,O[j],w||f.handleEvent,!1,f.h||f);if(!Z)break;f.g[Z.key]=Z}f=l.H?I(l.H):{},l.m?(l.u||(l.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,f)):(l.u="GET",l.g.ea(l.A,l.u,null,f)),ar(),Ti(l.i,l.u,l.A,l.l,l.R,l.m)}Cn.prototype.ca=function(l){l=l.target;const f=this.M;f&&Qt(l)==3?f.j():this.Y(l)},Cn.prototype.Y=function(l){try{if(l==this.g)e:{const ut=Qt(this.g);var f=this.g.Ba();const yn=this.g.Z();if(!(3>ut)&&(ut!=3||this.g&&(this.h.h||this.g.oa()||Mo(this.g)))){this.J||ut!=4||f==7||(f==8||0>=yn?ar(3):ar(2)),Si(this);var g=this.g.Z();this.X=g;t:if($a(this)){var w=Mo(this.g);l="";var O=w.length,j=Qt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){mn(this),Vr(this);var Z="";break t}this.h.i=new m.TextDecoder}for(f=0;f<O;f++)this.h.h=!0,l+=this.h.i.decode(w[f],{stream:!(j&&f==O-1)});w.length=0,this.h.g+=l,this.C=0,Z=this.h.g}else Z=this.g.oa();if(this.o=g==200,ls(this.i,this.u,this.A,this.l,this.R,ut,g),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,yt=this.g;if((ze=yt.g?yt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ye(ze)){var Le=ze;break t}}Le=null}if(g=Le)Rn(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xo(this,g);else{this.o=!1,this.s=3,it(12),mn(this),Vr(this);break e}}if(this.P){g=!0;let un;for(;!this.J&&this.C<Z.length;)if(un=Ju(this,Z),un==cs){ut==4&&(this.s=4,it(14),g=!1),Rn(this.i,this.l,null,"[Incomplete Response]");break}else if(un==Po){this.s=4,it(15),Rn(this.i,this.l,Z,"[Invalid Chunk]"),g=!1;break}else Rn(this.i,this.l,un,null),xo(this,un);if($a(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ut!=4||Z.length!=0||this.h.h||(this.s=1,it(16),g=!1),this.o=this.o&&g,!g)Rn(this.i,this.l,Z,"[Invalid Chunked Response]"),mn(this),Vr(this);else if(0<Z.length&&!this.W){this.W=!0;var wt=this.j;wt.g==this&&wt.ba&&!wt.M&&(wt.j.info("Great, no buffering proxy detected. Bytes received: "+Z.length),Fo(wt),wt.M=!0,it(11))}}else Rn(this.i,this.l,Z,null),xo(this,Z);ut==4&&mn(this),this.o&&!this.J&&(ut==4?Ts(this.j,this):(this.o=!1,We(this)))}else ys(this.g),g==400&&0<Z.indexOf("Unknown SID")?(this.s=3,it(12)):(this.s=0,it(13)),mn(this),Vr(this)}}}catch{}finally{}};function $a(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function Ju(l,f){var g=l.C,w=f.indexOf(`
`,g);return w==-1?cs:(g=Number(f.substring(g,w)),isNaN(g)?Po:(w+=1,w+g>f.length?cs:(f=f.slice(w,w+g),l.C=w+g,f)))}Cn.prototype.cancel=function(){this.J=!0,mn(this)};function We(l){l.S=Date.now()+l.I,qa(l,l.I)}function qa(l,f){if(l.B!=null)throw Error("WatchDog timer not null");l.B=An(M(l.ba,l),f)}function Si(l){l.B&&(m.clearTimeout(l.B),l.B=null)}Cn.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(Co(this.i,this.A),this.L!=2&&(ar(),it(17)),mn(this),this.s=2,Vr(this)):qa(this,this.S-l)};function Vr(l){l.j.G==0||l.J||Ts(l.j,l)}function mn(l){Si(l);var f=l.M;f&&typeof f.ma=="function"&&f.ma(),l.M=null,Eo(l.U),l.g&&(f=l.g,l.g=null,f.abort(),f.ma())}function xo(l,f){try{var g=l.j;if(g.G!=0&&(g.g==l||qt(g.h,l))){if(!l.K&&qt(g.h,l)&&g.G==3){try{var w=g.Da.g.parse(f)}catch{w=null}if(Array.isArray(w)&&w.length==3){var O=w;if(O[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<l.F)Es(g),Vn(g);else break e;ws(g),it(18)}}else g.za=O[1],0<g.za-g.T&&37500>O[2]&&g.F&&g.v==0&&!g.C&&(g.C=An(M(g.Za,g),6e3));if(1>=Wa(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else dr(g,11)}else if((l.K||g.g==l)&&Es(g),!ye(f))for(O=g.Da.g.parse(f),f=0;f<O.length;f++){let Le=O[f];if(g.T=Le[0],Le=Le[1],g.G==2)if(Le[0]=="c"){g.K=Le[1],g.ia=Le[2];const wt=Le[3];wt!=null&&(g.la=wt,g.j.info("VER="+g.la));const ut=Le[4];ut!=null&&(g.Aa=ut,g.j.info("SVER="+g.Aa));const yn=Le[5];yn!=null&&typeof yn=="number"&&0<yn&&(w=1.5*yn,g.L=w,g.j.info("backChannelRequestTimeoutMs_="+w)),w=g;const un=l.g;if(un){const xi=un.g?un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xi){var j=w.h;j.g||xi.indexOf("spdy")==-1&&xi.indexOf("quic")==-1&&xi.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Do(j,j.h),j.h=null))}if(w.D){const Ss=un.g?un.g.getResponseHeader("X-HTTP-Session-Id"):null;Ss&&(w.ya=Ss,He(w.I,w.D,Ss))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-l.F,g.j.info("Handshake RTT: "+g.R+"ms")),w=g;var Z=l;if(w.qa=sl(w,w.J?w.ia:null,w.W),Z.K){Ka(w.h,Z);var ze=Z,yt=w.L;yt&&(ze.I=yt),ze.B&&(Si(ze),We(ze)),w.g=Z}else Ni(w);0<g.i.length&&Kn(g)}else Le[0]!="stop"&&Le[0]!="close"||dr(g,7);else g.G==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?dr(g,7):Ct(g):Le[0]!="noop"&&g.l&&g.l.ta(Le),g.v=0)}}ar(4)}catch{}}var Ha=class{constructor(l,f){this.g=l,this.map=f}};function Ai(l){this.l=l||10,m.PerformanceNavigationTiming?(l=m.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function on(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Wa(l){return l.h?1:l.g?l.g.size:0}function qt(l,f){return l.h?l.h==f:l.g?l.g.has(f):!1}function Do(l,f){l.g?l.g.add(f):l.h=f}function Ka(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}Ai.prototype.cancel=function(){if(this.i=Ga(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Ga(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let f=l.i;for(const g of l.g.values())f=f.concat(g.D);return f}return J(l.i)}function ds(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(y(l)){for(var f=[],g=l.length,w=0;w<g;w++)f.push(l[w]);return f}f=[],g=0;for(w in l)f[g++]=l[w];return f}function fs(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(y(l)||typeof l=="string"){var f=[];l=l.length;for(var g=0;g<l;g++)f.push(g);return f}f=[],g=0;for(const w in l)f[g++]=w;return f}}}function Or(l,f){if(l.forEach&&typeof l.forEach=="function")l.forEach(f,void 0);else if(y(l)||typeof l=="string")Array.prototype.forEach.call(l,f,void 0);else for(var g=fs(l),w=ds(l),O=w.length,j=0;j<O;j++)f.call(void 0,w[j],g&&g[j],l)}var Ri=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zu(l,f){if(l){l=l.split("&");for(var g=0;g<l.length;g++){var w=l[g].indexOf("="),O=null;if(0<=w){var j=l[g].substring(0,w);O=l[g].substring(w+1)}else j=l[g];f(j,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function lr(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof lr){this.h=l.h,ki(this,l.j),this.o=l.o,this.g=l.g,Lr(this,l.s),this.l=l.l;var f=l.i,g=new qn;g.i=f.i,f.g&&(g.g=new Map(f.g),g.h=f.h),Mr(this,g),this.m=l.m}else l&&(f=String(l).match(Ri))?(this.h=!1,ki(this,f[1]||"",!0),this.o=Ve(f[2]||""),this.g=Ve(f[3]||"",!0),Lr(this,f[4]),this.l=Ve(f[5]||"",!0),Mr(this,f[6]||"",!0),this.m=Ve(f[7]||"")):(this.h=!1,this.i=new qn(null,this.h))}lr.prototype.toString=function(){var l=[],f=this.j;f&&l.push(Fr(f,ps,!0),":");var g=this.g;return(g||f=="file")&&(l.push("//"),(f=this.o)&&l.push(Fr(f,ps,!0),"@"),l.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&l.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(Fr(g,g.charAt(0)=="/"?Xa:Ya,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",Fr(g,Vo)),l.join("")};function an(l){return new lr(l)}function ki(l,f,g){l.j=g?Ve(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function Lr(l,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);l.s=f}else l.s=null}function Mr(l,f,g){f instanceof qn?(l.i=f,Hn(l.i,l.h)):(g||(f=Fr(f,Ja)),l.i=new qn(f,l.h))}function He(l,f,g){l.i.set(f,g)}function br(l){return He(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Ve(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Fr(l,f,g){return typeof l=="string"?(l=encodeURI(l).replace(f,Qa),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Qa(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var ps=/[#\/\?@]/g,Ya=/[#\?:]/g,Xa=/[#\?]/g,Ja=/[#\?@]/g,Vo=/#/g;function qn(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function kt(l){l.g||(l.g=new Map,l.h=0,l.i&&Zu(l.i,function(f,g){l.add(decodeURIComponent(f.replace(/\+/g," ")),g)}))}i=qn.prototype,i.add=function(l,f){kt(this),this.i=null,l=gn(this,l);var g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(f),this.h+=1,this};function Pn(l,f){kt(l),f=gn(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function Nn(l,f){return kt(l),f=gn(l,f),l.g.has(f)}i.forEach=function(l,f){kt(this),this.g.forEach(function(g,w){g.forEach(function(O){l.call(f,O,w,this)},this)},this)},i.na=function(){kt(this);const l=Array.from(this.g.values()),f=Array.from(this.g.keys()),g=[];for(let w=0;w<f.length;w++){const O=l[w];for(let j=0;j<O.length;j++)g.push(f[w])}return g},i.V=function(l){kt(this);let f=[];if(typeof l=="string")Nn(this,l)&&(f=f.concat(this.g.get(gn(this,l))));else{l=Array.from(this.g.values());for(let g=0;g<l.length;g++)f=f.concat(l[g])}return f},i.set=function(l,f){return kt(this),this.i=null,l=gn(this,l),Nn(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},i.get=function(l,f){return l?(l=this.V(l),0<l.length?String(l[0]):f):f};function Ur(l,f,g){Pn(l,f),0<g.length&&(l.i=null,l.g.set(gn(l,f),J(g)),l.h+=g.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],f=Array.from(this.g.keys());for(var g=0;g<f.length;g++){var w=f[g];const j=encodeURIComponent(String(w)),Z=this.V(w);for(w=0;w<Z.length;w++){var O=j;Z[w]!==""&&(O+="="+encodeURIComponent(String(Z[w]))),l.push(O)}}return this.i=l.join("&")};function gn(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function Hn(l,f){f&&!l.j&&(kt(l),l.i=null,l.g.forEach(function(g,w){var O=w.toLowerCase();w!=O&&(Pn(this,w),Ur(this,O,g))},l)),l.j=f}function ec(l,f){const g=new Ei;if(m.Image){const w=new Image;w.onload=z(Gt,g,"TestLoadImage: loaded",!0,f,w),w.onerror=z(Gt,g,"TestLoadImage: error",!1,f,w),w.onabort=z(Gt,g,"TestLoadImage: abort",!1,f,w),w.ontimeout=z(Gt,g,"TestLoadImage: timeout",!1,f,w),m.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=l}else f(!1)}function Za(l,f){const g=new Ei,w=new AbortController,O=setTimeout(()=>{w.abort(),Gt(g,"TestPingServer: timeout",!1,f)},1e4);fetch(l,{signal:w.signal}).then(j=>{clearTimeout(O),j.ok?Gt(g,"TestPingServer: ok",!0,f):Gt(g,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(O),Gt(g,"TestPingServer: error",!1,f)})}function Gt(l,f,g,w,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),w(g)}catch{}}function tc(){this.g=new So}function el(l,f,g){const w=g||"";try{Or(l,function(O,j){let Z=O;v(O)&&(Z=To(O)),f.push(w+j+"="+encodeURIComponent(Z))})}catch(O){throw f.push(w+"type="+encodeURIComponent("_badmap")),O}}function ur(l){this.l=l.Ub||null,this.j=l.eb||!1}Y(ur,vi),ur.prototype.g=function(){return new Ci(this.l,this.j)},ur.prototype.i=(function(l){return function(){return l}})({});function Ci(l,f){mt.call(this),this.D=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Y(Ci,mt),i=Ci.prototype,i.open=function(l,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=f,this.readyState=1,Dn(this)},i.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(f.body=l),(this.D||m).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xn(this)),this.readyState=0},i.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Dn(this)),this.g&&(this.readyState=3,Dn(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;tl(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function tl(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}i.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?xn(this):Dn(this),this.readyState==3&&tl(this)}},i.Ra=function(l){this.g&&(this.response=this.responseText=l,xn(this))},i.Qa=function(l){this.g&&(this.response=l,xn(this))},i.ga=function(){this.g&&xn(this)};function xn(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Dn(l)}i.setRequestHeader=function(l,f){this.u.append(l,f)},i.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],f=this.h.entries();for(var g=f.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=f.next();return l.join(`\r
`)};function Dn(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Ci.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function cr(l){let f="";return Pe(l,function(g,w){f+=w,f+=":",f+=g,f+=`\r
`}),f}function jr(l,f,g){e:{for(w in g){var w=!1;break e}w=!0}w||(g=cr(g),typeof l=="string"?g!=null&&encodeURIComponent(String(g)):He(l,f,g))}function Xe(l){mt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Y(Xe,mt);var nc=/^https?$/i,Oo=["POST","PUT"];i=Xe.prototype,i.Ha=function(l){this.J=l},i.ea=function(l,f,g,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():kn.g(),this.v=this.o?is(this.o):is(kn),this.g.onreadystatechange=M(this.Ea,this);try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(j){Pi(this,j);return}if(l=g||"",g=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var O in w)g.set(O,w[O]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const j of w.keys())g.set(j,w.get(j));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(g.keys()).find(j=>j.toLowerCase()=="content-type"),O=m.FormData&&l instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Oo,f,void 0))||w||O||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,Z]of g)this.g.setRequestHeader(j,Z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{gs(this),this.u=!0,this.g.send(l),this.u=!1}catch(j){Pi(this,j)}};function Pi(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.m=5,ms(l),ln(l)}function ms(l){l.A||(l.A=!0,gt(l,"complete"),gt(l,"error"))}i.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,gt(this,"complete"),gt(this,"abort"),ln(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ln(this,!0)),Xe.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Lo(this):this.bb())},i.bb=function(){Lo(this)};function Lo(l){if(l.h&&typeof h<"u"&&(!l.v[1]||Qt(l)!=4||l.Z()!=2)){if(l.u&&Qt(l)==4)vo(l.Ea,0,l);else if(gt(l,"readystatechange"),Qt(l)==4){l.h=!1;try{const Z=l.Z();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var g;if(!(g=f)){var w;if(w=Z===0){var O=String(l.D).match(Ri)[1]||null;!O&&m.self&&m.self.location&&(O=m.self.location.protocol.slice(0,-1)),w=!nc.test(O?O.toLowerCase():"")}g=w}if(g)gt(l,"complete"),gt(l,"success");else{l.m=6;try{var j=2<Qt(l)?l.g.statusText:""}catch{j=""}l.l=j+" ["+l.Z()+"]",ms(l)}}finally{ln(l)}}}}function ln(l,f){if(l.g){gs(l);const g=l.g,w=l.v[0]?()=>{}:null;l.g=null,l.v=null,f||gt(l,"ready");try{g.onreadystatechange=w}catch{}}}function gs(l){l.I&&(m.clearTimeout(l.I),l.I=null)}i.isActive=function(){return!!this.g};function Qt(l){return l.g?l.g.readyState:0}i.Z=function(){try{return 2<Qt(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(l){if(this.g){var f=this.g.responseText;return l&&f.indexOf(l)==0&&(f=f.substring(l.length)),Io(f)}};function Mo(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function ys(l){const f={};l=(l.g&&2<=Qt(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<l.length;w++){if(ye(l[w]))continue;var g=x(l[w]);const O=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const j=f[O]||[];f[O]=j,j.push(g)}P(f,function(w){return w.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Wn(l,f,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||f}function bo(l){this.Aa=0,this.i=[],this.j=new Ei,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wn("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wn("baseRetryDelayMs",5e3,l),this.cb=Wn("retryDelaySeedMs",1e4,l),this.Wa=Wn("forwardChannelMaxRetries",2,l),this.wa=Wn("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Ai(l&&l.concurrentRequestLimit),this.Da=new tc,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=bo.prototype,i.la=8,i.G=1,i.connect=function(l,f,g,w){it(0),this.W=l,this.H=f||{},g&&w!==void 0&&(this.H.OSID=g,this.H.OAID=w),this.F=this.X,this.I=sl(this,null,this.W),Kn(this)};function Ct(l){if(_s(l),l.G==3){var f=l.U++,g=an(l.I);if(He(g,"SID",l.K),He(g,"RID",f),He(g,"TYPE","terminate"),hr(l,g),f=new Cn(l,l.j,f),f.L=2,f.v=br(an(g)),g=!1,m.navigator&&m.navigator.sendBeacon)try{g=m.navigator.sendBeacon(f.v.toString(),"")}catch{}!g&&m.Image&&(new Image().src=f.v,g=!0),g||(f.g=ol(f.j,null),f.g.ea(f.v)),f.F=Date.now(),We(f)}il(l)}function Vn(l){l.g&&(Fo(l),l.g.cancel(),l.g=null)}function _s(l){Vn(l),l.u&&(m.clearTimeout(l.u),l.u=null),Es(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&m.clearTimeout(l.s),l.s=null)}function Kn(l){if(!on(l.h)&&!l.s){l.s=!0;var f=l.Ga;je||re(),ee||(je(),ee=!0),fe.add(f,l),l.B=0}}function rc(l,f){return Wa(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=f.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=An(M(l.Ga,l,f),rl(l,l.B)),l.B++,!0)}i.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const O=new Cn(this,this.j,l);let j=this.o;if(this.S&&(j?(j=I(j),C(j,this.S)):j=this.S),this.m!==null||this.O||(O.H=j,j=null),this.P)e:{for(var f=0,g=0;g<this.i.length;g++){t:{var w=this.i[g];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(f+=w,4096<f){f=g;break e}if(f===4096||g===this.i.length-1){f=g+1;break e}}f=1e3}else f=1e3;f=zr(this,O,f),g=an(this.I),He(g,"RID",l),He(g,"CVER",22),this.D&&He(g,"X-HTTP-Session-Id",this.D),hr(this,g),j&&(this.O?f="headers="+encodeURIComponent(String(cr(j)))+"&"+f:this.m&&jr(g,this.m,j)),Do(this.h,O),this.Ua&&He(g,"TYPE","init"),this.P?(He(g,"$req",f),He(g,"SID","null"),O.T=!0,hs(O,g,null)):hs(O,g,f),this.G=2}}else this.G==3&&(l?vs(this,l):this.i.length==0||on(this.h)||vs(this))};function vs(l,f){var g;f?g=f.l:g=l.U++;const w=an(l.I);He(w,"SID",l.K),He(w,"RID",g),He(w,"AID",l.T),hr(l,w),l.m&&l.o&&jr(w,l.m,l.o),g=new Cn(l,l.j,g,l.B+1),l.m===null&&(g.H=l.o),f&&(l.i=f.D.concat(l.i)),f=zr(l,g,1e3),g.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Do(l.h,g),hs(g,w,f)}function hr(l,f){l.H&&Pe(l.H,function(g,w){He(f,w,g)}),l.l&&Or({},function(g,w){He(f,w,g)})}function zr(l,f,g){g=Math.min(l.i.length,g);var w=l.l?M(l.l.Na,l.l,l):null;e:{var O=l.i;let j=-1;for(;;){const Z=["count="+g];j==-1?0<g?(j=O[0].g,Z.push("ofs="+j)):j=0:Z.push("ofs="+j);let ze=!0;for(let yt=0;yt<g;yt++){let Le=O[yt].g;const wt=O[yt].map;if(Le-=j,0>Le)j=Math.max(0,O[yt].g-100),ze=!1;else try{el(wt,Z,"req"+Le+"_")}catch{w&&w(wt)}}if(ze){w=Z.join("&");break e}}}return l=l.i.splice(0,g),f.D=l,w}function Ni(l){if(!l.g&&!l.u){l.Y=1;var f=l.Fa;je||re(),ee||(je(),ee=!0),fe.add(f,l),l.v=0}}function ws(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=An(M(l.Fa,l),rl(l,l.v)),l.v++,!0)}i.Fa=function(){if(this.u=null,nl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=An(M(this.ab,this),l)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,it(10),Vn(this),nl(this))};function Fo(l){l.A!=null&&(m.clearTimeout(l.A),l.A=null)}function nl(l){l.g=new Cn(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var f=an(l.qa);He(f,"RID","rpc"),He(f,"SID",l.K),He(f,"AID",l.T),He(f,"CI",l.F?"0":"1"),!l.F&&l.ja&&He(f,"TO",l.ja),He(f,"TYPE","xmlhttp"),hr(l,f),l.m&&l.o&&jr(f,l.m,l.o),l.L&&(l.g.I=l.L);var g=l.g;l=l.ia,g.L=1,g.v=br(an(f)),g.m=null,g.P=!0,No(g,l)}i.Za=function(){this.C!=null&&(this.C=null,Vn(this),ws(this),it(19))};function Es(l){l.C!=null&&(m.clearTimeout(l.C),l.C=null)}function Ts(l,f){var g=null;if(l.g==f){Es(l),Fo(l),l.g=null;var w=2}else if(qt(l.h,f))g=f.D,Ka(l.h,f),w=1;else return;if(l.G!=0){if(f.o)if(w==1){g=f.m?f.m.length:0,f=Date.now()-f.F;var O=l.B;w=wi(),gt(w,new as(w,g)),Kn(l)}else Ni(l);else if(O=f.s,O==3||O==0&&0<f.X||!(w==1&&rc(l,f)||w==2&&ws(l)))switch(g&&0<g.length&&(f=l.h,f.i=f.i.concat(g)),O){case 1:dr(l,5);break;case 4:dr(l,10);break;case 3:dr(l,6);break;default:dr(l,2)}}}function rl(l,f){let g=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(g*=2),g*f}function dr(l,f){if(l.j.info("Error code "+f),f==2){var g=M(l.fb,l),w=l.Xa;const O=!w;w=new lr(w||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ki(w,"https"),br(w),O?ec(w.toString(),g):Za(w.toString(),g)}else it(2);l.G=0,l.l&&l.l.sa(f),il(l),_s(l)}i.fb=function(l){l?(this.j.info("Successfully pinged google.com"),it(2)):(this.j.info("Failed to ping google.com"),it(1))};function il(l){if(l.G=0,l.ka=[],l.l){const f=Ga(l.h);(f.length!=0||l.i.length!=0)&&(q(l.ka,f),q(l.ka,l.i),l.h.i.length=0,J(l.i),l.i.length=0),l.l.ra()}}function sl(l,f,g){var w=g instanceof lr?an(g):new lr(g);if(w.g!="")f&&(w.g=f+"."+w.g),Lr(w,w.s);else{var O=m.location;w=O.protocol,f=f?f+"."+O.hostname:O.hostname,O=+O.port;var j=new lr(null);w&&ki(j,w),f&&(j.g=f),O&&Lr(j,O),g&&(j.l=g),w=j}return g=l.D,f=l.ya,g&&f&&He(w,g,f),He(w,"VER",l.la),hr(l,w),w}function ol(l,f,g){if(f&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=l.Ca&&!l.pa?new Xe(new ur({eb:g})):new Xe(l.pa),f.Ha(l.J),f}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Uo(){}i=Uo.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Is(){}Is.prototype.g=function(l,f){return new Ht(l,f)};function Ht(l,f){mt.call(this),this.g=new bo(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(l?l["X-WebChannel-Client-Profile"]=f.va:l={"X-WebChannel-Client-Profile":f.va}),this.g.S=l,(l=f&&f.Sb)&&!ye(l)&&(this.g.m=l),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!ye(f)&&(this.g.D=f,l=this.h,l!==null&&f in l&&(l=this.h,f in l&&delete l[f])),this.j=new Gn(this)}Y(Ht,mt),Ht.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ht.prototype.close=function(){Ct(this.g)},Ht.prototype.o=function(l){var f=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.u&&(g={},g.__data__=To(l),l=g);f.i.push(new Ha(f.Ya++,l)),f.G==3&&Kn(f)},Ht.prototype.N=function(){this.g.l=null,delete this.j,Ct(this.g),delete this.g,Ht.aa.N.call(this)};function al(l){Bn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){e:{for(const g in f){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,f=f!==null&&l in f?f[l]:void 0),this.data=f}else this.data=l}Y(al,Bn);function ll(){os.call(this),this.status=1}Y(ll,os);function Gn(l){this.g=l}Y(Gn,Uo),Gn.prototype.ua=function(){gt(this.g,"a")},Gn.prototype.ta=function(l){gt(this.g,new al(l))},Gn.prototype.sa=function(l){gt(this.g,new ll)},Gn.prototype.ra=function(){gt(this.g,"b")},Is.prototype.createWebChannel=Is.prototype.g,Ht.prototype.send=Ht.prototype.o,Ht.prototype.open=Ht.prototype.m,Ht.prototype.close=Ht.prototype.close,Vy=function(){return new Is},Dy=function(){return wi()},xy=$n,Gh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},us.NO_ERROR=0,us.TIMEOUT=8,us.HTTP_ERROR=6,du=us,za.COMPLETE="complete",Ny=za,ss.EventType=pn,pn.OPEN="a",pn.CLOSE="b",pn.ERROR="c",pn.MESSAGE="d",mt.prototype.listen=mt.prototype.K,ha=ss,Xe.prototype.listenOnce=Xe.prototype.L,Xe.prototype.getLastError=Xe.prototype.Ka,Xe.prototype.getLastErrorCode=Xe.prototype.Ba,Xe.prototype.getStatus=Xe.prototype.Z,Xe.prototype.getResponseJson=Xe.prototype.Oa,Xe.prototype.getResponseText=Xe.prototype.oa,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Ha,Py=Xe}).apply(typeof ru<"u"?ru:typeof self<"u"?self:typeof window<"u"?window:{});const Bm="@firebase/firestore";let jt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};jt.UNAUTHENTICATED=new jt(null),jt.GOOGLE_CREDENTIALS=new jt("google-credentials-uid"),jt.FIRST_PARTY=new jt("first-party-uid"),jt.MOCK_USER=new jt("mock-user");let co="10.14.0";const Yi=new cd("@firebase/firestore");function ca(){return Yi.logLevel}function ue(i,...e){if(Yi.logLevel<=Oe.DEBUG){const t=e.map(Ed);Yi.debug(`Firestore (${co}): ${i}`,...t)}}function Pr(i,...e){if(Yi.logLevel<=Oe.ERROR){const t=e.map(Ed);Yi.error(`Firestore (${co}): ${i}`,...t)}}function to(i,...e){if(Yi.logLevel<=Oe.WARN){const t=e.map(Ed);Yi.warn(`Firestore (${co}): ${i}`,...t)}}function Ed(i){if(typeof i=="string")return i;try{return(function(t){return JSON.stringify(t)})(i)}catch{return i}}function Se(i="Unexpected state"){const e=`FIRESTORE (${co}) INTERNAL ASSERTION FAILED: `+i;throw Pr(e),new Error(e)}function Be(i,e){i||Se()}function Re(i,e){return i}const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends xr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ki{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Oy{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(jt.UNAUTHENTICATED)))}shutdown(){}}class BT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class $T{constructor(e){this.t=e,this.currentUser=jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Be(this.o===void 0);let s=this.i;const o=y=>this.i!==s?(s=this.i,t(y)):Promise.resolve();let u=new Ki;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ki,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const y=u;e.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},m=y=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((y=>m(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ki)}}),0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Be(typeof s.accessToken=="string"),new Oy(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Be(e===null||typeof e=="string"),new jt(e)}}class qT{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=jt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class HT{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new qT(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(jt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class WT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class KT{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Be(this.o===void 0);const s=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Be(typeof t.token=="string"),this.R=t.token,new WT(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function GT(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}class Ly{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const o=GT(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%e.length))}return s}}function Ue(i,e){return i<e?-1:i>e?1:0}function no(i,e,t){return i.length===e.length&&i.every(((s,o)=>t(s,e[o])))}class pt{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ce(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ce(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ce(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return pt.fromMillis(Date.now())}static fromDate(e){return pt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new pt(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ae{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new pt(0,0))}static max(){return new Ae(new pt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ta{constructor(e,t,s){t===void 0?t=0:t>e.length&&Se(),s===void 0?s=e.length-t:s>e.length-t&&Se(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Ta.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ta?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=e.get(o),h=t.get(o);if(u<h)return-1;if(u>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ye extends Ta{construct(e,t,s){return new Ye(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ce(H.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((o=>o.length>0)))}return new Ye(t)}static emptyPath(){return new Ye([])}}const QT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dt extends Ta{construct(e,t,s){return new Dt(e,t,s)}static isValidIdentifier(e){return QT.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Dt(["__name__"])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ce(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ce(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ce(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=y,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new ce(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Dt(t)}static emptyPath(){return new Dt([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(Ye.fromString(e))}static fromName(e){return new pe(Ye.fromString(e).popFirst(5))}static empty(){return new pe(Ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ye.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new Ye(e.slice()))}}function YT(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(s===1e9?new pt(t+1,0):new pt(t,s));return new pi(o,pe.empty(),e)}function XT(i){return new pi(i.readTime,i.key,-1)}class pi{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new pi(Ae.min(),pe.empty(),-1)}static max(){return new pi(Ae.max(),pe.empty(),-1)}}function JT(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=pe.comparator(i.documentKey,e.documentKey),t!==0?t:Ue(i.largestBatchId,e.largestBatchId))}const ZT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Va(i){if(i.code!==H.FAILED_PRECONDITION||i.message!==ZT)throw i;ue("LocalStore","Unexpectedly lost primary lease")}class G{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new G(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof G?t:G.resolve(t)}catch(t){return G.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):G.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):G.reject(t)}static resolve(e){return new G(((t,s)=>{t(e)}))}static reject(e){return new G(((t,s)=>{s(e)}))}static waitFor(e){return new G(((t,s)=>{let o=0,u=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&t()}),(y=>s(y)))})),h=!0,u===o&&t()}))}static or(e){let t=G.resolve(!1);for(const s of e)t=t.next((o=>o?G.resolve(o):s()));return t}static forEach(e,t){const s=[];return e.forEach(((o,u)=>{s.push(t.call(this,o,u))})),this.waitFor(s)}static mapArray(e,t){return new G(((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let y=0;y<u;y++){const v=y;t(e[v]).next((E=>{h[v]=E,++m,m===u&&s(h)}),(E=>o(E)))}}))}static doWhile(e,t){return new G(((s,o)=>{const u=()=>{e()===!0?t().next((()=>{u()}),o):s()};u()}))}}function tI(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Oa(i){return i.name==="IndexedDbTransactionError"}class Td{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ie(s),this.se=s=>t.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Td.oe=-1;function ju(i){return i==null}function Au(i){return i===0&&1/i==-1/0}function nI(i){return typeof i=="number"&&Number.isInteger(i)&&!Au(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}function $m(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function ho(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function My(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class nt{constructor(e,t){this.comparator=e,this.root=t||xt.EMPTY}insert(e,t){return new nt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,xt.BLACK,null,null))}remove(e){return new nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new iu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new iu(this.root,e,this.comparator,!1)}getReverseIterator(){return new iu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new iu(this.root,e,this.comparator,!0)}}class iu{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xt{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??xt.RED,this.left=o??xt.EMPTY,this.right=u??xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new xt(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return xt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Se();const e=this.left.check();if(e!==this.right.check())throw Se();return e+(this.isRed()?0:1)}}xt.EMPTY=null,xt.RED=!0,xt.BLACK=!1;xt.EMPTY=new class{constructor(){this.size=0}get key(){throw Se()}get value(){throw Se()}get color(){throw Se()}get left(){throw Se()}get right(){throw Se()}copy(e,t,s,o,u){return this}insert(e,t,s){return new xt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vt{constructor(e){this.comparator=e,this.data=new nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new qm(this.data.getIterator())}getIteratorFrom(e){return new qm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Vt(this.comparator);return t.data=e,t}}class qm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class jn{constructor(e){this.fields=e,e.sort(Dt.comparator)}static empty(){return new jn([])}unionWith(e){let t=new Vt(Dt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new jn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return no(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}class by extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ot{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new by("Invalid base64 string: "+u):u}})(e);return new Ot(t)}static fromUint8Array(e){const t=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new Ot(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ot.EMPTY_BYTE_STRING=new Ot("");const rI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mi(i){if(Be(!!i),typeof i=="string"){let e=0;const t=rI.exec(i);if(Be(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ot(i.seconds),nanos:ot(i.nanos)}}function ot(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Xi(i){return typeof i=="string"?Ot.fromBase64String(i):Ot.fromUint8Array(i)}function Id(i){var e,t;return((t=(((e=i?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Sd(i){const e=i.mapValue.fields.__previous_value__;return Id(e)?Sd(e):e}function Ia(i){const e=mi(i.mapValue.fields.__local_write_time__.timestampValue);return new pt(e.seconds,e.nanos)}class iI{constructor(e,t,s,o,u,h,m,y,v){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=v}}class Sa{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Sa("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Sa&&e.projectId===this.projectId&&e.database===this.database}}const su={mapValue:{}};function Ji(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Id(i)?4:oI(i)?9007199254740991:sI(i)?10:11:Se()}function rr(i,e){if(i===e)return!0;const t=Ji(i);if(t!==Ji(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Ia(i).isEqual(Ia(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=mi(o.timestampValue),m=mi(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return Xi(o.bytesValue).isEqual(Xi(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return ot(o.geoPointValue.latitude)===ot(u.geoPointValue.latitude)&&ot(o.geoPointValue.longitude)===ot(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return ot(o.integerValue)===ot(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=ot(o.doubleValue),m=ot(u.doubleValue);return h===m?Au(h)===Au(m):isNaN(h)&&isNaN(m)}return!1})(i,e);case 9:return no(i.arrayValue.values||[],e.arrayValue.values||[],rr);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if($m(h)!==$m(m))return!1;for(const y in h)if(h.hasOwnProperty(y)&&(m[y]===void 0||!rr(h[y],m[y])))return!1;return!0})(i,e);default:return Se()}}function Aa(i,e){return(i.values||[]).find((t=>rr(t,e)))!==void 0}function ro(i,e){if(i===e)return 0;const t=Ji(i),s=Ji(e);if(t!==s)return Ue(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ue(i.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=ot(u.integerValue||u.doubleValue),y=ot(h.integerValue||h.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1})(i,e);case 3:return Hm(i.timestampValue,e.timestampValue);case 4:return Hm(Ia(i),Ia(e));case 5:return Ue(i.stringValue,e.stringValue);case 6:return(function(u,h){const m=Xi(u),y=Xi(h);return m.compareTo(y)})(i.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),y=h.split("/");for(let v=0;v<m.length&&v<y.length;v++){const E=Ue(m[v],y[v]);if(E!==0)return E}return Ue(m.length,y.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=Ue(ot(u.latitude),ot(h.latitude));return m!==0?m:Ue(ot(u.longitude),ot(h.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return Wm(i.arrayValue,e.arrayValue);case 10:return(function(u,h){var m,y,v,E;const k=u.fields||{},M=h.fields||{},z=(m=k.value)===null||m===void 0?void 0:m.arrayValue,Y=(y=M.value)===null||y===void 0?void 0:y.arrayValue,J=Ue(((v=z?.values)===null||v===void 0?void 0:v.length)||0,((E=Y?.values)===null||E===void 0?void 0:E.length)||0);return J!==0?J:Wm(z,Y)})(i.mapValue,e.mapValue);case 11:return(function(u,h){if(u===su.mapValue&&h===su.mapValue)return 0;if(u===su.mapValue)return 1;if(h===su.mapValue)return-1;const m=u.fields||{},y=Object.keys(m),v=h.fields||{},E=Object.keys(v);y.sort(),E.sort();for(let k=0;k<y.length&&k<E.length;++k){const M=Ue(y[k],E[k]);if(M!==0)return M;const z=ro(m[y[k]],v[E[k]]);if(z!==0)return z}return Ue(y.length,E.length)})(i.mapValue,e.mapValue);default:throw Se()}}function Hm(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ue(i,e);const t=mi(i),s=mi(e),o=Ue(t.seconds,s.seconds);return o!==0?o:Ue(t.nanos,s.nanos)}function Wm(i,e){const t=i.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=ro(t[o],s[o]);if(u)return u}return Ue(t.length,s.length)}function io(i){return Qh(i)}function Qh(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(t){const s=mi(t);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(t){return Xi(t).toBase64()})(i.bytesValue):"referenceValue"in i?(function(t){return pe.fromName(t).toString()})(i.referenceValue):"geoPointValue"in i?(function(t){return`geo(${t.latitude},${t.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=Qh(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${Qh(t.fields[h])}`;return o+"}"})(i.mapValue):Se()}function Km(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Yh(i){return!!i&&"integerValue"in i}function Ad(i){return!!i&&"arrayValue"in i}function Gm(i){return!!i&&"nullValue"in i}function Qm(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function fu(i){return!!i&&"mapValue"in i}function sI(i){var e,t;return((t=(((e=i?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function ga(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return ho(i.mapValue.fields,((t,s)=>e.mapValue.fields[t]=ga(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ga(i.arrayValue.values[t]);return e}return Object.assign({},i)}function oI(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}class Sn{constructor(e){this.value=e}static empty(){return new Sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!fu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ga(t)}setAll(e){let t=Dt.emptyPath(),s={},o=[];e.forEach(((h,m)=>{if(!t.isImmediateParentOf(m)){const y=this.getFieldsMap(t);this.applyChanges(y,s,o),s={},o=[],t=m.popLast()}h?s[m.lastSegment()]=ga(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());fu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return rr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];fu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){ho(t,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new Sn(ga(this.value))}}function Fy(i){const e=[];return ho(i.fields,((t,s)=>{const o=new Dt([t]);if(fu(s)){const u=Fy(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new jn(e)}class zt{constructor(e,t,s,o,u,h,m){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new zt(e,0,Ae.min(),Ae.min(),Ae.min(),Sn.empty(),0)}static newFoundDocument(e,t,s,o){return new zt(e,1,t,Ae.min(),s,o,0)}static newNoDocument(e,t){return new zt(e,2,t,Ae.min(),Ae.min(),Sn.empty(),0)}static newUnknownDocument(e,t){return new zt(e,3,t,Ae.min(),Ae.min(),Sn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ru{constructor(e,t){this.position=e,this.inclusive=t}}function Ym(i,e,t){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=pe.comparator(pe.fromName(h.referenceValue),t.key):s=ro(h,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Xm(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!rr(i.position[t],e.position[t]))return!1;return!0}class ku{constructor(e,t="asc"){this.field=e,this.dir=t}}function aI(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class Uy{}class ft extends Uy{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new uI(e,t,s):t==="array-contains"?new dI(e,s):t==="in"?new fI(e,s):t==="not-in"?new pI(e,s):t==="array-contains-any"?new mI(e,s):new ft(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new cI(e,s):new hI(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(ro(t,this.value)):t!==null&&Ji(this.value)===Ji(t)&&this.matchesComparison(ro(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zn extends Uy{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new zn(e,t)}matches(e){return jy(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function jy(i){return i.op==="and"}function zy(i){return lI(i)&&jy(i)}function lI(i){for(const e of i.filters)if(e instanceof zn)return!1;return!0}function Xh(i){if(i instanceof ft)return i.field.canonicalString()+i.op.toString()+io(i.value);if(zy(i))return i.filters.map((e=>Xh(e))).join(",");{const e=i.filters.map((t=>Xh(t))).join(",");return`${i.op}(${e})`}}function By(i,e){return i instanceof ft?(function(s,o){return o instanceof ft&&s.op===o.op&&s.field.isEqual(o.field)&&rr(s.value,o.value)})(i,e):i instanceof zn?(function(s,o){return o instanceof zn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,m)=>u&&By(h,o.filters[m])),!0):!1})(i,e):void Se()}function $y(i){return i instanceof ft?(function(t){return`${t.field.canonicalString()} ${t.op} ${io(t.value)}`})(i):i instanceof zn?(function(t){return t.op.toString()+" {"+t.getFilters().map($y).join(" ,")+"}"})(i):"Filter"}class uI extends ft{constructor(e,t,s){super(e,t,s),this.key=pe.fromName(s.referenceValue)}matches(e){const t=pe.comparator(e.key,this.key);return this.matchesComparison(t)}}class cI extends ft{constructor(e,t){super(e,"in",t),this.keys=qy("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class hI extends ft{constructor(e,t){super(e,"not-in",t),this.keys=qy("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function qy(i,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map((s=>pe.fromName(s.referenceValue)))}class dI extends ft{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ad(t)&&Aa(t.arrayValue,this.value)}}class fI extends ft{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Aa(this.value.arrayValue,t)}}class pI extends ft{constructor(e,t){super(e,"not-in",t)}matches(e){if(Aa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Aa(this.value.arrayValue,t)}}class mI extends ft{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ad(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>Aa(this.value.arrayValue,s)))}}class gI{constructor(e,t=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.ue=null}}function Jm(i,e=null,t=[],s=[],o=null,u=null,h=null){return new gI(i,e,t,s,o,u,h)}function Rd(i){const e=Re(i);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>Xh(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),ju(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>io(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>io(s))).join(",")),e.ue=t}return e.ue}function kd(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!aI(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!By(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Xm(i.startAt,e.startAt)&&Xm(i.endAt,e.endAt)}function Jh(i){return pe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class La{constructor(e,t=null,s=[],o=[],u=null,h="F",m=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=y,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function yI(i,e,t,s,o,u,h,m){return new La(i,e,t,s,o,u,h,m)}function Cd(i){return new La(i)}function Zm(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function Hy(i){return i.collectionGroup!==null}function ya(i){const e=Re(i);if(e.ce===null){e.ce=[];const t=new Set;for(const u of e.explicitOrderBy)e.ce.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Vt(Dt.comparator);return h.filters.forEach((y=>{y.getFlattenedFilters().forEach((v=>{v.isInequality()&&(m=m.add(v.field))}))})),m})(e).forEach((u=>{t.has(u.canonicalString())||u.isKeyField()||e.ce.push(new ku(u,s))})),t.has(Dt.keyField().canonicalString())||e.ce.push(new ku(Dt.keyField(),s))}return e.ce}function tr(i){const e=Re(i);return e.le||(e.le=_I(e,ya(i))),e.le}function _I(i,e){if(i.limitType==="F")return Jm(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new ku(o.field,u)}));const t=i.endAt?new Ru(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Ru(i.startAt.position,i.startAt.inclusive):null;return Jm(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function Zh(i,e){const t=i.filters.concat([e]);return new La(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function ed(i,e,t){return new La(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function zu(i,e){return kd(tr(i),tr(e))&&i.limitType===e.limitType}function Wy(i){return`${Rd(tr(i))}|lt:${i.limitType}`}function Hs(i){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((o=>$y(o))).join(", ")}]`),ju(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((o=>io(o))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((o=>io(o))).join(",")),`Target(${s})`})(tr(i))}; limitType=${i.limitType})`}function Bu(i,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):pe.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,e)&&(function(s,o){for(const u of ya(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(h,m,y){const v=Ym(h,m,y);return h.inclusive?v<=0:v<0})(s.startAt,ya(s),o)||s.endAt&&!(function(h,m,y){const v=Ym(h,m,y);return h.inclusive?v>=0:v>0})(s.endAt,ya(s),o))})(i,e)}function vI(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Ky(i){return(e,t)=>{let s=!1;for(const o of ya(i)){const u=wI(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function wI(i,e,t){const s=i.field.isKeyField()?pe.comparator(e.key,t.key):(function(u,h,m){const y=h.data.field(u),v=m.data.field(u);return y!==null&&v!==null?ro(y,v):Se()})(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Se()}}class fo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ho(this.inner,((t,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return My(this.inner)}size(){return this.innerSize}}const EI=new nt(pe.comparator);function Nr(){return EI}const Gy=new nt(pe.comparator);function da(...i){let e=Gy;for(const t of i)e=e.insert(t.key,t);return e}function Qy(i){let e=Gy;return i.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function Hi(){return _a()}function Yy(){return _a()}function _a(){return new fo((i=>i.toString()),((i,e)=>i.isEqual(e)))}const TI=new nt(pe.comparator),II=new Vt(pe.comparator);function De(...i){let e=II;for(const t of i)e=e.add(t);return e}const SI=new Vt(Ue);function AI(){return SI}function Pd(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Au(e)?"-0":e}}function Xy(i){return{integerValue:""+i}}function RI(i,e){return nI(e)?Xy(e):Pd(i,e)}class $u{constructor(){this._=void 0}}function kI(i,e,t){return i instanceof Cu?(function(o,u){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Id(u)&&(u=Sd(u)),u&&(h.fields.__previous_value__=u),{mapValue:h}})(t,e):i instanceof Ra?Zy(i,e):i instanceof ka?e_(i,e):(function(o,u){const h=Jy(o,u),m=eg(h)+eg(o.Pe);return Yh(h)&&Yh(o.Pe)?Xy(m):Pd(o.serializer,m)})(i,e)}function CI(i,e,t){return i instanceof Ra?Zy(i,e):i instanceof ka?e_(i,e):t}function Jy(i,e){return i instanceof Pu?(function(s){return Yh(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Cu extends $u{}class Ra extends $u{constructor(e){super(),this.elements=e}}function Zy(i,e){const t=t_(e);for(const s of i.elements)t.some((o=>rr(o,s)))||t.push(s);return{arrayValue:{values:t}}}class ka extends $u{constructor(e){super(),this.elements=e}}function e_(i,e){let t=t_(e);for(const s of i.elements)t=t.filter((o=>!rr(o,s)));return{arrayValue:{values:t}}}class Pu extends $u{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function eg(i){return ot(i.integerValue||i.doubleValue)}function t_(i){return Ad(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function PI(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof Ra&&o instanceof Ra||s instanceof ka&&o instanceof ka?no(s.elements,o.elements,rr):s instanceof Pu&&o instanceof Pu?rr(s.Pe,o.Pe):s instanceof Cu&&o instanceof Cu})(i.transform,e.transform)}class NI{constructor(e,t){this.version=e,this.transformResults=t}}class Ar{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ar}static exists(e){return new Ar(void 0,e)}static updateTime(e){return new Ar(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function pu(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class qu{}function n_(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new i_(i.key,Ar.none()):new Ma(i.key,i.data,Ar.none());{const t=i.data,s=Sn.empty();let o=new Vt(Dt.comparator);for(let u of e.fields)if(!o.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new Zi(i.key,s,new jn(o.toArray()),Ar.none())}}function xI(i,e,t){i instanceof Ma?(function(o,u,h){const m=o.value.clone(),y=ng(o.fieldTransforms,u,h.transformResults);m.setAll(y),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(i,e,t):i instanceof Zi?(function(o,u,h){if(!pu(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=ng(o.fieldTransforms,u,h.transformResults),y=u.data;y.setAll(r_(o)),y.setAll(m),u.convertToFoundDocument(h.version,y).setHasCommittedMutations()})(i,e,t):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,t)}function va(i,e,t,s){return i instanceof Ma?(function(u,h,m,y){if(!pu(u.precondition,h))return m;const v=u.value.clone(),E=rg(u.fieldTransforms,y,h);return v.setAll(E),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),null})(i,e,t,s):i instanceof Zi?(function(u,h,m,y){if(!pu(u.precondition,h))return m;const v=rg(u.fieldTransforms,y,h),E=h.data;return E.setAll(r_(u)),E.setAll(v),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((k=>k.field)))})(i,e,t,s):(function(u,h,m){return pu(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(i,e,t)}function DI(i,e){let t=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=Jy(s.transform,o||null);u!=null&&(t===null&&(t=Sn.empty()),t.set(s.field,u))}return t||null}function tg(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&no(s,o,((u,h)=>PI(u,h)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Ma extends qu{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Zi extends qu{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function r_(i){const e=new Map;return i.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}})),e}function ng(i,e,t){const s=new Map;Be(i.length===t.length);for(let o=0;o<t.length;o++){const u=i[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,CI(h,m,t[o]))}return s}function rg(i,e,t){const s=new Map;for(const o of i){const u=o.transform,h=t.data.field(o.field);s.set(o.field,kI(u,h,e))}return s}class i_ extends qu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VI extends qu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class OI{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&xI(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=va(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=va(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Yy();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=t.has(o.key)?null:m;const y=n_(h,m);y!==null&&s.set(o.key,y),h.isValidDocument()||h.convertToNoDocument(Ae.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),De())}isEqual(e){return this.batchId===e.batchId&&no(this.mutations,e.mutations,((t,s)=>tg(t,s)))&&no(this.baseMutations,e.baseMutations,((t,s)=>tg(t,s)))}}class Nd{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Be(e.mutations.length===s.length);let o=(function(){return TI})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new Nd(e,t,s,o)}}class LI{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class MI{constructor(e,t){this.count=e,this.unchangedNames=t}}var ht,Me;function bI(i){switch(i){default:return Se();case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0}}function s_(i){if(i===void 0)return Pr("GRPC error has no .code"),H.UNKNOWN;switch(i){case ht.OK:return H.OK;case ht.CANCELLED:return H.CANCELLED;case ht.UNKNOWN:return H.UNKNOWN;case ht.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case ht.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case ht.INTERNAL:return H.INTERNAL;case ht.UNAVAILABLE:return H.UNAVAILABLE;case ht.UNAUTHENTICATED:return H.UNAUTHENTICATED;case ht.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case ht.NOT_FOUND:return H.NOT_FOUND;case ht.ALREADY_EXISTS:return H.ALREADY_EXISTS;case ht.PERMISSION_DENIED:return H.PERMISSION_DENIED;case ht.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case ht.ABORTED:return H.ABORTED;case ht.OUT_OF_RANGE:return H.OUT_OF_RANGE;case ht.UNIMPLEMENTED:return H.UNIMPLEMENTED;case ht.DATA_LOSS:return H.DATA_LOSS;default:return Se()}}(Me=ht||(ht={}))[Me.OK=0]="OK",Me[Me.CANCELLED=1]="CANCELLED",Me[Me.UNKNOWN=2]="UNKNOWN",Me[Me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Me[Me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Me[Me.NOT_FOUND=5]="NOT_FOUND",Me[Me.ALREADY_EXISTS=6]="ALREADY_EXISTS",Me[Me.PERMISSION_DENIED=7]="PERMISSION_DENIED",Me[Me.UNAUTHENTICATED=16]="UNAUTHENTICATED",Me[Me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Me[Me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Me[Me.ABORTED=10]="ABORTED",Me[Me.OUT_OF_RANGE=11]="OUT_OF_RANGE",Me[Me.UNIMPLEMENTED=12]="UNIMPLEMENTED",Me[Me.INTERNAL=13]="INTERNAL",Me[Me.UNAVAILABLE=14]="UNAVAILABLE",Me[Me.DATA_LOSS=15]="DATA_LOSS";function FI(){return new TextEncoder}const UI=new Wi([4294967295,4294967295],0);function ig(i){const e=FI().encode(i),t=new Cy;return t.update(e),new Uint8Array(t.digest())}function sg(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Wi([t,s],0),new Wi([o,u],0)]}class xd{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new fa(`Invalid padding: ${t}`);if(s<0)throw new fa(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new fa(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new fa(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Wi.fromNumber(this.Ie)}Ee(e,t,s){let o=e.add(t.multiply(Wi.fromNumber(s)));return o.compare(UI)===1&&(o=new Wi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const t=ig(e),[s,o]=sg(t);for(let u=0;u<this.hashCount;u++){const h=this.Ee(s,o,u);if(!this.de(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new xd(u,o,t);return s.forEach((m=>h.insert(m))),h}insert(e){if(this.Ie===0)return;const t=ig(e),[s,o]=sg(t);for(let u=0;u<this.hashCount;u++){const h=this.Ee(s,o,u);this.Ae(h)}}Ae(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class fa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Hu{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,ba.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Hu(Ae.min(),o,new nt(Ue),Nr(),De())}}class ba{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new ba(s,t,De(),De(),De())}}class mu{constructor(e,t,s,o){this.Re=e,this.removedTargetIds=t,this.key=s,this.Ve=o}}class o_{constructor(e,t){this.targetId=e,this.me=t}}class a_{constructor(e,t,s=Ot.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class og{constructor(){this.fe=0,this.ge=lg(),this.pe=Ot.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=De(),t=De(),s=De();return this.ge.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Se()}})),new ba(this.pe,this.ye,e,t,s)}Ce(){this.we=!1,this.ge=lg()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Be(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class jI{constructor(e){this.Le=e,this.Be=new Map,this.ke=Nr(),this.qe=ag(),this.Qe=new nt(Ue)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const s=this.Ge(t);switch(e.state){case 0:this.ze(t)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),s.De(e.resumeToken));break;default:Se()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((s,o)=>{this.ze(o)&&t(o)}))}He(e){const t=e.targetId,s=e.me.count,o=this.Je(t);if(o){const u=o.target;if(Jh(u))if(s===0){const h=new pe(u.path);this.Ue(t,h,zt.newNoDocument(h,Ae.min()))}else Be(s===1);else{const h=this.Ye(t);if(h!==s){const m=this.Ze(e),y=m?this.Xe(m,e,h):1;if(y!==0){this.je(t);const v=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,v)}}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let h,m;try{h=Xi(s).toUint8Array()}catch(y){if(y instanceof by)return to("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new xd(h,o,u)}catch(y){return to(y instanceof fa?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.Ie===0?null:m}Xe(e,t,s){return t.me.count===s-this.nt(e,t.targetId)?0:2}nt(e,t){const s=this.Le.getRemoteKeysForTarget(t);let o=0;return s.forEach((u=>{const h=this.Le.tt(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.Ue(t,u,null),o++)})),o}rt(e){const t=new Map;this.Be.forEach(((u,h)=>{const m=this.Je(h);if(m){if(u.current&&Jh(m.target)){const y=new pe(m.target.path);this.ke.get(y)!==null||this.it(h,y)||this.Ue(h,y,zt.newNoDocument(y,e))}u.be&&(t.set(h,u.ve()),u.Ce())}}));let s=De();this.qe.forEach(((u,h)=>{let m=!0;h.forEachWhile((y=>{const v=this.Je(y);return!v||v.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.ke.forEach(((u,h)=>h.setReadTime(e)));const o=new Hu(e,t,this.Qe,this.ke,s);return this.ke=Nr(),this.qe=ag(),this.Qe=new nt(Ue),o}$e(e,t){if(!this.ze(e))return;const s=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,s),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,s){if(!this.ze(e))return;const o=this.Ge(e);this.it(e,t)?o.Fe(t,1):o.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),s&&(this.ke=this.ke.insert(t,s))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new og,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Vt(Ue),this.qe=this.qe.insert(e,t)),t}ze(e){const t=this.Je(e)!==null;return t||ue("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new og),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function ag(){return new nt(pe.comparator)}function lg(){return new nt(pe.comparator)}const zI={asc:"ASCENDING",desc:"DESCENDING"},BI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$I={and:"AND",or:"OR"};class qI{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function td(i,e){return i.useProto3Json||ju(e)?e:{value:e}}function Nu(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function l_(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function HI(i,e){return Nu(i,e.toTimestamp())}function nr(i){return Be(!!i),Ae.fromTimestamp((function(t){const s=mi(t);return new pt(s.seconds,s.nanos)})(i))}function Dd(i,e){return nd(i,e).canonicalString()}function nd(i,e){const t=(function(o){return new Ye(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?t:t.child(e)}function u_(i){const e=Ye.fromString(i);return Be(p_(e)),e}function rd(i,e){return Dd(i.databaseId,e.path)}function Lh(i,e){const t=u_(e);if(t.get(1)!==i.databaseId.projectId)throw new ce(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new ce(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new pe(h_(t))}function c_(i,e){return Dd(i.databaseId,e)}function WI(i){const e=u_(i);return e.length===4?Ye.emptyPath():h_(e)}function id(i){return new Ye(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function h_(i){return Be(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function ug(i,e,t){return{name:rd(i,e),fields:t.value.mapValue.fields}}function KI(i,e){let t;if("targetChange"in e){e.targetChange;const s=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Se()})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(v,E){return v.useProto3Json?(Be(E===void 0||typeof E=="string"),Ot.fromBase64String(E||"")):(Be(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Ot.fromUint8Array(E||new Uint8Array))})(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(v){const E=v.code===void 0?H.UNKNOWN:s_(v.code);return new ce(E,v.message||"")})(h);t=new a_(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Lh(i,s.document.name),u=nr(s.document.updateTime),h=s.document.createTime?nr(s.document.createTime):Ae.min(),m=new Sn({mapValue:{fields:s.document.fields}}),y=zt.newFoundDocument(o,u,h,m),v=s.targetIds||[],E=s.removedTargetIds||[];t=new mu(v,E,y.key,y)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Lh(i,s.document),u=s.readTime?nr(s.readTime):Ae.min(),h=zt.newNoDocument(o,u),m=s.removedTargetIds||[];t=new mu([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Lh(i,s.document),u=s.removedTargetIds||[];t=new mu([],u,o,null)}else{if(!("filter"in e))return Se();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new MI(o,u),m=s.targetId;t=new o_(m,h)}}return t}function GI(i,e){let t;if(e instanceof Ma)t={update:ug(i,e.key,e.value)};else if(e instanceof i_)t={delete:rd(i,e.key)};else if(e instanceof Zi)t={update:ug(i,e.key,e.data),updateMask:rS(e.fieldMask)};else{if(!(e instanceof VI))return Se();t={verify:rd(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const m=h.transform;if(m instanceof Cu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Ra)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ka)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Pu)return{fieldPath:h.field.canonicalString(),increment:m.Pe};throw Se()})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:HI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Se()})(i,e.precondition)),t}function QI(i,e){return i&&i.length>0?(Be(e!==void 0),i.map((t=>(function(o,u){let h=o.updateTime?nr(o.updateTime):nr(u);return h.isEqual(Ae.min())&&(h=nr(u)),new NI(h,o.transformResults||[])})(t,e)))):[]}function YI(i,e){return{documents:[c_(i,e.path)]}}function XI(i,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=c_(i,o);const u=(function(v){if(v.length!==0)return f_(zn.create(v,"and"))})(e.filters);u&&(t.structuredQuery.where=u);const h=(function(v){if(v.length!==0)return v.map((E=>(function(M){return{field:Ws(M.field),direction:eS(M.dir)}})(E)))})(e.orderBy);h&&(t.structuredQuery.orderBy=h);const m=td(i,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{_t:t,parent:o}}function JI(i){let e=WI(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Be(s===1);const E=t.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];t.where&&(u=(function(k){const M=d_(k);return M instanceof zn&&zy(M)?M.getFilters():[M]})(t.where));let h=[];t.orderBy&&(h=(function(k){return k.map((M=>(function(Y){return new ku(Ks(Y.field),(function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Y.direction))})(M)))})(t.orderBy));let m=null;t.limit&&(m=(function(k){let M;return M=typeof k=="object"?k.value:k,ju(M)?null:M})(t.limit));let y=null;t.startAt&&(y=(function(k){const M=!!k.before,z=k.values||[];return new Ru(z,M)})(t.startAt));let v=null;return t.endAt&&(v=(function(k){const M=!k.before,z=k.values||[];return new Ru(z,M)})(t.endAt)),yI(e,o,h,u,m,"F",y,v)}function ZI(i,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se()}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function d_(i){return i.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Ks(t.unaryFilter.field);return ft.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ks(t.unaryFilter.field);return ft.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ks(t.unaryFilter.field);return ft.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Ks(t.unaryFilter.field);return ft.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Se()}})(i):i.fieldFilter!==void 0?(function(t){return ft.create(Ks(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Se()}})(t.fieldFilter.op),t.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(t){return zn.create(t.compositeFilter.filters.map((s=>d_(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se()}})(t.compositeFilter.op))})(i):Se()}function eS(i){return zI[i]}function tS(i){return BI[i]}function nS(i){return $I[i]}function Ws(i){return{fieldPath:i.canonicalString()}}function Ks(i){return Dt.fromServerFormat(i.fieldPath)}function f_(i){return i instanceof ft?(function(t){if(t.op==="=="){if(Qm(t.value))return{unaryFilter:{field:Ws(t.field),op:"IS_NAN"}};if(Gm(t.value))return{unaryFilter:{field:Ws(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Qm(t.value))return{unaryFilter:{field:Ws(t.field),op:"IS_NOT_NAN"}};if(Gm(t.value))return{unaryFilter:{field:Ws(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ws(t.field),op:tS(t.op),value:t.value}}})(i):i instanceof zn?(function(t){const s=t.getFilters().map((o=>f_(o)));return s.length===1?s[0]:{compositeFilter:{op:nS(t.op),filters:s}}})(i):Se()}function rS(i){const e=[];return i.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function p_(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class ai{constructor(e,t,s,o,u=Ae.min(),h=Ae.min(),m=Ot.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(e){return new ai(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ai(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ai(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ai(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class iS{constructor(e){this.ct=e}}function sS(i){const e=JI({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?ed(e,e.limit,"L"):e}class oS{constructor(){this.un=new aS}addToCollectionParentIndex(e,t){return this.un.add(t),G.resolve()}getCollectionParents(e,t){return G.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return G.resolve()}deleteFieldIndex(e,t){return G.resolve()}deleteAllFieldIndexes(e){return G.resolve()}createTargetIndexes(e,t){return G.resolve()}getDocumentsMatchingTarget(e,t){return G.resolve(null)}getIndexType(e,t){return G.resolve(0)}getFieldIndexes(e,t){return G.resolve([])}getNextCollectionGroupToUpdate(e){return G.resolve(null)}getMinOffset(e,t){return G.resolve(pi.min())}getMinOffsetFromCollectionGroup(e,t){return G.resolve(pi.min())}updateCollectionGroup(e,t,s){return G.resolve()}updateIndexEntries(e,t){return G.resolve()}}class aS{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Vt(Ye.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Vt(Ye.comparator)).toArray()}}class so{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new so(0)}static kn(){return new so(-1)}}class lS{constructor(){this.changes=new fo((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,zt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?G.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class uS{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class cS{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(s!==null&&va(s.mutation,o,jn.empty(),pt.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,De()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=De()){const o=Hi();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,s).next((u=>{let h=da();return u.forEach(((m,y)=>{h=h.insert(m,y.overlayedDocument)})),h}))))}getOverlayedDocuments(e,t){const s=Hi();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,De())))}populateOverlays(e,t,s){const o=[];return s.forEach((u=>{t.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,m)=>{t.set(h,m)}))}))}computeViews(e,t,s,o){let u=Nr();const h=_a(),m=(function(){return _a()})();return t.forEach(((y,v)=>{const E=s.get(v.key);o.has(v.key)&&(E===void 0||E.mutation instanceof Zi)?u=u.insert(v.key,v):E!==void 0?(h.set(v.key,E.mutation.getFieldMask()),va(E.mutation,v,E.mutation.getFieldMask(),pt.now())):h.set(v.key,jn.empty())})),this.recalculateAndSaveOverlays(e,u).next((y=>(y.forEach(((v,E)=>h.set(v,E))),t.forEach(((v,E)=>{var k;return m.set(v,new uS(E,(k=h.get(v))!==null&&k!==void 0?k:null))})),m)))}recalculateAndSaveOverlays(e,t){const s=_a();let o=new nt(((h,m)=>h-m)),u=De();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((h=>{for(const m of h)m.keys().forEach((y=>{const v=t.get(y);if(v===null)return;let E=s.get(y)||jn.empty();E=m.applyToLocalView(v,E),s.set(y,E);const k=(o.get(m.batchId)||De()).add(y);o=o.insert(m.batchId,k)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),v=y.key,E=y.value,k=Yy();E.forEach((M=>{if(!u.has(M)){const z=n_(t.get(M),s.get(M));z!==null&&k.set(M,z),u=u.add(M)}})),h.push(this.documentOverlayCache.saveOverlays(e,v,k))}return G.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,o){return(function(h){return pe.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Hy(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):G.resolve(Hi());let m=-1,y=u;return h.next((v=>G.forEach(v,((E,k)=>(m<k.largestBatchId&&(m=k.largestBatchId),u.get(E)?G.resolve():this.remoteDocumentCache.getEntry(e,E).next((M=>{y=y.insert(E,M)}))))).next((()=>this.populateOverlays(e,v,u))).next((()=>this.computeViews(e,y,v,De()))).next((E=>({batchId:m,changes:Qy(E)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new pe(t)).next((s=>{let o=da();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let h=da();return this.indexManager.getCollectionParents(e,u).next((m=>G.forEach(m,(y=>{const v=(function(k,M){return new La(M,null,k.explicitOrderBy.slice(),k.filters.slice(),k.limit,k.limitType,k.startAt,k.endAt)})(t,y.child(u));return this.getDocumentsMatchingCollectionQuery(e,v,s,o).next((E=>{E.forEach(((k,M)=>{h=h.insert(k,M)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o)))).next((h=>{u.forEach(((y,v)=>{const E=v.getKey();h.get(E)===null&&(h=h.insert(E,zt.newInvalidDocument(E)))}));let m=da();return h.forEach(((y,v)=>{const E=u.get(y);E!==void 0&&va(E.mutation,v,jn.empty(),pt.now()),Bu(t,v)&&(m=m.insert(y,v))})),m}))}}class hS{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return G.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:nr(o.createTime)}})(t)),G.resolve()}getNamedQuery(e,t){return G.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,(function(o){return{name:o.name,query:sS(o.bundledQuery),readTime:nr(o.readTime)}})(t)),G.resolve()}}class dS{constructor(){this.overlays=new nt(pe.comparator),this.Ir=new Map}getOverlay(e,t){return G.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Hi();return G.forEach(t,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((o,u)=>{this.ht(e,t,u)})),G.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Ir.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Ir.delete(s)),G.resolve()}getOverlaysForCollection(e,t,s){const o=Hi(),u=t.length+1,h=new pe(t.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const y=m.getNext().value,v=y.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===u&&y.largestBatchId>s&&o.set(y.getKey(),y)}return G.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new nt(((v,E)=>v-E));const h=this.overlays.getIterator();for(;h.hasNext();){const v=h.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>s){let E=u.get(v.largestBatchId);E===null&&(E=Hi(),u=u.insert(v.largestBatchId,E)),E.set(v.getKey(),v)}}const m=Hi(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((v,E)=>m.set(v,E))),!(m.size()>=o)););return G.resolve(m)}ht(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Ir.get(o.largestBatchId).delete(s.key);this.Ir.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new LI(t,s));let u=this.Ir.get(t);u===void 0&&(u=De(),this.Ir.set(t,u)),this.Ir.set(t,u.add(s.key))}}class fS{constructor(){this.sessionToken=Ot.EMPTY_BYTE_STRING}getSessionToken(e){return G.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,G.resolve()}}class Vd{constructor(){this.Tr=new Vt(St.Er),this.dr=new Vt(St.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const s=new St(e,t);this.Tr=this.Tr.add(s),this.dr=this.dr.add(s)}Rr(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Vr(new St(e,t))}mr(e,t){e.forEach((s=>this.removeReference(s,t)))}gr(e){const t=new pe(new Ye([])),s=new St(t,e),o=new St(t,e+1),u=[];return this.dr.forEachInRange([s,o],(h=>{this.Vr(h),u.push(h.key)})),u}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new pe(new Ye([])),s=new St(t,e),o=new St(t,e+1);let u=De();return this.dr.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const t=new St(e,0),s=this.Tr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class St{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return pe.comparator(e.key,t.key)||Ue(e.wr,t.wr)}static Ar(e,t){return Ue(e.wr,t.wr)||pe.comparator(e.key,t.key)}}class pS{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Vt(St.Er)}checkEmpty(e){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new OI(u,t,s,o);this.mutationQueue.push(h);for(const m of o)this.br=this.br.add(new St(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return G.resolve(h)}lookupMutationBatch(e,t){return G.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.vr(s),u=o<0?0:o;return G.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new St(t,0),o=new St(t,Number.POSITIVE_INFINITY),u=[];return this.br.forEachInRange([s,o],(h=>{const m=this.Dr(h.wr);u.push(m)})),G.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Vt(Ue);return t.forEach((o=>{const u=new St(o,0),h=new St(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([u,h],(m=>{s=s.add(m.wr)}))})),G.resolve(this.Cr(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;pe.isDocumentKey(u)||(u=u.child(""));const h=new St(new pe(u),0);let m=new Vt(Ue);return this.br.forEachWhile((y=>{const v=y.key.path;return!!s.isPrefixOf(v)&&(v.length===o&&(m=m.add(y.wr)),!0)}),h),G.resolve(this.Cr(m))}Cr(e){const t=[];return e.forEach((s=>{const o=this.Dr(s);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){Be(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.br;return G.forEach(t.mutations,(o=>{const u=new St(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.br=s}))}On(e){}containsKey(e,t){const s=new St(t,0),o=this.br.firstAfterOrEqual(s);return G.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,G.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class mS{constructor(e){this.Mr=e,this.docs=(function(){return new nt(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,h=this.Mr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return G.resolve(s?s.document.mutableCopy():zt.newInvalidDocument(t))}getEntries(e,t){let s=Nr();return t.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():zt.newInvalidDocument(o))})),G.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=Nr();const h=t.path,m=new pe(h.child("")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:v,value:{document:E}}=y.getNext();if(!h.isPrefixOf(v.path))break;v.path.length>h.length+1||JT(XT(E),s)<=0||(o.has(E.key)||Bu(t,E))&&(u=u.insert(E.key,E.mutableCopy()))}return G.resolve(u)}getAllFromCollectionGroup(e,t,s,o){Se()}Or(e,t){return G.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new gS(this)}getSize(e){return G.resolve(this.size)}}class gS extends lS{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?t.push(this.cr.addEntry(e,o)):this.cr.removeEntry(s)})),G.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class yS{constructor(e){this.persistence=e,this.Nr=new fo((t=>Rd(t)),kd),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Vd,this.targetCount=0,this.kr=so.Bn()}forEachTarget(e,t){return this.Nr.forEach(((s,o)=>t(o))),G.resolve()}getLastRemoteSnapshotVersion(e){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return G.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.Lr&&(this.Lr=t),G.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new so(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,G.resolve()}updateTargetData(e,t){return this.Kn(t),G.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,G.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.Nr.forEach(((h,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.Nr.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),G.waitFor(u).next((()=>o))}getTargetCount(e){return G.resolve(this.targetCount)}getTargetData(e,t){const s=this.Nr.get(t)||null;return G.resolve(s)}addMatchingKeys(e,t,s){return this.Br.Rr(t,s),G.resolve()}removeMatchingKeys(e,t,s){this.Br.mr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),G.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),G.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Br.yr(t);return G.resolve(s)}containsKey(e,t){return G.resolve(this.Br.containsKey(t))}}class _S{constructor(e,t){this.qr={},this.overlays={},this.Qr=new Td(0),this.Kr=!1,this.Kr=!0,this.$r=new fS,this.referenceDelegate=e(this),this.Ur=new yS(this),this.indexManager=new oS,this.remoteDocumentCache=(function(o){return new mS(o)})((s=>this.referenceDelegate.Wr(s))),this.serializer=new iS(t),this.Gr=new hS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new dS,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.qr[e.toKey()];return s||(s=new pS(t,this.referenceDelegate),this.qr[e.toKey()]=s),s}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,s){ue("MemoryPersistence","Starting transaction:",e);const o=new vS(this.Qr.next());return this.referenceDelegate.zr(),s(o).next((u=>this.referenceDelegate.jr(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Hr(e,t){return G.or(Object.values(this.qr).map((s=>()=>s.containsKey(e,t))))}}class vS extends eI{constructor(e){super(),this.currentSequenceNumber=e}}class Od{constructor(e){this.persistence=e,this.Jr=new Vd,this.Yr=null}static Zr(e){return new Od(e)}get Xr(){if(this.Yr)return this.Yr;throw Se()}addReference(e,t,s){return this.Jr.addReference(s,t),this.Xr.delete(s.toString()),G.resolve()}removeReference(e,t,s){return this.Jr.removeReference(s,t),this.Xr.add(s.toString()),G.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),G.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach((o=>this.Xr.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((u=>this.Xr.add(u.toString())))})).next((()=>s.removeTargetData(e,t)))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.Xr,(s=>{const o=pe.fromPath(s);return this.ei(e,o).next((u=>{u||t.removeEntry(o,Ae.min())}))})).next((()=>(this.Yr=null,t.apply(e))))}updateLimboDocument(e,t){return this.ei(e,t).next((s=>{s?this.Xr.delete(t.toString()):this.Xr.add(t.toString())}))}Wr(e){return 0}ei(e,t){return G.or([()=>G.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class Ld{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.$i=s,this.Ui=o}static Wi(e,t){let s=De(),o=De();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Ld(e,t.fromCache,s,o)}}class wS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class ES{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return I0()?8:tI(Bt())>0?6:4})()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.Yi(e,t).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.Zi(e,t,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new wS;return this.Xi(e,t,h).next((m=>{if(u.result=m,this.zi)return this.es(e,t,h,m.size)}))})).next((()=>u.result))}es(e,t,s,o){return s.documentReadCount<this.ji?(ca()<=Oe.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",Hs(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),G.resolve()):(ca()<=Oe.DEBUG&&ue("QueryEngine","Query:",Hs(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.Hi*o?(ca()<=Oe.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",Hs(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,tr(t))):G.resolve())}Yi(e,t){if(Zm(t))return G.resolve(null);let s=tr(t);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=ed(t,null,"F"),s=tr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=De(...u);return this.Ji.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,s).next((y=>{const v=this.ts(t,m);return this.ns(t,v,h,y.readTime)?this.Yi(e,ed(t,null,"F")):this.rs(e,v,t,y)}))))})))))}Zi(e,t,s,o){return Zm(t)||o.isEqual(Ae.min())?G.resolve(null):this.Ji.getDocuments(e,s).next((u=>{const h=this.ts(t,u);return this.ns(t,h,s,o)?G.resolve(null):(ca()<=Oe.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Hs(t)),this.rs(e,h,t,YT(o,-1)).next((m=>m)))}))}ts(e,t){let s=new Vt(Ky(e));return t.forEach(((o,u)=>{Bu(e,u)&&(s=s.add(u))})),s}ns(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Xi(e,t,s){return ca()<=Oe.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Hs(t)),this.Ji.getDocumentsMatchingQuery(e,t,pi.min(),s)}rs(e,t,s,o){return this.Ji.getDocumentsMatchingQuery(e,s,o).next((u=>(t.forEach((h=>{u=u.insert(h.key,h)})),u)))}}class TS{constructor(e,t,s,o){this.persistence=e,this.ss=t,this.serializer=o,this.os=new nt(Ue),this._s=new fo((u=>Rd(u)),kd),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(s)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cS(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.os)))}}function IS(i,e,t,s){return new TS(i,e,t,s)}async function m_(i,e){const t=Re(i);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,t.ls(e),t.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],m=[];let y=De();for(const v of o){h.push(v.batchId);for(const E of v.mutations)y=y.add(E.key)}for(const v of u){m.push(v.batchId);for(const E of v.mutations)y=y.add(E.key)}return t.localDocuments.getDocuments(s,y).next((v=>({hs:v,removedBatchIds:h,addedBatchIds:m})))}))}))}function SS(i,e){const t=Re(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=t.cs.newChangeBuffer({trackRemovals:!0});return(function(m,y,v,E){const k=v.batch,M=k.keys();let z=G.resolve();return M.forEach((Y=>{z=z.next((()=>E.getEntry(y,Y))).next((J=>{const q=v.docVersions.get(Y);Be(q!==null),J.version.compareTo(q)<0&&(k.applyToRemoteDocument(J,v),J.isValidDocument()&&(J.setReadTime(v.commitVersion),E.addEntry(J)))}))})),z.next((()=>m.mutationQueue.removeMutationBatch(y,k)))})(t,s,e,u).next((()=>u.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let y=De();for(let v=0;v<m.mutationResults.length;++v)m.mutationResults[v].transformResults.length>0&&(y=y.add(m.batch.mutations[v].key));return y})(e)))).next((()=>t.localDocuments.getDocuments(s,o)))}))}function g_(i){const e=Re(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Ur.getLastRemoteSnapshotVersion(t)))}function AS(i,e){const t=Re(i),s=e.snapshotVersion;let o=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=t.cs.newChangeBuffer({trackRemovals:!0});o=t.os;const m=[];e.targetChanges.forEach(((E,k)=>{const M=o.get(k);if(!M)return;m.push(t.Ur.removeMatchingKeys(u,E.removedDocuments,k).next((()=>t.Ur.addMatchingKeys(u,E.addedDocuments,k))));let z=M.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(k)!==null?z=z.withResumeToken(Ot.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):E.resumeToken.approximateByteSize()>0&&(z=z.withResumeToken(E.resumeToken,s)),o=o.insert(k,z),(function(J,q,Ee){return J.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=3e8?!0:Ee.addedDocuments.size+Ee.modifiedDocuments.size+Ee.removedDocuments.size>0})(M,z,E)&&m.push(t.Ur.updateTargetData(u,z))}));let y=Nr(),v=De();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(RS(u,h,e.documentUpdates).next((E=>{y=E.Ps,v=E.Is}))),!s.isEqual(Ae.min())){const E=t.Ur.getLastRemoteSnapshotVersion(u).next((k=>t.Ur.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return G.waitFor(m).next((()=>h.apply(u))).next((()=>t.localDocuments.getLocalViewOfDocuments(u,y,v))).next((()=>y))})).then((u=>(t.os=o,u)))}function RS(i,e,t){let s=De(),o=De();return t.forEach((u=>s=s.add(u))),e.getEntries(i,s).next((u=>{let h=Nr();return t.forEach(((m,y)=>{const v=u.get(m);y.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(m)),y.isNoDocument()&&y.version.isEqual(Ae.min())?(e.removeEntry(m,y.readTime),h=h.insert(m,y)):!v.isValidDocument()||y.version.compareTo(v.version)>0||y.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(y),h=h.insert(m,y)):ue("LocalStore","Ignoring outdated watch update for ",m,". Current version:",v.version," Watch version:",y.version)})),{Ps:h,Is:o}}))}function kS(i,e){const t=Re(i);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function CS(i,e){const t=Re(i);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return t.Ur.getTargetData(s,e).next((u=>u?(o=u,G.resolve(o)):t.Ur.allocateTargetId(s).next((h=>(o=new ai(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Ur.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=t.os.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.os=t.os.insert(s.targetId,s),t._s.set(e,s.targetId)),s}))}async function sd(i,e,t){const s=Re(i),o=s.os.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Oa(h))throw h;ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}s.os=s.os.remove(e),s._s.delete(o.target)}function cg(i,e,t){const s=Re(i);let o=Ae.min(),u=De();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(y,v,E){const k=Re(y),M=k._s.get(E);return M!==void 0?G.resolve(k.os.get(M)):k.Ur.getTargetData(v,E)})(s,h,tr(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Ur.getMatchingKeysForTargetId(h,m.targetId).next((y=>{u=y}))})).next((()=>s.ss.getDocumentsMatchingQuery(h,e,t?o:Ae.min(),t?u:De()))).next((m=>(PS(s,vI(e),m),{documents:m,Ts:u})))))}function PS(i,e,t){let s=i.us.get(e)||Ae.min();t.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.us.set(e,s)}class hg{constructor(){this.activeTargetIds=AI()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class NS{constructor(){this.so=new hg,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,s){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new hg,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class xS{_o(e){}shutdown(){}}class dg{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let ou=null;function Mh(){return ou===null?ou=(function(){return 268435456+Math.round(2147483648*Math.random())})():ou++,"0x"+ou.toString(16)}const DS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class VS{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const Ut="WebChannelConnection";class OS extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const s=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Do=s+"://"+t.host,this.vo=`projects/${o}/databases/${u}`,this.Co=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${u}`}get Fo(){return!1}Mo(t,s,o,u,h){const m=Mh(),y=this.xo(t,s.toUriEncodedString());ue("RestConnection",`Sending RPC '${t}' ${m}:`,y,o);const v={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(v,u,h),this.No(t,y,v,o).then((E=>(ue("RestConnection",`Received RPC '${t}' ${m}: `,E),E)),(E=>{throw to("RestConnection",`RPC '${t}' ${m} failed with error: `,E,"url: ",y,"request:",o),E}))}Lo(t,s,o,u,h,m){return this.Mo(t,s,o,u,h)}Oo(t,s,o){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+co})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach(((u,h)=>t[h]=u)),o&&o.headers.forEach(((u,h)=>t[h]=u))}xo(t,s){const o=DS[t];return`${this.Do}/v1/${s}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,s,o){const u=Mh();return new Promise(((h,m)=>{const y=new Py;y.setWithCredentials(!0),y.listenOnce(Ny.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case du.NO_ERROR:const E=y.getResponseJson();ue(Ut,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),h(E);break;case du.TIMEOUT:ue(Ut,`RPC '${e}' ${u} timed out`),m(new ce(H.DEADLINE_EXCEEDED,"Request time out"));break;case du.HTTP_ERROR:const k=y.getStatus();if(ue(Ut,`RPC '${e}' ${u} failed with status:`,k,"response text:",y.getResponseText()),k>0){let M=y.getResponseJson();Array.isArray(M)&&(M=M[0]);const z=M?.error;if(z&&z.status&&z.message){const Y=(function(q){const Ee=q.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(Ee)>=0?Ee:H.UNKNOWN})(z.status);m(new ce(Y,z.message))}else m(new ce(H.UNKNOWN,"Server responded with status "+y.getStatus()))}else m(new ce(H.UNAVAILABLE,"Connection failed."));break;default:Se()}}finally{ue(Ut,`RPC '${e}' ${u} completed.`)}}));const v=JSON.stringify(o);ue(Ut,`RPC '${e}' ${u} sending request:`,o),y.send(t,"POST",v,s,15)}))}Bo(e,t,s){const o=Mh(),u=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Vy(),m=Dy(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(y.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Oo(y.initMessageHeaders,t,s),y.encodeInitMessageHeaders=!0;const E=u.join("");ue(Ut,`Creating RPC '${e}' stream ${o}: ${E}`,y);const k=h.createWebChannel(E,y);let M=!1,z=!1;const Y=new VS({Io:q=>{z?ue(Ut,`Not sending because RPC '${e}' stream ${o} is closed:`,q):(M||(ue(Ut,`Opening RPC '${e}' stream ${o} transport.`),k.open(),M=!0),ue(Ut,`RPC '${e}' stream ${o} sending:`,q),k.send(q))},To:()=>k.close()}),J=(q,Ee,ye)=>{q.listen(Ee,(ve=>{try{ye(ve)}catch(Ce){setTimeout((()=>{throw Ce}),0)}}))};return J(k,ha.EventType.OPEN,(()=>{z||(ue(Ut,`RPC '${e}' stream ${o} transport opened.`),Y.yo())})),J(k,ha.EventType.CLOSE,(()=>{z||(z=!0,ue(Ut,`RPC '${e}' stream ${o} transport closed`),Y.So())})),J(k,ha.EventType.ERROR,(q=>{z||(z=!0,to(Ut,`RPC '${e}' stream ${o} transport errored:`,q),Y.So(new ce(H.UNAVAILABLE,"The operation could not be completed")))})),J(k,ha.EventType.MESSAGE,(q=>{var Ee;if(!z){const ye=q.data[0];Be(!!ye);const ve=ye,Ce=ve.error||((Ee=ve[0])===null||Ee===void 0?void 0:Ee.error);if(Ce){ue(Ut,`RPC '${e}' stream ${o} received error:`,Ce);const qe=Ce.status;let Pe=(function(A){const C=ht[A];if(C!==void 0)return s_(C)})(qe),P=Ce.message;Pe===void 0&&(Pe=H.INTERNAL,P="Unknown error status: "+qe+" with message "+Ce.message),z=!0,Y.So(new ce(Pe,P)),k.close()}else ue(Ut,`RPC '${e}' stream ${o} received:`,ye),Y.bo(ye)}})),J(m,xy.STAT_EVENT,(q=>{q.stat===Gh.PROXY?ue(Ut,`RPC '${e}' stream ${o} detected buffering proxy`):q.stat===Gh.NOPROXY&&ue(Ut,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{Y.wo()}),0),Y}}function bh(){return typeof document<"u"?document:null}function Wu(i){return new qI(i,!0)}class y_{constructor(e,t,s=1e3,o=1.5,u=6e4){this.ui=e,this.timerId=t,this.ko=s,this.qo=o,this.Qo=u,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),s=Math.max(0,Date.now()-this.Uo),o=Math.max(0,t-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class __{constructor(e,t,s,o,u,h,m,y){this.ui=e,this.Ho=s,this.Jo=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new y_(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===H.RESOURCE_EXHAUSTED?(Pr(t.toString()),Pr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.Yo===t&&this.P_(s,o)}),(s=>{e((()=>{const o=new ce(H.UNKNOWN,"Fetching auth token failed: "+s.message);return this.I_(o)}))}))}P_(e,t){const s=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo((()=>{s((()=>this.listener.Eo()))})),this.stream.Ro((()=>{s((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((o=>{s((()=>this.I_(o)))})),this.stream.onMessage((o=>{s((()=>++this.e_==1?this.E_(o):this.onNext(o)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget((()=>this.Yo===e?t():(ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class LS extends __{constructor(e,t,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=KI(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Ae.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Ae.min():h.readTime?nr(h.readTime):Ae.min()})(e);return this.listener.d_(t,s)}A_(e){const t={};t.database=id(this.serializer),t.addTarget=(function(u,h){let m;const y=h.target;if(m=Jh(y)?{documents:YI(u,y)}:{query:XI(u,y)._t},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=l_(u,h.resumeToken);const v=td(u,h.expectedCount);v!==null&&(m.expectedCount=v)}else if(h.snapshotVersion.compareTo(Ae.min())>0){m.readTime=Nu(u,h.snapshotVersion.toTimestamp());const v=td(u,h.expectedCount);v!==null&&(m.expectedCount=v)}return m})(this.serializer,e);const s=ZI(this.serializer,e);s&&(t.labels=s),this.a_(t)}R_(e){const t={};t.database=id(this.serializer),t.removeTarget=e,this.a_(t)}}class MS extends __{constructor(e,t,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Be(!!e.streamToken),this.lastStreamToken=e.streamToken,Be(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Be(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=QI(e.writeResults,e.commitTime),s=nr(e.commitTime);return this.listener.g_(s,t)}p_(){const e={};e.database=id(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>GI(this.serializer,s)))};this.a_(t)}}class bS extends class{}{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new ce(H.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,s,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Mo(e,nd(t,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ce(H.UNKNOWN,u.toString())}))}Lo(e,t,s,o,u){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Lo(e,nd(t,s),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ce(H.UNKNOWN,h.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class FS{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Pr(t),this.D_=!1):ue("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}class US{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=u,this.k_._o((h=>{s.enqueueAndForget((async()=>{es(this)&&(ue("RemoteStore","Restarting streams for network reachability change."),await(async function(y){const v=Re(y);v.L_.add(4),await Fa(v),v.q_.set("Unknown"),v.L_.delete(4),await Ku(v)})(this))}))})),this.q_=new FS(s,o)}}async function Ku(i){if(es(i))for(const e of i.B_)await e(!0)}async function Fa(i){for(const e of i.B_)await e(!1)}function v_(i,e){const t=Re(i);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),Ud(t)?Fd(t):po(t).r_()&&bd(t,e))}function Md(i,e){const t=Re(i),s=po(t);t.N_.delete(e),s.r_()&&w_(t,e),t.N_.size===0&&(s.r_()?s.o_():es(t)&&t.q_.set("Unknown"))}function bd(i,e){if(i.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}po(i).A_(e)}function w_(i,e){i.Q_.xe(e),po(i).R_(e)}function Fd(i){i.Q_=new jI({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>i.N_.get(e)||null,tt:()=>i.datastore.serializer.databaseId}),po(i).start(),i.q_.v_()}function Ud(i){return es(i)&&!po(i).n_()&&i.N_.size>0}function es(i){return Re(i).L_.size===0}function E_(i){i.Q_=void 0}async function jS(i){i.q_.set("Online")}async function zS(i){i.N_.forEach(((e,t)=>{bd(i,e)}))}async function BS(i,e){E_(i),Ud(i)?(i.q_.M_(e),Fd(i)):i.q_.set("Unknown")}async function $S(i,e,t){if(i.q_.set("Online"),e instanceof a_&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.N_.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.N_.delete(m),o.Q_.removeTarget(m))})(i,e)}catch(s){ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await xu(i,s)}else if(e instanceof mu?i.Q_.Ke(e):e instanceof o_?i.Q_.He(e):i.Q_.We(e),!t.isEqual(Ae.min()))try{const s=await g_(i.localStore);t.compareTo(s)>=0&&await(function(u,h){const m=u.Q_.rt(h);return m.targetChanges.forEach(((y,v)=>{if(y.resumeToken.approximateByteSize()>0){const E=u.N_.get(v);E&&u.N_.set(v,E.withResumeToken(y.resumeToken,h))}})),m.targetMismatches.forEach(((y,v)=>{const E=u.N_.get(y);if(!E)return;u.N_.set(y,E.withResumeToken(Ot.EMPTY_BYTE_STRING,E.snapshotVersion)),w_(u,y);const k=new ai(E.target,y,v,E.sequenceNumber);bd(u,k)})),u.remoteSyncer.applyRemoteEvent(m)})(i,t)}catch(s){ue("RemoteStore","Failed to raise snapshot:",s),await xu(i,s)}}async function xu(i,e,t){if(!Oa(e))throw e;i.L_.add(1),await Fa(i),i.q_.set("Offline"),t||(t=()=>g_(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ue("RemoteStore","Retrying IndexedDB access"),await t(),i.L_.delete(1),await Ku(i)}))}function T_(i,e){return e().catch((t=>xu(i,t,e)))}async function Gu(i){const e=Re(i),t=gi(e);let s=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;qS(e);)try{const o=await kS(e.localStore,s);if(o===null){e.O_.length===0&&t.o_();break}s=o.batchId,HS(e,o)}catch(o){await xu(e,o)}I_(e)&&S_(e)}function qS(i){return es(i)&&i.O_.length<10}function HS(i,e){i.O_.push(e);const t=gi(i);t.r_()&&t.V_&&t.m_(e.mutations)}function I_(i){return es(i)&&!gi(i).n_()&&i.O_.length>0}function S_(i){gi(i).start()}async function WS(i){gi(i).p_()}async function KS(i){const e=gi(i);for(const t of i.O_)e.m_(t.mutations)}async function GS(i,e,t){const s=i.O_.shift(),o=Nd.from(s,e,t);await T_(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Gu(i)}async function QS(i,e){e&&gi(i).V_&&await(async function(s,o){if((function(h){return bI(h)&&h!==H.ABORTED})(o.code)){const u=s.O_.shift();gi(s).s_(),await T_(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Gu(s)}})(i,e),I_(i)&&S_(i)}async function fg(i,e){const t=Re(i);t.asyncQueue.verifyOperationInProgress(),ue("RemoteStore","RemoteStore received new credentials");const s=es(t);t.L_.add(3),await Fa(t),s&&t.q_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),await Ku(t)}async function YS(i,e){const t=Re(i);e?(t.L_.delete(2),await Ku(t)):e||(t.L_.add(2),await Fa(t),t.q_.set("Unknown"))}function po(i){return i.K_||(i.K_=(function(t,s,o){const u=Re(t);return u.w_(),new LS(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Eo:jS.bind(null,i),Ro:zS.bind(null,i),mo:BS.bind(null,i),d_:$S.bind(null,i)}),i.B_.push((async e=>{e?(i.K_.s_(),Ud(i)?Fd(i):i.q_.set("Unknown")):(await i.K_.stop(),E_(i))}))),i.K_}function gi(i){return i.U_||(i.U_=(function(t,s,o){const u=Re(t);return u.w_(),new MS(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Eo:()=>Promise.resolve(),Ro:WS.bind(null,i),mo:QS.bind(null,i),f_:KS.bind(null,i),g_:GS.bind(null,i)}),i.B_.push((async e=>{e?(i.U_.s_(),await Gu(i)):(await i.U_.stop(),i.O_.length>0&&(ue("RemoteStore",`Stopping write stream with ${i.O_.length} pending writes`),i.O_=[]))}))),i.U_}class jd{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Ki,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const h=Date.now()+s,m=new jd(e,t,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zd(i,e){if(Pr("AsyncQueue",`${e}: ${i}`),Oa(i))return new ce(H.UNAVAILABLE,`${e}: ${i}`);throw i}class Js{constructor(e){this.comparator=e?(t,s)=>e(t,s)||pe.comparator(t.key,s.key):(t,s)=>pe.comparator(t.key,s.key),this.keyedMap=da(),this.sortedSet=new nt(this.comparator)}static emptySet(e){return new Js(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Js)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Js;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class pg{constructor(){this.W_=new nt(pe.comparator)}track(e){const t=e.doc.key,s=this.W_.get(t);s?e.type!==0&&s.type===3?this.W_=this.W_.insert(t,e):e.type===3&&s.type!==1?this.W_=this.W_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.W_=this.W_.remove(t):e.type===1&&s.type===2?this.W_=this.W_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):Se():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal(((t,s)=>{e.push(s)})),e}}class oo{constructor(e,t,s,o,u,h,m,y,v){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=v}static fromInitialDocuments(e,t,s,o,u){const h=[];return t.forEach((m=>{h.push({type:0,doc:m})})),new oo(e,t,Js.emptySet(t),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}class XS{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class JS{constructor(){this.queries=mg(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,s){const o=Re(t),u=o.queries;o.queries=mg(),u.forEach(((h,m)=>{for(const y of m.j_)y.onError(s)}))})(this,new ce(H.ABORTED,"Firestore shutting down"))}}function mg(){return new fo((i=>Wy(i)),zu)}async function ZS(i,e){const t=Re(i);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.H_()&&e.J_()&&(s=2):(u=new XS,s=e.J_()?0:1);try{switch(s){case 0:u.z_=await t.onListen(o,!0);break;case 1:u.z_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const m=zd(h,`Initialization of query '${Hs(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,u),u.j_.push(e),e.Z_(t.onlineState),u.z_&&e.X_(u.z_)&&Bd(t)}async function eA(i,e){const t=Re(i),s=e.query;let o=3;const u=t.queries.get(s);if(u){const h=u.j_.indexOf(e);h>=0&&(u.j_.splice(h,1),u.j_.length===0?o=e.J_()?0:1:!u.H_()&&e.J_()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function tA(i,e){const t=Re(i);let s=!1;for(const o of e){const u=o.query,h=t.queries.get(u);if(h){for(const m of h.j_)m.X_(o)&&(s=!0);h.z_=o}}s&&Bd(t)}function nA(i,e,t){const s=Re(i),o=s.queries.get(e);if(o)for(const u of o.j_)u.onError(t);s.queries.delete(e)}function Bd(i){i.Y_.forEach((e=>{e.next()}))}var od,gg;(gg=od||(od={})).ea="default",gg.Cache="cache";class rA{constructor(e,t,s){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=s||{}}X_(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new oo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;const s=t!=="Offline";return(!this.options._a||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=oo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==od.Cache}}class A_{constructor(e){this.key=e}}class R_{constructor(e){this.key=e}}class iA{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=De(),this.mutatedKeys=De(),this.Aa=Ky(e),this.Ra=new Js(this.Aa)}get Va(){return this.Ta}ma(e,t){const s=t?t.fa:new pg,o=t?t.Ra:this.Ra;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,m=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,k)=>{const M=o.get(E),z=Bu(this.query,k)?k:null,Y=!!M&&this.mutatedKeys.has(M.key),J=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let q=!1;M&&z?M.data.isEqual(z.data)?Y!==J&&(s.track({type:3,doc:z}),q=!0):this.ga(M,z)||(s.track({type:2,doc:z}),q=!0,(y&&this.Aa(z,y)>0||v&&this.Aa(z,v)<0)&&(m=!0)):!M&&z?(s.track({type:0,doc:z}),q=!0):M&&!z&&(s.track({type:1,doc:M}),q=!0,(y||v)&&(m=!0)),q&&(z?(h=h.add(z),u=J?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{Ra:h,fa:s,ns:m,mutatedKeys:u}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const h=e.fa.G_();h.sort(((E,k)=>(function(z,Y){const J=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se()}};return J(z)-J(Y)})(E.type,k.type)||this.Aa(E.doc,k.doc))),this.pa(s),o=o!=null&&o;const m=t&&!o?this.ya():[],y=this.da.size===0&&this.current&&!o?1:0,v=y!==this.Ea;return this.Ea=y,h.length!==0||v?{snapshot:new oo(this.query,e.Ra,u,h,e.mutatedKeys,y===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),wa:m}:{wa:m}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new pg,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((t=>this.Ta=this.Ta.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ta=this.Ta.delete(t))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=De(),this.Ra.forEach((s=>{this.Sa(s.key)&&(this.da=this.da.add(s.key))}));const t=[];return e.forEach((s=>{this.da.has(s)||t.push(new R_(s))})),this.da.forEach((s=>{e.has(s)||t.push(new A_(s))})),t}ba(e){this.Ta=e.Ts,this.da=De();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return oo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class sA{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class oA{constructor(e){this.key=e,this.va=!1}}class aA{constructor(e,t,s,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Ca={},this.Fa=new fo((m=>Wy(m)),zu),this.Ma=new Map,this.xa=new Set,this.Oa=new nt(pe.comparator),this.Na=new Map,this.La=new Vd,this.Ba={},this.ka=new Map,this.qa=so.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function lA(i,e,t=!0){const s=D_(i);let o;const u=s.Fa.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Da()):o=await k_(s,e,t,!0),o}async function uA(i,e){const t=D_(i);await k_(t,e,!0,!1)}async function k_(i,e,t,s){const o=await CS(i.localStore,tr(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,t);let m;return s&&(m=await cA(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&t&&v_(i.remoteStore,o),m}async function cA(i,e,t,s,o){i.Ka=(k,M,z)=>(async function(J,q,Ee,ye){let ve=q.view.ma(Ee);ve.ns&&(ve=await cg(J.localStore,q.query,!1).then((({documents:P})=>q.view.ma(P,ve))));const Ce=ye&&ye.targetChanges.get(q.targetId),qe=ye&&ye.targetMismatches.get(q.targetId)!=null,Pe=q.view.applyChanges(ve,J.isPrimaryClient,Ce,qe);return _g(J,q.targetId,Pe.wa),Pe.snapshot})(i,k,M,z);const u=await cg(i.localStore,e,!0),h=new iA(e,u.Ts),m=h.ma(u.documents),y=ba.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",o),v=h.applyChanges(m,i.isPrimaryClient,y);_g(i,t,v.wa);const E=new sA(e,t,h);return i.Fa.set(e,E),i.Ma.has(t)?i.Ma.get(t).push(e):i.Ma.set(t,[e]),v.snapshot}async function hA(i,e,t){const s=Re(i),o=s.Fa.get(e),u=s.Ma.get(o.targetId);if(u.length>1)return s.Ma.set(o.targetId,u.filter((h=>!zu(h,e)))),void s.Fa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await sd(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Md(s.remoteStore,o.targetId),ad(s,o.targetId)})).catch(Va)):(ad(s,o.targetId),await sd(s.localStore,o.targetId,!0))}async function dA(i,e){const t=Re(i),s=t.Fa.get(e),o=t.Ma.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Md(t.remoteStore,s.targetId))}async function fA(i,e,t){const s=wA(i);try{const o=await(function(h,m){const y=Re(h),v=pt.now(),E=m.reduce(((z,Y)=>z.add(Y.key)),De());let k,M;return y.persistence.runTransaction("Locally write mutations","readwrite",(z=>{let Y=Nr(),J=De();return y.cs.getEntries(z,E).next((q=>{Y=q,Y.forEach(((Ee,ye)=>{ye.isValidDocument()||(J=J.add(Ee))}))})).next((()=>y.localDocuments.getOverlayedDocuments(z,Y))).next((q=>{k=q;const Ee=[];for(const ye of m){const ve=DI(ye,k.get(ye.key).overlayedDocument);ve!=null&&Ee.push(new Zi(ye.key,ve,Fy(ve.value.mapValue),Ar.exists(!0)))}return y.mutationQueue.addMutationBatch(z,v,Ee,m)})).next((q=>{M=q;const Ee=q.applyToLocalDocumentSet(k,J);return y.documentOverlayCache.saveOverlays(z,q.batchId,Ee)}))})).then((()=>({batchId:M.batchId,changes:Qy(k)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,y){let v=h.Ba[h.currentUser.toKey()];v||(v=new nt(Ue)),v=v.insert(m,y),h.Ba[h.currentUser.toKey()]=v})(s,o.batchId,t),await Ua(s,o.changes),await Gu(s.remoteStore)}catch(o){const u=zd(o,"Failed to persist write");t.reject(u)}}async function C_(i,e){const t=Re(i);try{const s=await AS(t.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=t.Na.get(u);h&&(Be(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.va=!0:o.modifiedDocuments.size>0?Be(h.va):o.removedDocuments.size>0&&(Be(h.va),h.va=!1))})),await Ua(t,s,e)}catch(s){await Va(s)}}function yg(i,e,t){const s=Re(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Fa.forEach(((u,h)=>{const m=h.view.Z_(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const y=Re(h);y.onlineState=m;let v=!1;y.queries.forEach(((E,k)=>{for(const M of k.j_)M.Z_(m)&&(v=!0)})),v&&Bd(y)})(s.eventManager,e),o.length&&s.Ca.d_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function pA(i,e,t){const s=Re(i);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Na.get(e),u=o&&o.key;if(u){let h=new nt(pe.comparator);h=h.insert(u,zt.newNoDocument(u,Ae.min()));const m=De().add(u),y=new Hu(Ae.min(),new Map,new nt(Ue),h,m);await C_(s,y),s.Oa=s.Oa.remove(u),s.Na.delete(e),$d(s)}else await sd(s.localStore,e,!1).then((()=>ad(s,e,t))).catch(Va)}async function mA(i,e){const t=Re(i),s=e.batch.batchId;try{const o=await SS(t.localStore,e);N_(t,s,null),P_(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Ua(t,o)}catch(o){await Va(o)}}async function gA(i,e,t){const s=Re(i);try{const o=await(function(h,m){const y=Re(h);return y.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let E;return y.mutationQueue.lookupMutationBatch(v,m).next((k=>(Be(k!==null),E=k.keys(),y.mutationQueue.removeMutationBatch(v,k)))).next((()=>y.mutationQueue.performConsistencyCheck(v))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(v,E,m))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,E))).next((()=>y.localDocuments.getDocuments(v,E)))}))})(s.localStore,e);N_(s,e,t),P_(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Ua(s,o)}catch(o){await Va(o)}}function P_(i,e){(i.ka.get(e)||[]).forEach((t=>{t.resolve()})),i.ka.delete(e)}function N_(i,e,t){const s=Re(i);let o=s.Ba[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Ba[s.currentUser.toKey()]=o}}function ad(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Ma.get(e))i.Fa.delete(s),t&&i.Ca.$a(s,t);i.Ma.delete(e),i.isPrimaryClient&&i.La.gr(e).forEach((s=>{i.La.containsKey(s)||x_(i,s)}))}function x_(i,e){i.xa.delete(e.path.canonicalString());const t=i.Oa.get(e);t!==null&&(Md(i.remoteStore,t),i.Oa=i.Oa.remove(e),i.Na.delete(t),$d(i))}function _g(i,e,t){for(const s of t)s instanceof A_?(i.La.addReference(s.key,e),yA(i,s)):s instanceof R_?(ue("SyncEngine","Document no longer in limbo: "+s.key),i.La.removeReference(s.key,e),i.La.containsKey(s.key)||x_(i,s.key)):Se()}function yA(i,e){const t=e.key,s=t.path.canonicalString();i.Oa.get(t)||i.xa.has(s)||(ue("SyncEngine","New document in limbo: "+t),i.xa.add(s),$d(i))}function $d(i){for(;i.xa.size>0&&i.Oa.size<i.maxConcurrentLimboResolutions;){const e=i.xa.values().next().value;i.xa.delete(e);const t=new pe(Ye.fromString(e)),s=i.qa.next();i.Na.set(s,new oA(t)),i.Oa=i.Oa.insert(t,s),v_(i.remoteStore,new ai(tr(Cd(t.path)),s,"TargetPurposeLimboResolution",Td.oe))}}async function Ua(i,e,t){const s=Re(i),o=[],u=[],h=[];s.Fa.isEmpty()||(s.Fa.forEach(((m,y)=>{h.push(s.Ka(y,e,t).then((v=>{var E;if((v||t)&&s.isPrimaryClient){const k=v?!v.fromCache:(E=t?.targetChanges.get(y.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(y.targetId,k?"current":"not-current")}if(v){o.push(v);const k=Ld.Wi(y.targetId,v);u.push(k)}})))})),await Promise.all(h),s.Ca.d_(o),await(async function(y,v){const E=Re(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(k=>G.forEach(v,(M=>G.forEach(M.$i,(z=>E.persistence.referenceDelegate.addReference(k,M.targetId,z))).next((()=>G.forEach(M.Ui,(z=>E.persistence.referenceDelegate.removeReference(k,M.targetId,z)))))))))}catch(k){if(!Oa(k))throw k;ue("LocalStore","Failed to update sequence numbers: "+k)}for(const k of v){const M=k.targetId;if(!k.fromCache){const z=E.os.get(M),Y=z.snapshotVersion,J=z.withLastLimboFreeSnapshotVersion(Y);E.os=E.os.insert(M,J)}}})(s.localStore,u))}async function _A(i,e){const t=Re(i);if(!t.currentUser.isEqual(e)){ue("SyncEngine","User change. New user:",e.toKey());const s=await m_(t.localStore,e);t.currentUser=e,(function(u,h){u.ka.forEach((m=>{m.forEach((y=>{y.reject(new ce(H.CANCELLED,h))}))})),u.ka.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Ua(t,s.hs)}}function vA(i,e){const t=Re(i),s=t.Na.get(e);if(s&&s.va)return De().add(s.key);{let o=De();const u=t.Ma.get(e);if(!u)return o;for(const h of u){const m=t.Fa.get(h);o=o.unionWith(m.view.Va)}return o}}function D_(i){const e=Re(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=C_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pA.bind(null,e),e.Ca.d_=tA.bind(null,e.eventManager),e.Ca.$a=nA.bind(null,e.eventManager),e}function wA(i){const e=Re(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gA.bind(null,e),e}class Du{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Wu(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return IS(this.persistence,new ES,e.initialUser,this.serializer)}Ga(e){return new _S(Od.Zr,this.serializer)}Wa(e){return new NS}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Du.provider={build:()=>new Du};class ld{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>yg(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=_A.bind(null,this.syncEngine),await YS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new JS})()}createDatastore(e){const t=Wu(e.databaseInfo.databaseId),s=(function(u){return new OS(u)})(e.databaseInfo);return(function(u,h,m,y){return new bS(u,h,m,y)})(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,o,u,h,m){return new US(s,o,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(t=>yg(this.syncEngine,t,0)),(function(){return dg.D()?new dg:new xS})())}createSyncEngine(e,t){return(function(o,u,h,m,y,v,E){const k=new aA(o,u,h,m,y,v);return E&&(k.Qa=!0),k})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(o){const u=Re(o);ue("RemoteStore","RemoteStore shutting down."),u.L_.add(5),await Fa(u),u.k_.shutdown(),u.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}ld.provider={build:()=>new ld};class EA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Pr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}class TA{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=jt.UNAUTHENTICATED,this.clientId=Ly.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{ue("FirestoreClient","Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(ue("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ki;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=zd(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Fh(i,e){i.asyncQueue.verifyOperationInProgress(),ue("FirestoreClient","Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await m_(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function vg(i,e){i.asyncQueue.verifyOperationInProgress();const t=await IA(i);ue("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener((s=>fg(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>fg(e.remoteStore,o))),i._onlineComponents=e}async function IA(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ue("FirestoreClient","Using user provided OfflineComponentProvider");try{await Fh(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===H.FAILED_PRECONDITION||o.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;to("Error using user provided cache. Falling back to memory cache: "+t),await Fh(i,new Du)}}else ue("FirestoreClient","Using default OfflineComponentProvider"),await Fh(i,new Du);return i._offlineComponents}async function V_(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ue("FirestoreClient","Using user provided OnlineComponentProvider"),await vg(i,i._uninitializedComponentsProvider._online)):(ue("FirestoreClient","Using default OnlineComponentProvider"),await vg(i,new ld))),i._onlineComponents}function SA(i){return V_(i).then((e=>e.syncEngine))}async function wg(i){const e=await V_(i),t=e.eventManager;return t.onListen=lA.bind(null,e.syncEngine),t.onUnlisten=hA.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=uA.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=dA.bind(null,e.syncEngine),t}function O_(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const Eg=new Map;function L_(i,e,t){if(!t)throw new ce(H.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function AA(i,e,t,s){if(e===!0&&s===!0)throw new ce(H.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function Tg(i){if(!pe.isDocumentKey(i))throw new ce(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Ig(i){if(pe.isDocumentKey(i))throw new ce(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Qu(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Se()}function Zs(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ce(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Qu(i);throw new ce(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}class Sg{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ce(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ce(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}AA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=O_((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),(function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ce(H.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ce(H.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ce(H.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yu{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Sg({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Sg(e),e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new zT;switch(s.type){case"firstParty":return new HT(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ce(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=Eg.get(t);s&&(ue("ComponentProvider","Removing Datastore"),Eg.delete(t),s.terminate())})(this),Promise.resolve()}}function RA(i,e,t,s={}){var o;const u=(i=Zs(i,Yu))._getSettings(),h=`${e}:${t}`;if(u.host!=="firestore.googleapis.com"&&u.host!==h&&to("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},u),{host:h,ssl:!1})),s.mockUserToken){let m,y;if(typeof s.mockUserToken=="string")m=s.mockUserToken,y=jt.MOCK_USER;else{m=g0(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const v=s.mockUserToken.sub||s.mockUserToken.user_id;if(!v)throw new ce(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new jt(v)}i._authCredentials=new BT(new Oy(m,y))}}class mo{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new mo(this.firestore,e,this._query)}}class nn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new di(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new nn(this.firestore,e,this._key)}}class di extends mo{constructor(e,t,s){super(e,t,Cd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new nn(this.firestore,null,new pe(e))}withConverter(e){return new di(this.firestore,e,this._path)}}function Ag(i,e,...t){if(i=rn(i),L_("collection","path",e),i instanceof Yu){const s=Ye.fromString(e,...t);return Ig(s),new di(i,null,s)}{if(!(i instanceof nn||i instanceof di))throw new ce(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Ye.fromString(e,...t));return Ig(s),new di(i.firestore,null,s)}}function kA(i,e,...t){if(i=rn(i),arguments.length===1&&(e=Ly.newId()),L_("doc","path",e),i instanceof Yu){const s=Ye.fromString(e,...t);return Tg(s),new nn(i,null,new pe(s))}{if(!(i instanceof nn||i instanceof di))throw new ce(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Ye.fromString(e,...t));return Tg(s),new nn(i.firestore,i instanceof di?i.converter:null,new pe(s))}}class Rg{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new y_(this,"async_queue_retry"),this.Vu=()=>{const s=bh();s&&ue("AsyncQueue","Visibility state changed to "+s.visibilityState),this.t_.jo()},this.mu=e;const t=bh();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=bh();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const t=new Ki;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Oa(e))throw e;ue("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const t=this.mu.then((()=>(this.du=!0,e().catch((s=>{this.Eu=s,this.du=!1;const o=(function(h){let m=h.message||"";return h.stack&&(m=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),m})(s);throw Pr("INTERNAL UNHANDLED ERROR: ",o),s})).then((s=>(this.du=!1,s))))));return this.mu=t,t}enqueueAfterDelay(e,t,s){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const o=jd.createAndSchedule(this,e,t,s,(u=>this.yu(u)));return this.Tu.push(o),o}fu(){this.Eu&&Se()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}function kg(i){return(function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(i,["next","error","complete"])}class Vu extends Yu{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new Rg,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Rg(e),this._firestoreClient=void 0,await e}}}function CA(i,e){const t=typeof i=="object"?i:Wg(),s=typeof i=="string"?i:"(default)",o=dd(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=p0("firestore");u&&RA(o,...u)}return o}function M_(i){if(i._terminated)throw new ce(H.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||PA(i),i._firestoreClient}function PA(i){var e,t,s;const o=i._freezeSettings(),u=(function(m,y,v,E){return new iI(m,y,v,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,O_(E.experimentalLongPollingOptions),E.useFetchStreams)})(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new TA(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&(function(m){const y=m?._online.build();return{_offline:m?._offline.build(y),_online:y}})(i._componentsProvider))}class ao{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ao(Ot.fromBase64String(e))}catch(t){throw new ce(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ao(Ot.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class qd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ce(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class b_{constructor(e){this._methodName=e}}class Hd{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ce(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ce(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}}class Wd{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}}const NA=/^__.*__$/;class xA{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Zi(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ma(e,this.data,t,this.fieldTransforms)}}function F_(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se()}}class Kd{constructor(e,t,s,o,u,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.vu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Kd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Fu({path:s,xu:!1});return o.Ou(e),o}Nu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Fu({path:s,xu:!1});return o.vu(),o}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Ou(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(F_(this.Cu)&&NA.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class DA{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Wu(e)}Qu(e,t,s,o=!1){return new Kd({Cu:e,methodName:t,qu:s,path:Dt.emptyPath(),xu:!1,ku:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function U_(i){const e=i._freezeSettings(),t=Wu(i._databaseId);return new DA(i._databaseId,!!e.ignoreUndefinedProperties,t)}function VA(i,e,t,s,o,u={}){const h=i.Qu(u.merge||u.mergeFields?2:0,e,t,o);B_("Data must be an object, but it was:",h,s);const m=j_(s,h);let y,v;if(u.merge)y=new jn(h.fieldMask),v=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const k of u.mergeFields){const M=LA(e,k,t);if(!h.contains(M))throw new ce(H.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);bA(E,M)||E.push(M)}y=new jn(E),v=h.fieldTransforms.filter((k=>y.covers(k.field)))}else y=null,v=h.fieldTransforms;return new xA(new Sn(m),y,v)}function OA(i,e,t,s=!1){return Gd(t,i.Qu(s?4:3,e))}function Gd(i,e){if(z_(i=rn(i)))return B_("Unsupported field value:",e,i),j_(i,e);if(i instanceof b_)return(function(s,o){if(!F_(o.Cu))throw o.Bu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Bu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const m of s){let y=Gd(m,o.Lu(h));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),h++}return{arrayValue:{values:u}}})(i,e)}return(function(s,o){if((s=rn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return RI(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=pt.fromDate(s);return{timestampValue:Nu(o.serializer,u)}}if(s instanceof pt){const u=new pt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Nu(o.serializer,u)}}if(s instanceof Hd)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ao)return{bytesValue:l_(o.serializer,s._byteString)};if(s instanceof nn){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Bu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Dd(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Wd)return(function(h,m){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:h.toArray().map((y=>{if(typeof y!="number")throw m.Bu("VectorValues must only contain numeric values.");return Pd(m.serializer,y)}))}}}}}})(s,o);throw o.Bu(`Unsupported field value: ${Qu(s)}`)})(i,e)}function j_(i,e){const t={};return My(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ho(i,((s,o)=>{const u=Gd(o,e.Mu(s));u!=null&&(t[s]=u)})),{mapValue:{fields:t}}}function z_(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof pt||i instanceof Hd||i instanceof ao||i instanceof nn||i instanceof b_||i instanceof Wd)}function B_(i,e,t){if(!z_(t)||!(function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)})(t)){const s=Qu(t);throw s==="an object"?e.Bu(i+" a custom object"):e.Bu(i+" "+s)}}function LA(i,e,t){if((e=rn(e))instanceof qd)return e._internalPath;if(typeof e=="string")return $_(i,e);throw Ou("Field path arguments must be of type string or ",i,!1,void 0,t)}const MA=new RegExp("[~\\*/\\[\\]]");function $_(i,e,t){if(e.search(MA)>=0)throw Ou(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new qd(...e.split("."))._internalPath}catch{throw Ou(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Ou(i,e,t,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(u||h)&&(y+=" (found",u&&(y+=` in field ${s}`),h&&(y+=` in document ${o}`),y+=")"),new ce(H.INVALID_ARGUMENT,m+i+y)}function bA(i,e){return i.some((t=>t.isEqual(e)))}class q_{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new nn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new FA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(H_("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class FA extends q_{data(){return super.data()}}function H_(i,e){return typeof e=="string"?$_(i,e):e instanceof qd?e._internalPath:e._delegate._internalPath}function UA(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ce(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Qd{}class jA extends Qd{}function zA(i,e,...t){let s=[];e instanceof Qd&&s.push(e),s=s.concat(t),(function(u){const h=u.filter((y=>y instanceof Xd)).length,m=u.filter((y=>y instanceof Yd)).length;if(h>1||h>0&&m>0)throw new ce(H.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class Yd extends jA{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Yd(e,t,s)}_apply(e){const t=this._parse(e);return W_(e._query,t),new mo(e.firestore,e.converter,Zh(e._query,t))}_parse(e){const t=U_(e.firestore);return(function(u,h,m,y,v,E,k){let M;if(v.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ce(H.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){Pg(k,E);const z=[];for(const Y of k)z.push(Cg(y,u,Y));M={arrayValue:{values:z}}}else M=Cg(y,u,k)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||Pg(k,E),M=OA(m,h,k,E==="in"||E==="not-in");return ft.create(v,E,M)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class Xd extends Qd{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Xd(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:zn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,u){let h=o;const m=u.getFlattenedFilters();for(const y of m)W_(h,y),h=Zh(h,y)})(e._query,t),new mo(e.firestore,e.converter,Zh(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Cg(i,e,t){if(typeof(t=rn(t))=="string"){if(t==="")throw new ce(H.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Hy(e)&&t.indexOf("/")!==-1)throw new ce(H.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Ye.fromString(t));if(!pe.isDocumentKey(s))throw new ce(H.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Km(i,new pe(s))}if(t instanceof nn)return Km(i,t._key);throw new ce(H.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qu(t)}.`)}function Pg(i,e){if(!Array.isArray(i)||i.length===0)throw new ce(H.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function W_(i,e){const t=(function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ce(H.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(H.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class BA{convertValue(e,t="none"){switch(Ji(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Xi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Se()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return ho(e,((o,u)=>{s[o]=this.convertValue(u,t)})),s}convertVectorValue(e){var t,s,o;const u=(o=(s=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map((h=>ot(h.doubleValue)));return new Wd(u)}convertGeoPoint(e){return new Hd(ot(e.latitude),ot(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Sd(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Ia(e));default:return null}}convertTimestamp(e){const t=mi(e);return new pt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Ye.fromString(e);Be(p_(s));const o=new Sa(s.get(1),s.get(3)),u=new pe(s.popFirst(5));return o.isEqual(t)||Pr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function $A(i,e,t){let s;return s=i?i.toFirestore(e):e,s}class pa{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class K_ extends q_{constructor(e,t,s,o,u,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new gu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(H_("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class gu extends K_{data(e={}){return super.data(e)}}class qA{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new pa(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new gu(this._firestore,this._userDataWriter,s.key,s,new pa(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ce(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const y=new gu(o._firestore,o._userDataWriter,m.doc.key,m.doc,new pa(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const y=new gu(o._firestore,o._userDataWriter,m.doc.key,m.doc,new pa(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,E=-1;return m.type!==0&&(v=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:HA(m.type),doc:y,oldIndex:v,newIndex:E}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function HA(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se()}}class G_ extends BA{constructor(e){super(),this.firestore=e}convertBytes(e){return new ao(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new nn(this.firestore,null,t)}}function WA(i,e,t){i=Zs(i,nn);const s=Zs(i.firestore,Vu),o=$A(i.converter,e);return GA(s,[VA(U_(s),"setDoc",i._key,o,i.converter!==null,t).toMutation(i._key,Ar.none())])}function KA(i,...e){var t,s,o;i=rn(i);let u={includeMetadataChanges:!1,source:"default"},h=0;typeof e[h]!="object"||kg(e[h])||(u=e[h],h++);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(kg(e[h])){const k=e[h];e[h]=(t=k.next)===null||t===void 0?void 0:t.bind(k),e[h+1]=(s=k.error)===null||s===void 0?void 0:s.bind(k),e[h+2]=(o=k.complete)===null||o===void 0?void 0:o.bind(k)}let y,v,E;if(i instanceof nn)v=Zs(i.firestore,Vu),E=Cd(i._key.path),y={next:k=>{e[h]&&e[h](QA(v,i,k))},error:e[h+1],complete:e[h+2]};else{const k=Zs(i,mo);v=Zs(k.firestore,Vu),E=k._query;const M=new G_(v);y={next:z=>{e[h]&&e[h](new qA(v,M,k,z))},error:e[h+1],complete:e[h+2]},UA(i._query)}return(function(M,z,Y,J){const q=new EA(J),Ee=new rA(z,q,Y);return M.asyncQueue.enqueueAndForget((async()=>ZS(await wg(M),Ee))),()=>{q.Za(),M.asyncQueue.enqueueAndForget((async()=>eA(await wg(M),Ee)))}})(M_(v),E,m,y)}function GA(i,e){return(function(s,o){const u=new Ki;return s.asyncQueue.enqueueAndForget((async()=>fA(await SA(s),o,u))),u.promise})(M_(i),e)}function QA(i,e,t){const s=t.docs.get(e._key),o=new G_(i);return new K_(i,o,e._key,s,new pa(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){co=o})(lo),eo(new Gi("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new Vu(new $T(s.getProvider("auth-internal")),new KT(s.getProvider("app-check-internal")),(function(v,E){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ce(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sa(v.options.projectId,E)})(h,o),h);return u=Object.assign({useFetchStreams:t},u),m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),ci(Bm,"4.7.3",e),ci(Bm,"4.7.3","esm2017")})();var YA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const XA=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const sn=(i,e)=>{const t=dt.forwardRef(({color:s="currentColor",size:o=24,strokeWidth:u=2,absoluteStrokeWidth:h,className:m="",children:y,...v},E)=>dt.createElement("svg",{ref:E,...YA,width:o,height:o,stroke:s,strokeWidth:h?Number(u)*24/Number(o):u,className:["lucide",`lucide-${XA(i)}`,m].join(" "),...v},[...e.map(([k,M])=>dt.createElement(k,M)),...Array.isArray(y)?y:[y]]));return t.displayName=`${i}`,t};const JA=sn("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const Ng=sn("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);const xg=sn("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);const Dg=sn("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const ZA=sn("Clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);const e1=sn("Factory",[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]]);const t1=sn("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);const n1=sn("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);const Vg=sn("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);const r1=sn("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);const i1=sn("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const s1=sn("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const o1=sn("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const a1=sn("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),l1="default-app-id",Og={apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:""},u1=null,c1=i=>new Promise((e,t)=>{const s=new FileReader;s.readAsDataURL(i),s.onload=()=>e(s.result),s.onerror=o=>t(o)}),h1=async(i,e=5,t=1e3)=>{for(let s=0;s<e;s++)try{return await i()}catch(o){if(s===e-1)throw o;console.warn(`Attempt ${s+1} failed. Retrying in ${t*2**s}ms...`,o),await new Promise(u=>setTimeout(u,t*2**s))}},Uh=["S","M","L","XL","XXL","XXXL"],Lg=["35","36","37","38","39","40","41","42","43","44"],d1=["Amarillo","Anaranjado","Azulino","Azul Marino","Celeste","ENTRENAMIENTO"],f1=["PRODUCCIN","ARTES GRFICAS","MANTENIMIENTO","CONTROL DE CALIDAD","SANEAMIENTO","RECURSOS HUMANOS","REAS ADMINISTRATIVAS","Externo (proveedores, visitas)"],Mg=[{key:"RENOVACION_3M",label:"Renovacin de 3 meses",requiresPhoto:!1},{key:"RENOVACION_ANUAL",label:"Renovacin anual",requiresPhoto:!1},{key:"SEGUNDO_JUEGO_ENTRENAMIENTO",label:"Segundo juego de entrenamiento",requiresPhoto:!1},{key:"ACCIDENTE_DESGASTE",label:"Cambio por accidentes o desgaste",requiresPhoto:!0}],au={polos:{label:"Polos",sizes:Uh,category:"prendas"},pantalon:{label:"Pantaln de Trabajo",sizes:Uh,category:"prendas"},chaqueta:{label:"Chaqueta",sizes:Uh,category:"prendas"},tocas:{label:"Tocas",sizes:["nica"],category:"prendas"},mecanico:{label:"Zapato Mecnico",sizes:Lg,category:"zapatos"},dielectrico:{label:"Zapato Dielctrico",sizes:Lg,category:"zapatos"}};function p1(){const[i,e]=dt.useState(null),[t,s]=dt.useState(null),[o,u]=dt.useState(null),[h,m]=dt.useState(!1),[y,v]=dt.useState(!0),[E,k]=dt.useState(""),M={employeeName:"",area:"",reasonKey:"RENOVACION_3M",damageNotes:"",photoFile:null,items:{polos:{size:"",quantity:0,color:""},pantalon:{size:"",quantity:0,color:""},chaqueta:{size:"",quantity:0,color:""},tocas:{size:"nica",quantity:0,color:""},mecanico:{size:"",quantity:0},dielectrico:{size:"",quantity:0}}},[z,Y]=dt.useState(M),[J,q]=dt.useState(!1),[Ee,ye]=dt.useState(!1),[ve,Ce]=dt.useState([]),[qe,Pe]=dt.useState(!1),[P,I]=dt.useState("VISUALIZATION"),A=Mg.find(B=>B.key===z.reasonKey),C=A?A.requiresPhoto:!1,x=A?A.label:"";dt.useEffect(()=>{const B=async()=>{try{const te=Hg(Og),se=CA(te),ne=UT(te);e(se),s(ne);const _e=CE(ne,async Te=>{Te?(u(Te.uid),m(!0),v(!1)):u1||await TE(ne)});return()=>_e()}catch(te){console.error("Error al inicializar Firebase:",te),k("Error al iniciar la aplicacin."),v(!1)}};Object.keys(Og).length>0?B():v(!1)},[]);const V=dt.useCallback(()=>`artifacts/${l1}/public/data/uniform_deliveries`,[]);dt.useEffect(()=>{if(!(!h||!i||!o))try{const B=zA(Ag(i,V())),te=KA(B,se=>{const ne=[];se.forEach(_e=>{ne.push({id:_e.id,..._e.data()})}),ne.sort((_e,Te)=>Te.timestamp.toMillis()-_e.timestamp.toMillis()),Ce(ne)},se=>{console.error("Error al obtener entregas:",se)});return()=>te()}catch(B){console.error("Error al configurar el listener de entregas:",B)}},[h,i,o,V]);const Ze=dt.useCallback(B=>{const te={},se={},ne={},_e={};let Te=0;return B.forEach(xe=>{te[xe.area]=(te[xe.area]||0)+1,_e[xe.reason]=(_e[xe.reason]||0)+1,xe.items.forEach(ke=>{const $t=ke.quantity;Te+=$t,se[ke.item]=(se[ke.item]||0)+$t,ke.category==="prendas"&&ke.color&&ke.color!=="N/A"&&(ne[ke.color]=(ne[ke.color]||0)+$t)})}),{areaCounts:te,itemCounts:se,colorCounts:ne,reasonCounts:_e,totalItems:Te}},[])(ve),at=B=>{const{name:te,value:se}=B.target;Y(ne=>({...ne,[te]:se}))},lt=(B,te,se)=>{Y(ne=>({...ne,items:{...ne.items,[B]:{...ne.items[B],[te]:se}}}))},je=B=>{const te=B.target.files[0];Y(te?se=>({...se,photoFile:te}):se=>({...se,photoFile:null}))},ee=async B=>{if(B.preventDefault(),!(J||!i)){if(!z.employeeName){k("Por favor, complete el campo 'Nombre Completo', es obligatorio."),ye(!0);return}if(!z.area){k("Por favor, complete el campo 'rea', es obligatorio para la identificacin."),ye(!0);return}q(!0),k("");try{let te=null;z.photoFile&&(te=await c1(z.photoFile));const se=[];let ne=!1;if(Object.entries(z.items).forEach(([xe,ke])=>{const $t=parseInt(ke.quantity,10);if($t>0){const At=au[xe],fn=xe==="tocas";!fn&&!ke.size&&(ne=`Debe seleccionar la Talla para ${At.label}.`),At.category==="prendas"&&!ke.color&&!ne&&(ne=`Debe seleccionar el Color para ${At.label}.`),ne||se.push({item:At.label,size:fn?"nica":ke.size,color:At.category==="prendas"?ke.color:"N/A",quantity:$t,category:At.category,status:C?"Cambio por Desgaste/Dao":x})}}),ne){k(ne),ye(!0),q(!1);return}if(se.length===0){k("Debe seleccionar al menos un artculo (Prenda o Zapato) para la solicitud."),ye(!0),q(!1);return}if(C&&!z.photoFile){k("Para el motivo de 'Cambio por accidentes o desgaste', debe adjuntar obligatoriamente una foto de evidencia."),ye(!0),q(!1);return}const _e={userId:o,employeeName:z.employeeName,area:z.area,reason:x,reasonKey:z.reasonKey,items:se,damageNotes:C?"Evidencia fotogrfica adjunta":"",photoBase64:te,timestamp:pt.now()},Te=kA(Ag(i,V()));await h1(()=>WA(Te,_e)),k(`xito! Solicitud por "${x}" enviada correctamente para ${z.employeeName} (${z.area}).`),ye(!0),Y(M),document.getElementById("photo-input").value=""}catch(te){console.error("Error al enviar el formulario:",te),k("Error al guardar los datos. Intente de nuevo."),ye(!0)}finally{q(!1)}}},fe=({label:B,value:te,max:se,unit:ne="",color:_e})=>{const Te=se>0?te/se*100:0,xe=_e||(B==="ENTRENAMIENTO"?"bg-yellow-500":"bg-sky-500");return U.jsxs("div",{className:"mb-4",children:[U.jsxs("div",{className:"flex justify-between items-center mb-1",children:[U.jsx("span",{className:"text-sm font-medium text-gray-700 truncate",children:B}),U.jsxs("span",{className:"text-xs font-bold text-gray-900",children:[te," ",ne]})]}),U.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4",children:U.jsx("div",{className:`h-4 rounded-full transition-all duration-700 ${xe}`,style:{width:`${Te}%`},title:`${B}: ${te} ${ne}`})})]})},re=({stats:B,data:te})=>{const{areaCounts:se,colorCounts:ne,totalItems:_e}=B;if(_e===0)return U.jsx("div",{className:"text-center py-8 text-gray-500",children:"An no hay suficientes datos para generar visualizaciones."});const Te=Object.entries(se).sort(([,$e],[,Rt])=>Rt-$e),xe=Object.entries(ne).sort(([,$e],[,Rt])=>Rt-$e),ke=Object.entries(B.reasonCounts).sort(([,$e],[,Rt])=>Rt-$e),$t=Te.length>0?Te[0][1]:1,At=xe.length>0?xe[0][1]:1,fn=ke.length>0?ke[0][1]:1;return U.jsxs("div",{className:"space-y-8",children:[U.jsxs("h2",{className:"text-2xl font-bold text-gray-900 border-b pb-3 mb-4",children:[U.jsx(Ng,{className:"inline-block w-6 h-6 mr-2 text-sky-600"})," Resumen y Anlisis de Datos"]}),U.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Mtricas Globales"}),U.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[U.jsxs("div",{className:"p-4 bg-sky-100 rounded-xl shadow-sm",children:[U.jsx("p",{className:"text-3xl font-extrabold text-sky-800",children:te.length}),U.jsx("p",{className:"text-sm text-sky-600",children:"Solicitudes Registradas"})]}),U.jsxs("div",{className:"p-4 bg-gray-100 rounded-xl shadow-sm",children:[U.jsx("p",{className:"text-3xl font-extrabold text-gray-800",children:_e}),U.jsx("p",{className:"text-sm text-gray-600",children:"Total Artculos Solicitados"})]})]}),U.jsxs("div",{children:[U.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-4 mt-6",children:"Motivos de Solicitud"}),U.jsx("div",{className:"p-4 bg-white border border-gray-200 rounded-xl shadow-md",children:ke.map(([$e,Rt])=>U.jsx(fe,{label:$e,value:Rt,max:fn,unit:"Solicitudes",color:$e.includes("accidente")?"bg-red-500":"bg-green-500"},$e))})]}),U.jsxs("div",{children:[U.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-4 mt-6",children:"Distribucin de Solicitudes por rea"}),U.jsx("div",{className:"p-4 bg-white border border-gray-200 rounded-xl shadow-md",children:Te.map(([$e,Rt])=>U.jsx(fe,{label:$e,value:Rt,max:$t,unit:"Solicitudes"},$e))})]}),U.jsxs("div",{children:[U.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-4 mt-6",children:"Distribucin de Prendas por Color (Unidades)"}),U.jsx("div",{className:"p-4 bg-white border border-gray-200 rounded-xl shadow-md",children:xe.map(([$e,Rt])=>U.jsx(fe,{label:$e,value:Rt,max:At,unit:"Unidades",color:$e==="Amarillo"?"bg-yellow-400":$e==="Anaranjado"?"bg-orange-500":$e==="Azulino"?"bg-blue-600":$e==="Azul Marino"?"bg-indigo-800":$e==="Celeste"?"bg-cyan-400":$e==="ENTRENAMIENTO"?"bg-lime-500":"bg-gray-400"},$e))})]})]})},D=({itemKey:B,label:te,sizes:se})=>{const ne=z.items[B],Te=au[B].category==="prendas",xe=B==="tocas";return U.jsxs("div",{className:`p-4 rounded-xl border-2 transition-all ${ne.quantity>0?"border-sky-500 bg-sky-50 shadow-md":"border-gray-200 bg-white hover:border-sky-300"}`,children:[U.jsx("h3",{className:"text-md font-semibold text-gray-800",children:te}),U.jsxs("div",{className:"mt-2 grid grid-cols-3 gap-2",children:[U.jsxs("div",{className:`${Te?xe?"col-span-2":"col-span-1":"col-span-2"}`,children:[U.jsx("label",{htmlFor:`${B}-qty`,className:"block text-xs font-medium text-gray-600",children:"Cant."}),U.jsx("input",{id:`${B}-qty`,type:"number",min:"0",max:"10",className:"mt-1 w-full p-2 border border-gray-300 rounded-lg shadow-sm focus:ring-sky-500 focus:border-sky-500 text-center text-sm",value:ne.quantity,onChange:ke=>lt(B,"quantity",ke.target.value)})]}),!xe&&U.jsxs("div",{className:"col-span-1",children:[U.jsxs("label",{htmlFor:`${B}-size`,className:"block text-xs font-medium text-gray-600",children:["Talla ",ne.quantity>0&&ne.size===""&&U.jsx("span",{className:"text-red-500",children:"*"})]}),U.jsxs("select",{id:`${B}-size`,className:"mt-1 w-full p-2 border border-gray-300 rounded-lg shadow-sm focus:ring-sky-500 focus:border-sky-500 bg-white text-sm",value:ne.size,onChange:ke=>lt(B,"size",ke.target.value),disabled:ne.quantity===0,children:[U.jsx("option",{value:"",children:"Sel."}),se.map(ke=>U.jsx("option",{value:ke,children:ke},ke))]})]}),Te&&U.jsxs("div",{className:"col-span-1",children:[U.jsxs("label",{htmlFor:`${B}-color`,className:"block text-xs font-medium text-gray-600",children:["Color ",ne.quantity>0&&ne.color===""&&U.jsx("span",{className:"text-red-500",children:"*"})]}),U.jsxs("select",{id:`${B}-color`,className:"mt-1 w-full p-2 border border-gray-300 rounded-lg shadow-sm focus:ring-sky-500 focus:border-sky-500 bg-white text-sm",value:ne.color,onChange:ke=>lt(B,"color",ke.target.value),disabled:ne.quantity===0,children:[U.jsx("option",{value:"",children:"Sel."}),d1.map(ke=>U.jsx("option",{value:ke,children:ke},ke))]})]})]})]})},$=({message:B,onClose:te})=>U.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center p-4 z-50 transition-opacity duration-300",children:U.jsx("div",{className:"bg-white rounded-xl p-6 w-full max-w-sm shadow-2xl transform scale-100 transition-transform duration-300",children:U.jsxs("div",{className:"flex flex-col items-center",children:[B.includes("xito")?U.jsx(Dg,{className:"w-12 h-12 text-sky-500 mb-4"}):U.jsx(JA,{className:"w-12 h-12 text-red-500 mb-4"}),U.jsx("h3",{className:"text-xl font-bold text-gray-900 text-center mb-4",children:B.includes("xito")?"Operacin Exitosa":"Atencin Requerida"}),U.jsx("p",{className:"text-gray-600 text-center mb-6",children:B}),U.jsx("button",{onClick:te,className:"w-full bg-sky-600 text-white font-bold py-3 px-4 rounded-xl hover:bg-sky-700 transition duration-150 shadow-md",children:"Aceptar"})]})})}),de=({data:B})=>{const te=B.items.map(se=>`${se.item} (T: ${se.size}, C: ${se.quantity}) - ${se.color!=="N/A"?se.color:""}`.trim()).join(" | ");return U.jsxs("div",{className:"bg-white p-4 mb-3 border border-gray-200 rounded-lg shadow-sm",children:[U.jsxs("div",{className:"flex justify-between items-start text-sm border-b pb-2 mb-2",children:[U.jsxs("div",{children:[U.jsx("p",{className:"font-bold text-lg text-sky-700",children:B.area}),U.jsxs("p",{className:"text-gray-500 text-xs",children:["Motivo: ",B.reason]})]}),U.jsx("span",{className:`px-3 py-1 text-xs font-semibold rounded-full ${B.reasonKey==="ACCIDENTE_DESGASTE"?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:B.reason})]}),B.employeeName&&U.jsxs("p",{className:"text-sm text-gray-700 mt-2",children:[U.jsx("span",{className:"font-semibold text-sky-700",children:"Nombre:"})," ",B.employeeName]}),U.jsxs("p",{className:"text-sm text-gray-700 mt-2",children:[U.jsx("span",{className:"font-semibold",children:"Artculos Solicitados:"})," ",te]}),B.damageNotes&&U.jsxs("p",{className:"text-sm text-red-600 mt-1",children:[U.jsx("span",{className:"font-semibold",children:"Notas:"})," ",B.damageNotes]}),B.photoBase64&&U.jsxs("a",{href:B.photoBase64,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-sm text-sky-500 hover:text-sky-700 mt-2",children:[U.jsx(xg,{className:"w-4 h-4 mr-1"})," Ver Evidencia Adjunta"]}),U.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["Fecha: ",B.timestamp.toDate().toLocaleString()]})]})};return y?U.jsxs("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:[U.jsx(Vg,{className:"w-8 h-8 animate-spin text-sky-500"}),U.jsx("span",{className:"ml-3 text-lg text-gray-700",children:"Cargando aplicacin..."})]}):U.jsxs("div",{className:"min-h-screen bg-gray-50 p-4 sm:p-6 font-sans",children:[Ee&&U.jsx($,{message:E,onClose:()=>ye(!1)}),U.jsxs("header",{className:"mb-6 pb-4 border-b border-gray-200 flex justify-between items-center",children:[U.jsxs("div",{children:[U.jsxs("h1",{className:"text-3xl font-extrabold text-gray-900 tracking-tight",children:[U.jsx(e1,{className:"inline-block w-7 h-7 mr-2 text-sky-600"})," Solicitud de Uniformes"]}),U.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Usuario (ID): ",U.jsx("span",{className:"font-mono text-sky-500 text-xs",children:o||"Annimo"})]})]}),U.jsx("button",{onClick:()=>{Pe(B=>!B),qe||I("VISUALIZATION")},className:"bg-gray-200 text-gray-700 p-2 rounded-full shadow-md hover:bg-gray-300 transition",title:"Panel Administrador",children:U.jsx(o1,{className:"w-5 h-5"})})]}),U.jsx("div",{className:"max-w-xl mx-auto",children:qe?U.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-xl",children:[U.jsxs("div",{className:"flex border-b border-gray-200 mb-6",children:[U.jsxs("button",{onClick:()=>I("VISUALIZATION"),className:`flex-1 flex items-center justify-center p-3 text-sm font-semibold transition-colors duration-150 ${P==="VISUALIZATION"?"text-sky-600 border-b-2 border-sky-600":"text-gray-500 hover:text-sky-600"}`,children:[U.jsx(Ng,{className:"w-5 h-5 mr-1"})," Visualizacin de Datos"]}),U.jsxs("button",{onClick:()=>I("HISTORY"),className:`flex-1 flex items-center justify-center p-3 text-sm font-semibold transition-colors duration-150 ${P==="HISTORY"?"text-sky-600 border-b-2 border-sky-600":"text-gray-500 hover:text-sky-600"}`,children:[U.jsx(n1,{className:"w-5 h-5 mr-1"})," Historial (",ve.length,")"]})]}),U.jsxs("div",{className:"h-96 overflow-y-auto pr-2",children:[P==="VISUALIZATION"&&U.jsx(re,{stats:Ze,data:ve}),P==="HISTORY"&&(ve.length===0?U.jsx("p",{className:"text-gray-500 text-center py-10",children:"No hay registros de solicitudes an."}):ve.map(B=>U.jsx(de,{data:B},B.id)))]})]}):U.jsxs("form",{onSubmit:ee,className:"bg-white p-6 rounded-2xl shadow-xl space-y-6",children:[U.jsxs("div",{className:"space-y-4 p-4 border border-sky-300 rounded-xl bg-sky-50",children:[U.jsxs("h2",{className:"text-xl font-bold text-sky-800 flex items-center",children:[U.jsx(s1,{className:"w-5 h-5 mr-2"})," 1. Identificacin del Trabajador"]}),U.jsxs("div",{children:[U.jsx("label",{htmlFor:"employeeName",className:"block text-sm font-medium text-gray-700",children:"Nombre Completo (Obligatorio)"}),U.jsx("input",{type:"text",name:"employeeName",id:"employeeName",value:z.employeeName,onChange:at,required:!0,className:"mt-1 block w-full p-3 border-gray-300 rounded-lg shadow-sm focus:ring-sky-500 focus:border-sky-500",placeholder:"Ej: Juan Prez / Nombre del Proveedor"})]}),U.jsxs("div",{children:[U.jsx("label",{htmlFor:"area",className:"block text-sm font-medium text-gray-700",children:"rea (Requerido)"}),U.jsxs("select",{name:"area",id:"area",value:z.area,onChange:at,required:!0,className:"mt-1 block w-full p-3 border-gray-300 rounded-lg shadow-sm focus:ring-sky-500 focus:border-sky-500 bg-white",children:[U.jsx("option",{value:"",disabled:!0,children:"Seleccione el rea"}),f1.map(B=>U.jsx("option",{value:B,children:B},B))]})]})]}),U.jsxs("div",{className:"space-y-4 p-4 border border-gray-200 rounded-xl bg-white",children:[U.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center",children:[U.jsx(t1,{className:"w-5 h-5 mr-2 text-sky-600"})," 2. Prendas de Vestir (Polos, Pantalones, etc.)"]}),U.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(au).filter(([,B])=>B.category==="prendas").map(([B,te])=>U.jsx(D,{itemKey:B,label:te.label,sizes:te.sizes},B))})]}),U.jsxs("div",{className:"space-y-4 p-4 border border-gray-200 rounded-xl bg-white",children:[U.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center",children:[U.jsx(a1,{className:"w-5 h-5 mr-2 text-sky-600"})," 3. Zapatos (Mecnico o Dielctrico)"]}),U.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(au).filter(([,B])=>B.category==="zapatos").map(([B,te])=>U.jsx(D,{itemKey:B,label:te.label,sizes:te.sizes},B))})]}),U.jsxs("div",{className:"space-y-4 p-4 border border-sky-300 rounded-xl bg-sky-50",children:[U.jsxs("h2",{className:"text-xl font-bold text-sky-800 flex items-center",children:[U.jsx(r1,{className:"w-5 h-5 mr-2"})," 4. Motivo de Solicitud"]}),U.jsxs("div",{children:[U.jsx("label",{htmlFor:"reason",className:"block text-sm font-medium text-gray-700",children:"Seleccione el Motivo"}),U.jsx("select",{name:"reasonKey",id:"reason",value:z.reasonKey,onChange:at,className:"mt-1 block w-full p-3 border-gray-300 rounded-lg shadow-sm focus:ring-sky-500 focus:border-sky-500 bg-white",children:Mg.map(B=>U.jsx("option",{value:B.key,children:B.label},B.key))})]})]}),C&&U.jsxs("div",{className:"space-y-4 p-4 border border-red-400 rounded-xl bg-red-50",children:[U.jsxs("h2",{className:"text-xl font-bold text-red-800 flex items-center",children:[U.jsx(xg,{className:"w-5 h-5 mr-2"})," 5. Evidencia Fotogrfica (Obligatoria)"]}),U.jsxs("p",{className:"text-sm text-red-700",children:["Motivo: ",U.jsx("span",{className:"font-semibold",children:x}),". Por favor, adjunte una fotografa clara del uniforme o zapato daado/desgastado."]}),U.jsxs("div",{className:"flex items-center space-x-4",children:[U.jsx("input",{type:"file",id:"photo-input",accept:"image/*",onChange:je,className:"block w-full text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-white focus:outline-none file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-sky-50 file:text-sky-700 hover:file:bg-sky-100"}),z.photoFile&&U.jsx(Dg,{className:"w-6 h-6 text-green-500",title:"Foto cargada"}),!z.photoFile&&U.jsx(i1,{className:"w-6 h-6 text-gray-400",title:"Pendiente de carga"})]})]}),U.jsxs("button",{type:"submit",disabled:J||!h,className:"w-full flex items-center justify-center py-4 px-4 border border-transparent rounded-xl shadow-lg text-lg font-bold text-white bg-sky-600 hover:bg-sky-700 transition duration-300 disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-[1.01]",children:[J?U.jsx(Vg,{className:"w-6 h-6 animate-spin mr-2"}):U.jsx(ZA,{className:"w-6 h-6 mr-2"}),J?"Enviando Solicitud...":"Enviar Solicitud de Uniforme"]}),U.jsx("p",{className:"text-xs text-gray-500 text-center mt-4",children:"Toda la informacin es guardada en tiempo real en la base de datos Firestore."})]})})]})}function m1(){return U.jsx(p1,{})}o0.createRoot(document.getElementById("root")).render(U.jsx(dt.StrictMode,{children:U.jsx(m1,{})}));
